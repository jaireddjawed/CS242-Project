[{"title":"Who's Hiring? - March 2023","author":"jerf","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fijrn\/whos_hiring_march_2023\/","text":"This post will be stickied at the top of [r\/golang](https:\/\/www.reddit.com\/r\/golang\/) until the last week of March (more or less).\n\nPlease adhere to the following rules when posting:\n\n**Rules for individuals:**\n\n* Don't create top-level comments; those are for employers.\n* Feel free to reply to top-level comments with on-topic questions.\n* Meta-discussion should be reserved for the distinguished mod comment.\n\n**Rules for employers:**\n\n* To make a top-level comment you must be hiring directly, or a focused third party recruiter with **specific jobs with named companies** in hand. No recruiter fishing for contacts please.\n* The job must involve working with Go on a regular basis, even if not 100% of the time.\n* One top-level comment per employer. If you have multiple job openings, please consolidate their descriptions or mention them in replies to your own top-level comment.\n* Please base your comment on the following template:\n\n**COMPANY:** *\\[Company name; ideally link to your company's website or careers page.\\]*\n\n**TYPE:** *\\[Full time, part time, internship, contract, etc.\\]*\n\n**DESCRIPTION:** *\\[What does your team\/company do, and what are you using Go for? How much experience are you seeking and what seniority levels are you hiring for? The more details the better.\\]*\n\n**LOCATION:** *\\[Where are your office or offices located? If your workplace language isn't English-speaking, please specify it.\\]*\n\n**ESTIMATED COMPENSATION:** *\\[Please attempt to provide at least a rough expectation of wages\/salary.If you can't state a number for compensation, omit this field. Do not just say \"competitive\". Everyone says their compensation is \"competitive\".If you are listing several positions in the \"Description\" field above, then feel free to include this information inline above, and put \"See above\" in this field.If compensation is expected to be offset by other benefits, then please include that information here as well.\\]*\n\n**REMOTE:** *\\[Do you offer the option of working remotely? If so, do you require employees to live in certain areas or time zones?\\]*\n\n**VISA:** *\\[Does your company sponsor visas?\\]*\n\n**CONTACT:** *\\[How can someone get in touch with you?\\]*","upvote_ratio":0.97,"created_utc":1677705821.0},{"title":"Go doesn\u2019t do any magical stuff and I love that","author":"needna78","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11p9g1r\/go_doesnt_do_any_magical_stuff_and_i_love_that\/","text":"I love for simplicity. Everything you can trace in the code very easily. I used to work in Java and Spring ecosystem and Spring does a lot complicated magic behind the scene and it\u2019s very hard to debug them.\n\nGolang on that front is very straightforward and I like that about go, yes there are some bad parts to go but overall this one thing is what makes me always love go. What do others think?\n\nEDIT: the reason why I compared to Java + Spring is based on my experience in that ecosystem and I have seen Spring being the easiest thing that provide all the support to do heavy stuff easily in Java compared to the same thing if I have to do in Go they are provided by the standard lib or the tooling( I took a simple example of REST api and testing). But Spring comes with all that magic which is complicated and hard to debug. \n\nI could be wrong and many things have changed in Java\/ Kotlin and I got some very interesting points to think more thanks to everyone who participated \ud83e\udef6","upvote_ratio":0.87,"created_utc":1678609890.0},{"title":"Service Weaver (of Google): does it make sense","author":"guettli","url":"https:\/\/opensource.googleblog.com\/2023\/03\/introducing-service-weaver-framework-for-writing-distributed-applications.html","text":"I read this announcement, and ask myself: does it make sense?\n\nhttps:\/\/opensource.googleblog.com\/2023\/03\/introducing-service-weaver-framework-for-writing-distributed-applications.html\n\nI think if you are new to Go, something you should just use the standard library, and maybe tools like ko-build.\n\nAnd if you are in a big enterprise, then I guess the magic of weaver makes things more complicated.\n\nSo who is the target audience of this tool?\n\nDoes this tool make sense for you?","upvote_ratio":0.84,"created_utc":1678646224.0},{"title":"Help to find a terminal library","author":"GuaranteeSensitive28","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pq3sv\/help_to_find_a_terminal_library\/","text":"I want to help a friend learn to program, and I chose golang as a fairly convenient and relatively easy to learn language.  We want to make a roguelike application, essentially a game where the character controls the @ symbol in the console, etc.  Therefore, the question is to choose a library for the terminal that meets certain criteria: cross-platform, pure go, and the ability to use its API at a sufficiently low level.  Thank you for your attention.","upvote_ratio":1.0,"created_utc":1678655773.0},{"title":"Golang tech stack","author":"ProAtLife1","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ph4w4\/golang_tech_stack\/","text":"Hello everyone!\nI\u2019m starting out golang, and I\u2019m planing to create web applications, cli tools, and explore as much as I can. As for building web applications, what tech stack fits best with golang? MERN is really popular, but I just can\u2019t deal with JavaScript for backend so I\u2019m trying out golang instead (haven\u2019t tried front end JavaScript frameworks yet except for bootstrap and tailwind). What\u2019s the best front end framework to work with golang? With that, what\u2019s the best database to work with golang? For backend, any go framworks to make my life easier later on?(I first want to go no framework to really understand the proccess). Any other related discussion welcome :)","upvote_ratio":0.84,"created_utc":1678634684.0},{"title":"Question: Library for SSL certificate files?","author":"aphsa1234","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pv50f\/question_library_for_ssl_certificate_files\/","text":"I can inspect Pem formatted files. But is there a library to introspect contents of SSL certificate files(der, pkcs, p12, p7b, jceks, etc).","upvote_ratio":1.0,"created_utc":1678668058.0},{"title":"GoConsole: New Update! thanks all of you for your advice and your help.","author":"DrChaosFr","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pjt84\/goconsole_new_update_thanks_all_of_you_for_your\/","text":"Hello Go community,\n\nI wanted to share an update on my Go project, GoConsole. Yesterday, I introduced this lightweight module that simplifies the creation of command-line commands, and I was thrilled to receive feedback from the community.\n\nThanks to your suggestions, I've made several key improvements to GoConsole, including:\n\n* Adding a wrapper called go\\_console.Command to manage multiple go\\_console.Scripts\n* Automated generation of help messages for both the wrapper and scripts\n* Adding better validation of user input\n* Constantes are now all in Pascal case\n* go\\_console.Script now implements the io.Writer interface\n* Capability to configure via Type or fluent setter\n\nI'm particularly excited about the new wrapper, which provides more flexibility for managing multiple scripts. Additionally, the automated help message generation will make it easier for developers to understand how to use GoConsole.\n\nI'm grateful for the feedback and support of the Go community, and I hope these changes make GoConsole an even more useful tool for everyone. You can find the updated code on the project's GitHub repository: [**https:\/\/github.com\/DrSmithFr\/go-console**](https:\/\/github.com\/DrSmithFr\/go-console).\n\nThank you again for your help and support!","upvote_ratio":0.92,"created_utc":1678641061.0},{"title":"Attempting to open a browser (FireFox) as non-root user using exec.Cmd in Linux?","author":"ajm3232","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pvy92\/attempting_to_open_a_browser_firefox_as_nonroot\/","text":"Hi I'm working on a CLI project that's supposed to open the browser after it asks the service for a auth token via OpenVPN for 2-factor authentication.\n\nIdeally, I like the end user be able to run `sudo .\/aws-vpn-client` and it does the rest for em. Currently, this creates friction in some browsers since they will throw a fit if they run as root (for good reasons). Example being FireFox. I wrote the below code to hopefully get around this, but instead FireFox has trouble loading. Failing to load profile data or see's another instance of FireFox, but unable to talk to it.\n\nMy WIP function, that takes a generic URL and a username on the machine it would look up to use when executing the open function.\n\n```\nfunc openDefaultBrowser(url string, hostUser string) error {\n\n\tmyuser, err := user.Lookup(hostUser)\n\n\tif err != nil {\n\t\treturn err\n\t}\n\n\tuid, _ := strconv.Atoi(myuser.Uid)\n\tgid, _ := strconv.Atoi(myuser.Gid)\n\n\tlog.Info().Msgf(\"starting browser as user %s\", myuser.Username)\n\n\tvar cmd *exec.Cmd\n\n\tswitch runtime.GOOS {\n\tcase \"linux\":\n\t\tcmd = exec.Command(\"xdg-open\", url)\n\n\t\tcmd.Env = append(os.Environ(), \"USER=\"+myuser.Username, \"HOME=\"+myuser.HomeDir)\n\tcase \"windows\":\n\t\tcmd = exec.Command(\"rundll32\", \"url.dll,FileProtocolHandler\", url)\n\tcase \"darwin\":\n\t\tcmd = exec.Command(\"open\", url)\n\tdefault:\n\t\treturn fmt.Errorf(\"unsupported patform %s\", runtime.GOOS)\n\t}\n\n\tcmd.SysProcAttr = &syscall.SysProcAttr{}\n\tcmd.SysProcAttr.Setsid = true\n\tcmd.SysProcAttr.Foreground = false\n\tcmd.SysProcAttr.Credential = &syscall.Credential{Uid: uint32(uid), Gid: uint32(gid)}\n\tcmd.Stderr = os.Stdout\n\tcmd.Stdout = os.Stdout\n\n\treturn cmd.Start()\n}\n```\n\nI used to have require the service run as non-root and root password would prompt when it's needed to add the tunnel to the network interface. (sort of like yay package manager when it installs packages) This felt like a smart way to go, but feels like this creates a cumbersome user experience having to flop from CLI to web browser and back to CLI just to type the root password in to get last OpenVPN command to fire up. If this isn't easily\/safely achievable in Go I'll just print the URL into the console and or let the user decide how they want the flow to work. Thank you!\n\n\nMy project URL: https:\/\/github.com\/ajm113\/unix-aws-vpn-client","upvote_ratio":0.67,"created_utc":1678670198.0},{"title":"Logarithmotechnia - another go at Go dataframe","author":"dee_ru","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pkj9j\/logarithmotechnia_another_go_at_go_dataframe\/","text":"Hello!\n\nThe time has come for the inevitable: the coming of another Go dataframe. As we know, things are not great in this domain within Go ecosystem, so I've decided to have a go at this. \n\n[Logarithmotechnia on Githab](https:\/\/github.com\/tabellarius\/logarithmotechnia)\n\nSo, what are main differences and advantages?\n\nFirst, it is more R-influenced than Pandas-influence, be it for good or for bad.\n\nSecond, Logarithmotechnia supports proper NA-values but internally handles it differently than other dataframes. Hopefully, the better way (but I dunno...).\n\nThird, one of the main features is easy(ier) extensibility. The easiest way is to use Any type of Vector (Series in Pandas), which requires few callbacks to enable full functionality. Another way is to implement a minimally required Payload interface plus additional ones depending on functionality required. \n\n**Functionality**\n\nFor now Logarithmotechnia supports the next feature set:\n\n* Types: Boolean, Integer, Float, Complex, String, Time, Any. \n* Loading from CSV, SQL and structs\n* Saving to CSV\n* Extensive filtering (by indices, boolean array and functions)\n* Subsetting\n* Sorting by columns\n* Adding, dropping, renaming and mutating columns \n* Joins (took me about month to figure how to do this, not sure whether they are efficient and works properly): InnerJoin(), LeftJoin(), RightJoin(), FullJoin(), SemiJoin() and AntiJoin(). The last two ones are from R. \n* Binding dataframes (by columns or rows)\n* Column converting to columns and slices of different types \n* Applying a function to columns with column converting to other type if necessary (I decided against basing the library on generics, but I've used them quite extensively to cut the boilerplate and repeating code)\n* Summarization - grouping and using group functions like Max() or Min(). \n\n**Roadmap**\n\nThere are several direction to develop the library.\n\nFirst is to add more functions for making a regular data job: dataframe manipulation, testing\/sampling, more analytical and group functions (currently there are only Sum(), Min(), Max() (I am not yet satisfied with how I've implemented this as it requires to much boilerplate to add a new function), more stats functions, more functions for data manipulation. \n\nSecond is to add more way to import and export data.\n\nThird is to add a couple of another base types. Vectors (Series) for categorical data are necessary and a money type would be nice. \n\n**Conclusion**\n\nI hope yet another dataframe will be useful for someone ;). If you have any comments or suggestions, please share!","upvote_ratio":0.86,"created_utc":1678642759.0},{"title":"A lot of boilerplate code when writing asynchronous code in go","author":"VinterKold","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pbdsw\/a_lot_of_boilerplate_code_when_writing\/","text":"Hello! I have a [little go project](https:\/\/github.com\/DoubleBoba\/simple-tg-forms) I'm working on right now. I deploy it to google cloud functions, just because I found it fun not to have any infrastructure. But I realized soon that I want my bot to answer as fast as possible. The first thing that came to my mind is to make all functions that make database and network calls asynchronous. I found somewhere that gophers use something like this:\n\n    func AsyncFunc(arg1 int, arg2 int) chan int {\n        done_channel := make(chan int)\n    \n        go func() {\n            done_channel <- arg1 + arg2\n        }()\n    \n        return done_channel\n    }\n\nMy first question is: is there some way to avoid manual channel creation and anonymous function call? It's more or less okay with simple functions but in functions, with multiple return conditions, I've forgot to add `chan<-value` along with a return statement a few times. The compiler doesn't catch such errors, and it's hard to debug because the caller just waits forever, and no error is produced. \n\nI will call this function like this:\n\n    func AsyncCaller() {\n        done_channel := AsyncFunc(1, 2)\n        \n        \/\/ Do some work here, while AsyncFunc is running in the background.\n        \n        fmt.Printf(\"AsyncFunc is: %v\", <-done_channel)\n    }\n\nWhat if I don't need the return value of this function and I just need it to be done before the main process ends? I thought that I need to have a global wait group, but it adds even more boilerplate code because every time I need to wait for something globally I need to obtain a global wait group from context.","upvote_ratio":0.81,"created_utc":1678617069.0},{"title":"AES symmetric encryption","author":"ArrayForEach","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pb1zn\/aes_symmetric_encryption\/","text":"Hey guys,\n\nI would like to encrypt data using AES symmetric encryption.\nThe key (password) should be defined by the user, but `aes.NewCipher(key []byte)` wants a slice of 32 byte (for AES-256):\nhttps:\/\/pkg.go.dev\/crypto\/aes@go1.20.2#NewCipher\n\nIs it OK to just use the sha256 sum of the password and pass that as key? `sha256.Sum256([]byte(password))`\n\nThe rest of the encryption process looks basically like this:\nhttps:\/\/github.com\/gtank\/cryptopasta\/blob\/master\/encrypt.go#L37\n\nUpdate at Sun 12 Mar 15:52:09 CET 2023:\nFrom what you told me, just using sha256sum is not a good idea.\nSo I probably will go with Argon2id for password hashing:\nhttps:\/\/pkg.go.dev\/golang.org\/x\/crypto\/argon2\n\nThanks for all the answers!","upvote_ratio":0.92,"created_utc":1678615880.0},{"title":"Help with project using existing SDK","author":"Trick_Ad_1251","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pr5xv\/help_with_project_using_existing_sdk\/","text":"I\u2019m trying to write a CLI that uses the AWS Go SDK and I\u2019m struggling to properly structure my code. I find that I am basically just creating wrappers around already existing functions and am not able to properly extend functionality using the SDK\u2019s client in a consistent and Go-oriented manner.\n\nAre there some patterns that the Go community have agreed upon for extending an already existing SDK? Alternatively, are there any popular open-source projects that illustrate an idiomatic approach to solving this problem? \n\nI am looking particularly towards using the AWS SDK but anything that initializes a \u201cclient\u201d uses it\u2019s methods\/functions should suffice.","upvote_ratio":1.0,"created_utc":1678658267.0},{"title":"What is the ideal way to declare Variable ? And why ?","author":"PriorMolasses2863","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pn37l\/what_is_the_ideal_way_to_declare_variable_and_why\/","text":"Hello Gophers\n\nI just wanna ask a question about a thing that's always make me confused how people decide it .\n\nso let's pretend we have a struct :\n\n`type User struct {`\n\n`name string`\n\n`}`\n\nso I always declare a variable the normal way like :\n\n`user := User{ name: \"gopher\"}`\n\nbut others declare it by taking a pointer :\n\n`user := &User{ name: \"gopher\"}`\n\nI don't know what is the difference is there some optimization in code speed by that way ?\n\nThank you guys","upvote_ratio":0.43,"created_utc":1678648665.0},{"title":"Newton Method Implementation - Major Confusion","author":"generalmanchild","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pmdda\/newton_method_implementation_major_confusion\/","text":"## CONTEXT\n\nAmong many intuitive solutions online, I'm trying hard to understand this one implementation which was posted here a year back.\n\nJust to enrich the context, here's the problem statement in the [golang tutorial](https:\/\/go.dev\/tour\/flowcontrol\/8):\n\n>As a way to play with functions and loops, let's implement a square  root function: given a number x, we want to find the number z for which  z\u00b2 is most nearly x.\n\n[Here](https:\/\/www.reddit.com\/r\/golang\/comments\/ua2v9u\/day_1100_of_learning_golang\/?utm_source=share&utm_medium=web2x&context=3)'s the link to the post and here's the code from that post which I've slightly changed to understand it better:\n\n    package main\n    \n    import (\n        \"fmt\"\n    )\n    \n    func Sqrt(x, z float64) float64 {\n    \n        z -= ((z*z - x) \/ (2*z))\n        \n        for z*z > x {\n            z -= ((z*z - x) \/ (2*z))\n        }\n        return z\n    }\n    \n    func main() {\n        fmt.Println(Sqrt(100, 1))\n    }\n\n&#x200B;\n\n## DOUBT\n\n**How is it that for any given value of z and x, z\\^2 always ends up a greater value than x in the first iteration** (that is before the beginning of the for loop)?\n\nI have this doubt since I wonder if there's a way whereby both z\\^2 is less than x and the returned z is an incorrect root to x.\n\nI'm mostly convinced that z\\^2 cannot be less than x in the first  iteration since I couldn't find any combination of z and x proving  otherwise, in so far as I could try. I would greatly appreciate an  explanation as to why z\\^2 is always greater than x on the first  iteration, if indeed that is true.\n\n&#x200B;\n\nFor e.g.,  \ngiven x = 2 and can z be anything that would make z something like 0.40 after the first Newton Method implementation? If no, why not?","upvote_ratio":0.5,"created_utc":1678647020.0},{"title":"TIOBE March Headline: Programming language Go enters TIOBE index top 10","author":"0xjnml","url":"https:\/\/www.tiobe.com\/tiobe-index\/","text":"","upvote_ratio":0.56,"created_utc":1678625109.0},{"title":"How do I confirm whether I have a memleak from metrics (heap allocs)?","author":"async_await_mm","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11p8dpj\/how_do_i_confirm_whether_i_have_a_memleak_from\/","text":"I have been running my app for close to 22 hrs (started at around 12.15 pm on the charts below) now and collecting relevant Prometheus metrics.\n\nThe blue line indicated the culprit app, it is a polling based scraper which ingests and processes relevant JSON content through a processing pipeline before finally sending it out through an event sink. So it pretty much runs full time as there is always content to scrap. The green line is a mostly idle API server.\n\nI noticed a steady increase on the [go\\_memstats\\_heap\\_objects](https:\/\/imgur.com\/J3AbJu2.png) chart. The [go\\_memstats\\_heap\\_inuse\\_bytes](https:\/\/imgur.com\/ouyfWD5.png) chart indicates a slow but gradual increase and so does the [process\\_resident\\_memory\\_bytes](https:\/\/imgur.com\/w2RvWkE.png) chart. \n\nCould this indicate a tiny mem leak? The system has lots of free mem (6gb free) and therefore \\~ 30mb each is negligible on it so I am not sure how the GC reacts  to this. Goroutine count remains the same, I am closing the resp.Body which is usually a known culprit.\n\nI tried profiling it but did not see any major alloc indicator. Perhaps I am not correctly profiling this while it is running?","upvote_ratio":0.9,"created_utc":1678605798.0},{"title":"Painless controller testing with Kubernetes e2e-framework, Tilt, and simply running `go test .\/...`","author":"skarlso","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pjimt\/painless_controller_testing_with_kubernetes\/","text":"If you ever found yourself in an environment where you had to execute a bunch of things or do something weird to test your real code together with other controllers, you know how painful and error prone all that can be.\n\nBut fear not. :) There is a nice solution out there with using Tilt and Kubernetes' testing framework e2e-framework.\n\nI describe an approach by using these two together in a way to test controllers together here -> https:\/\/skarlso.github.io\/2023\/03\/12\/painless-controller-testing-with-e2e-framework-tilt\/\n\nI created an organization so everyone can we individual pieces of this puzzle and see and run them for themselves here -> https:\/\/github.com\/controller-e2e-framework ( I'll update the Readme shortly. :) ).\n\nTL;DR:\n\nWith this setup, run `go test .\/...` to e2e test all your controllers together ( once you write the test, of course :) ).","upvote_ratio":0.5,"created_utc":1678640405.0},{"title":"Suggestions for CRON jobs queue tool","author":"AhmedMahmoud201","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pit9n\/suggestions_for_cron_jobs_queue_tool\/","text":"Hello,\nI'm searching for a simple tool to manage CRON jobs for my customers' subscription renewal.\n\nRequirements:\n- Add renewal CRON jobs to a queue.\n- When the job time comes, push it to NATS or HTTP.\n- Use a CLI or a UI to monitor jobs.\n- Do not need any distributed services non-sense, _We are not that big right now to care_\n\nMy SaaS is not that big and doesn't need very complicated CRON management. \nI tried different options like [dkron](https:\/\/dkron.io\/) but it doesn't hold any job data after for example removing the container, according to a [discusion issue](https:\/\/github.com\/distribworks\/dkron\/discussions\/1277#discussioncomment-5278293) I created.\n\nI took a look at this Reddit [post](https:\/\/www.reddit.com\/r\/golang\/comments\/t50280\/distributed_job_scheduling_with_go\/) and got an idea about some potential tools I can use, but unfortunately, most of them are not suitable for my simple use case or doesn't handle dynamically created and deleted cron jobs.","upvote_ratio":1.0,"created_utc":1678638750.0},{"title":"Switch on type parameters","author":"off-road_coding","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pevha\/switch_on_type_parameters\/","text":"I have a function that looks like this:\n```go\nfunc checkEnv[T any](envName string, def T) T {\n   val, found := os.LookupEnv(envName)\n   if !found {\n       return def\n   }\n   \/\/ here is invalid\n   switch def.(type) { \/\/ error\n   .....\n   }\n```\nHow to get the concrete type of `T` inside checkEnv function? I want for instance to check if `T` is `int` or `string`. Thanks\n\n\n### Update\n\nI have now another problem:\n```go\nfunc checkEnv[T any](envName string, def T) T {\n\tval, found := os.LookupEnv(envName)\n\tif !found {\n\t\treturn def\n\t}\n\n\tswitch any(def).(type) { \/\/ that works fine\n\tcase string:\n\t\treturn val \/\/ how can I achieve this without error?\n\tcase int:\n\t\treturn strconv.Atoi(val) \/\/ error\n\t}\n}\n```","upvote_ratio":0.33,"created_utc":1678628671.0},{"title":"Desktop GUI library that can handle drag\/drop and nodes?","author":"GoIsTheWay","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pabsk\/desktop_gui_library_that_can_handle_dragdrop_and\/","text":"Hey all,\n\nA few years back I ran across Node Red.. and loved the idea of drag\/drop \"dynamic\" (e.g. pluggable runtime added) nodes on to a canvas.. then connect ins to outs, etc. I discovered a similar library (or two) back then in early days of ReactJS\/NodeJS that had a pretty slick library you could use in a web app to do similar.\n\nAs I am mostly a back end developer.. but have some ideas for GUI to put on top of some tools.. I was curious if the GUI libraries like Fyne support this Node style drag\/drop.. with scrollable\/zommable canvas, etc? Or if not directly.. is there a 2nd library that can be used to make it work so I could focus more on the nodes\/functionality, and build a Desktop GUI app in Go that allows me to support the drag\/drop nodes\/etc without having to build that part of it myself?","upvote_ratio":1.0,"created_utc":1678613269.0},{"title":"Landing a job, with Go as proof of that.","author":"hditano","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pd89t\/landing_a_job_with_go_as_proof_of_that\/","text":"Hello everyone:  \n\nI started learning Go a few weeks ago, I already have some experience with Python - (I really liked it) - C# (too verbose) - JavaScript (I hate it).  \n\nAt first I thought it was going to be an almost impossible language to grasp the basics, but while studying (I'm a book guy) I really liked it! .  \nThen I found out that level-entry jobs are almost impossible for someone with Go.\n\nDo you think it's possible to somehow get a job with less than a year of experience (only did a few freelancing projects) , or at least on my CV to look better than someone who doesn't? (of course with some Go projects on my GitHub to back it up).  \n\n\nI'm not expecting to get a job as a Go developer, but will it help?. I understand all learning it is always going to help you out in your developer career.","upvote_ratio":0.5,"created_utc":1678623549.0},{"title":"Translate names of fields in Validator V10","author":"kurosh_79","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11pbkfp\/translate_names_of_fields_in_validator_v10\/","text":"I'm using Validator V10, consider I have a struct like this\n\n`type User struct {`\n\n\u00a0 `Username string \\`validate:\"required\"\\``\n\n`}`\n\nI want to translate it to another language and i use universal translator and it translate correctly. but it doesn't translate the field's name like `Username` field. for example:\n\ncurrent translation: `Username \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a` (Username is required)\n\nexpected translation: `\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a`\n\nI thought it would be great to provide something like this to universal translator and it automatically translate it\n\n`var faTranslation = map[string]string{`  \n `\"Username\": \"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc\",`  \n `\"Password\": \"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631\",`  \n `\"Age\": \u00a0 \u00a0 \u00a0\"\u0633\u0646\",`  \n`}`\n\nI also checked this function as documentation says:\n\n `validate.RegisterTranslation(\"required\", trans, func(ut ut.Translator) error {`  \n\u00a0`return ut.Add(\"required\", \"{0} \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a!\", true) \/\/ see universal-translator for details`  \n `}, func(ut ut.Translator, fe validator.FieldError) string {`  \n  `t, _ := ut.T(\"required\", faTranslation[fe.Field()])`\n\nBut it only translates fields' name for `required` rule not other ones. Any help is appreciated","upvote_ratio":1.0,"created_utc":1678617737.0},{"title":"The Go Blog: Contexts - Need help understanding how does this select-case work?","author":"CompetitiveFrame7222","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11or03u\/the_go_blog_contexts_need_help_understanding_how\/","text":"[https:\/\/go.dev\/blog\/context](https:\/\/go.dev\/blog\/context)   \n\n\nHi everyone, was reading up about contexts and lead to this dated article from the context pkg docs.  \nNoticed that towards the end of the article, in the the example theres this section of code:  \nThe httpDo function runs the HTTP request and processes its response in a new goroutine. It cancels the request if ctx.Done is closed before the goroutine exits:\n\n    func httpDo(ctx context.Context, req *http.Request, f func(*http.Response, error) error) error {\n        \/\/ Run the HTTP request in a goroutine and pass the response to f.\n        c := make(chan error, 1)\n        req = req.WithContext(ctx)\n        go func() { c <- f(http.DefaultClient.Do(req)) }()\n        select {\n        case <-ctx.Done():\n            <-c \/\/ Wait for f to return.\n            return ctx.Err()\n        case err := <-c:\n            return err\n        }\n    }\n\ndoesn't `case err := <- c:` wait \/ block for f to return already? why is there `<-c \/\/ Wait for f to return.` Based on what I read about contexts so far shouldnt this be used instead:\n\n    \n    select {\n        case <-ctx.Done():\n            return ctx.Err()\n        case err := <-c:\n            return err\n        }\n\nThanks!","upvote_ratio":0.92,"created_utc":1678558762.0},{"title":"2nd Rule of Automatic Semicolon Implementation","author":"Lucrecious","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11paibd\/2nd_rule_of_automatic_semicolon_implementation\/","text":"```\n The formal syntax uses semicolons \";\" as terminators in a number of productions. Go programs may omit most of these semicolons using the following two rules:\n\n    1. When the input is broken into tokens, a semicolon is automatically inserted into the token stream immediately after a line's final token if that token is\n        an identifier\n        an integer, floating-point, imaginary, rune, or string literal\n        one of the keywords break, continue, fallthrough, or return\n        one of the operators and punctuation ++, --, ), ], or }\n    2. To allow complex statements to occupy a single line, a semicolon may be omitted before a closing \")\" or \"}\"\n```\n\nThe first rule I think can be done with only lexing, however the second seems like it requires the parser since it looks to be contextual. Is this correct? If not, how is this implemented?\n\n```\nvar (x int32; y string) \/\/ will insert semicolon after string and )\nz := (0 + x) \/\/ will insert semicolon after ) but not after x\n```\n\nHow does the compiler decide?\n\nAlso, are the rule 2 semicolons actually inserted or is simply omitting them allowed by the parser? Like is it (pseudocode):\n```\nif parser.match(;) or parser.terminator_token() is before } or ):\n   continue parsing\n```\n\nor more like this?\n```\nif not parser.match(;) and parser.terminator_token() is before } or ):\n    insert semicolon\n```","upvote_ratio":0.5,"created_utc":1678613940.0},{"title":"The one-and-only, must-have, eternal Go project layout","author":"ChristophBerger","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oh2mr\/the_oneandonly_musthave_eternal_go_project_layout\/","text":"The title is meant to be tongue-in-cheek. \n\nIt is the title of a blog post I wrote about project layouts in Go, for which I collected and reviewed the various approaches to laying out a Go project at the file system level. (Simply put, \"which part of a project goes into which folder\".)\n\nUnlike other languages that feature a single, canonical layout, Go has\u2014no, not none, but rather *a few of them*. Each of these layouts serves a particular project type optimally. In my humble opinion, this is better than forcing a strict layout upon all kinds of projects.\n\nOh, and there is also the open discussion of whether to use a \\`pkg\\` directory. Both sides have valid points. I tried to find my own conclusion. (Spoiler alert: it depends.)\n\n[https:\/\/appliedgo.com\/blog\/go-project-layout](https:\/\/appliedgo.com\/blog\/go-project-layout)","upvote_ratio":0.84,"created_utc":1678531390.0},{"title":"Are there any decent ORMs in Golang?","author":"AccomplishedPie603","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oi687\/are_there_any_decent_orms_in_golang\/","text":"Hello to the community! I am new to golang, trying to make the switch from javascript for a number of reasons. In a lot of ways I love the simplicity of golang, and the creative patterns meant to make the most of that simplicity. One thing I can't seem to get on board with though is the \"No ORM is the best ORM\". However in my research I've seen that the tools out there seem to embrace that mindset. \n\nHaving used sequelize-typescript for a number of years, I've come to love it as an ORM. Simple to get started, but it has a huge learning curve in order to do advanced queries. However, with over hundreds of queries, only once have I actually had to write a raw query. Additionally, when it came to migrations, sequelize can't be beat (except maybe by django).\n\nI've looked into all the big ORMS in Golang, and GORM seems to be the most full featured, and with a large community behind it, however the fact that it handles nesting using separate calls instead of joins is a deal breaker for me. That should be a basic function of an ORM, especially in the modern world of cloud development where every millisecond, and every db call is $$. Additionally, I'm not a big fan of their AutoMigrate style. \n\nI also looked into Beego ORM, however, the documentation out there for it is abysmal, and it doesn't seem to have as much community support. Can anyone recommend a decent ORM, that handles associations well (with JOINs), and a big bonus if it has decent migration tools!\n\nThank you!","upvote_ratio":0.7,"created_utc":1678535167.0},{"title":"What \u201csucks\u201d about Golang?","author":"Celestial_Blu3","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11o2yfd\/what_sucks_about_golang\/","text":"I just saw [this post in \/r\/rust ](https:\/\/reddit.com\/r\/rust\/comments\/11nxp0j\/fellow_rust_enthusiasts_what_sucks_about_rust\/) and wanted to ask about golang too. Not the basic criticisms - verbosity, telemetry, but what are your personal bugbears, the things that are getting better,etc","upvote_ratio":0.93,"created_utc":1678487405.0},{"title":"Starter pack build for Go fiber","author":"CertainAd1944","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11p808d\/starter_pack_build_for_go_fiber\/","text":"Hello. I'm trying to build a go fiber starter pack for myself. I just created the simplest version. But at this stage I need ruthless criticism and improvements. What can be added? What should be removed? What should change? Please review and give feedback.\n\n[https:\/\/github.com\/uslualper\/gostart](https:\/\/github.com\/uslualper\/gostart)","upvote_ratio":0.29,"created_utc":1678604476.0},{"title":"How to umarshall plain JSON with nested struct","author":"Initial_Internet_171","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11onpi0\/how_to_umarshall_plain_json_with_nested_struct\/","text":"Hi, I have a GO newbie question. I have a simple JSON payload here, which I'm trying to unmarshall with a nested struct:\n\nThe payload:\n```json\n{\n    \"name\": \"foo-bar\",\n    \"profileName\": \"my-profile-name\"\n}\n```\nand the structs:\n```golang\ntype Project struct {\n\tName    string   `json:\"name\"`\n\tProfile *Profile `json:\"profileName,omitempty\"`\n}\n\ntype Profile struct {\n\t\/\/ Name is the name of the namespace created for the project\n\tName string `json:\"profileName\"`\n}\n```\n\nAfter a lot of trials and errors I landed on the solution that works\n\n```golang\npackage main\n\nimport (\n\t\"encoding\/json\"\n\t\"fmt\"\n)\n\ntype Project struct {\n\tName    string   `json:\"name\"`\n\tProfile *Profile `json:\"profileName,omitempty\"`\n}\n\ntype Profile struct {\n\t\/\/ Name is the name of the namespace created for the project\n\tName string `json:\"profileName\"`\n}\n\nfunc (p *Profile) UnmarshalJSON(data []byte) error {\n\t\/\/ try to unmarshal as a string first\n\tvar s string\n\terr := json.Unmarshal(data, &s)\n\tif err == nil {\n\t\tp.Name = s\n\t\treturn nil\n\t}\n\n\t\/\/ otherwise unmarshal as a struct\n\ttype Alias Profile\n\taux := &struct {\n\t\t*Alias\n\t}{\n\t\tAlias: (*Alias)(p),\n\t}\n\tif err := json.Unmarshal(data, &aux); err != nil {\n\t\treturn err\n\t}\n\t*p = *(*Profile)(aux.Alias)\n\treturn nil\n}\n\nfunc main() {\n\tpayload := []byte(`{\n\t\t\"name\": \"foo-bar\",\n\t\t\"profileName\": \"my-profile-name\"\n\t}`)\n\n\tproject := Project{\n\t\tProfile: &Profile{},\n\t}\n\terr := json.Unmarshal(payload, &project)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tfmt.Printf(\"Name: %s\\nProfile Name: %s\", project.Name, project.Profile.Name)\n}\n```\n\nbut this just looks a little too cumbersome and verbose. Is there a better way to do this? Thanks","upvote_ratio":0.8,"created_utc":1678550515.0},{"title":"Generate types for TS","author":"xscapiee","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oi9lr\/generate_types_for_ts\/","text":"I have a backend in Golang and frontend in Sveltekit. Is there any way to generate equivalent types of API response (from Golang backend) for Typescript?","upvote_ratio":0.87,"created_utc":1678535476.0},{"title":"Examples of Good Go Repos","author":"albrera","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oa6wc\/examples_of_good_go_repos\/","text":"Hi, I am learning to code using Go, and I am looking for repos well written. Any recommendations would be great!   \n\n\nThanks","upvote_ratio":0.86,"created_utc":1678507384.0},{"title":"Game Dev in Golang","author":"ProAtLife1","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11o7jwm\/game_dev_in_golang\/","text":"Hello everyone!\nHow\u2019s go right now in terms of game development. I like the language and was wondering if it is usable when developing games. How does rust compare to it in creating games?\n\nThanks","upvote_ratio":0.87,"created_utc":1678499437.0},{"title":"Need help with error handling in goroutines.","author":"ActiveTreat","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ost96\/need_help_with_error_handling_in_goroutines\/","text":"I am still kinda new to Go and struggling with the right way to handle errors in my goroutines.  I have an application that reads files from several source folders and uploads them to various locations.  The files can be pretty large and there are thousands a day.  I had no issues running the application with out concurrency.  However, several source folders are going to be added over time and I am trying to speed things up using goroutines.  Occasionally the application will hang due to an error somewhere.  When I run the application without concurrency the error shows up as normal and is dealt with.  However, with goroutines the errors seem to get \"swallowed\" up somewhere and the application just hangs.  \n\nI tried reading about using an error channel but couldn't wrap my head around it for my use cases.\n\nI have included my code as I am sure there are several things I am missing or doing wrong due to lack of experience.\n\n&#x200B;\n\n&#x200B;\n\n    \/*\n    Shipper scans directories based at a root path for files ready to be sent\n    to the a landing pad.  After building a list of files, the files are\n    sent to a job queue and processed by a set of workers.\n    \n    Usage:\n    \n    \tshipper [flags]\n    \n    The flags are:\n    \n    \t-cfg\n    \t\tYAML configuration file.\n    *\/\n    package main\n    \n    import (\n    \t\"context\"\n    \t\"flag\"\n    \t\"fmt\"\n    \t\"os\"\n    \t\"path\/filepath\"\n    \t\"strings\"\n    \t\"sync\"\n    \t\"time\"\n    \tops \"turnstile\/pipedream\/pkg\/operations\"\n    \tfm \"turnstile\/pipedream\/pkg\/operations\/filemanager\"\n    \t\"turnstile\/pipedream\/pkg\/operations\/model\"\n    \t\"turnstile\/pipedream\/pkg\/sftpmanager\"\n    \tlog \"turnstile\/pipedream\/pkg\/shipperlog\"\n    \n    \t\"github.com\/spf13\/viper\"\n    \t\"go.mongodb.org\/mongo-driver\/bson\"\n    \t\"go.mongodb.org\/mongo-driver\/mongo\"\n    )\n    \n    var wg sync.WaitGroup\n    \n    func worker(i int, jobs <-chan *ops.Job, errChan <-chan error, client *sftpmanager.Client, mi *ops.MongoInstance) {\n    \tdefer wg.Done()\n    \tvar bundleRec *model.FileBundle\n    \ttrackedBundles := mi.DB.Collection(mi.Collection)\n    \tfor j := range jobs {\n    \t\tfname := filepath.Base(j.Work)\n    \t\tfNoExt := fm.FileNameWithoutExtension(fname)\n    \t\tmetaDataFile := fmt.Sprintf(\"%v.json\", fNoExt)\n    \t\tif filepath.Ext(strings.TrimSpace(fname)) != \"json\" {\n    \t\t\terr := trackedBundles.FindOne(context.TODO(), bson.D{{Key: \"filename\", Value: fname}}).Decode(&bundleRec)\n    \t\t\tif err != nil {\n    \t\t\t\tif err == mongo.ErrNoDocuments {\n    \t\t\t\t\tlog.Logger.Error(fmt.Sprintf(\"No documents matching: %v\", fname))\n    \t\t\t\t\treturn\n    \t\t\t\t}\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Error retrieving file record: %v\", err))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\tlocalsize, err := fm.GetSize(filepath.Join(j.SrcPath, metaDataFile))\n    \n    \t\t\tbytes, err := client.Upload(filepath.Join(j.SrcPath, metaDataFile), filepath.Join(j.DestPath, metaDataFile))\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Failed to upload file %v.\", fname))\n    \t\t\t\treturn\n    \t\t\t}\n    \n    \t\t\tif bytes != localsize {\n    \t\t\t\tlog.Logger.Error(fmt.Sprint(\"Error during upload\"))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\tlog.Logger.Info(fmt.Sprintf(\"Starting transfer of: %v\", metaDataFile))\n    \t\t\terr = mi.UpdateStatusById(\"Sending\", bundleRec.Id)\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Failed to update status for %v.\", fname))\n    \t\t\t\treturn\n    \t\t\t}\n    \n    \t\t\tlog.Logger.Info(fmt.Sprintf(\"Starting transfer of: %v\", fname))\n    \t\t\tbytes, err = client.Upload(j.Work, filepath.Join(j.DestPath, fname))\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Failed to upload file %v.\", fname))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\tif bytes != int64(bundleRec.FileSize) {\n    \t\t\t\tlog.Logger.Error(fmt.Sprint(\"Error during upload\"))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\terr = mi.UpdateStatusById(\"Pushed\", bundleRec.Id)\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Failed to update status for %v.\", fname))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\tlog.Logger.Info(fmt.Sprintf(\"Transferred file %v, %d bytes.\", bundleRec.FileName, bytes))\n    \n    \t\t\terr = os.Remove(filepath.Join(j.SrcPath, metaDataFile))\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Error removing %v.\", filepath.Join(j.SrcPath, metaDataFile)))\n    \t\t\t\treturn\n    \t\t\t}\n    \n    \t\t\terr = os.Remove(filepath.Join(j.SrcPath, fname))\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Logger.Error(fmt.Sprintf(\"Error removing %v.\", filepath.Join(j.SrcPath, fname)))\n    \t\t\t\treturn\n    \t\t\t}\n    \t\t\treturn\n    \t\t}\n    \t}\n    }\n    \n    func main() {\n    \tvar (\n    \t\tauth       sftpmanager.Auth\n    \t\taddr       string\n    \t\tport       uint\n    \t\ttimeout    time.Duration\n    \t\tuser       string\n    \t\terr        error\n    \t\tclient     *sftpmanager.Client\n    \t\tappconfigs map[string]*ops.AppConfig\n    \t\tlogpath    string\n    \t\tmi         *ops.MongoInstance\n    \t\tnumWorkers int\n    \t)\n    \n    \tvar configFile = flag.String(\"cfg\", \"\", \"YAML configuration file.\\n\")\n    \n    \tflag.Parse()\n    \tif *configFile == \"\" {\n    \t\tflag.PrintDefaults()\n    \t\tpanic(fmt.Sprintf(\"No configuration provided.\"))\n    \t}\n    \tconfigName := strings.TrimSuffix(*configFile, filepath.Ext(*configFile))\n    \tviper.SetConfigName(configName)\n    \tviper.SetConfigType(\"yaml\")\n    \tviper.AddConfigPath(\"\/usr\/local\/bin\")\n    \tviper.AddConfigPath(\"\/home\/shipper\")\n    \n    \tviper.AddConfigPath(\".\")\n    \tviper.AutomaticEnv()\n    \tif err := viper.ReadInConfig(); err != nil {\n    \t\tif _, ok := err.(viper.ConfigFileNotFoundError); ok {\n    \t\t\tpanic(fmt.Sprintf(\"Error reading configuration file.\"))\n    \t\t}\n    \t}\n    \tlogpath = filepath.Join(viper.GetString(\"main.logpath\"), viper.GetString(\"main.shipperlogname\"))\n    \tuser = viper.GetString(\"main.user\")\n    \taddr = viper.GetString(\"main.address\")\n    \tport = viper.GetUint(\"main.port\")\n    \ttimeout = viper.GetDuration(\"main.timeout\")\n    \tnumWorkers = viper.GetInt(\"main.workers\")\n    \tlog.SetUpLogger(logpath)\n    \ts3pid := viper.GetString(\"main.s3pid\")\n    \tif _, err := os.Stat(s3pid); err == nil {\n    \t\tlog.Logger.Panic(fmt.Sprintf(\"S3 downloader still running...sleeping.\"))\n    \t}\n    \n    \tpidfileLoc := viper.GetString(\"main.shipperpid\")\n    \tpidfile, err := os.OpenFile(pidfileLoc, os.O_RDWR|os.O_CREATE|os.O_EXCL, 0666)\n    \tif err != nil {\n    \t\tif os.IsExist(err) {\n    \t\t\tlog.Logger.Panic(fmt.Sprintf(\"Pid file exits.\"))\n    \t\t}\n    \t}\n    \tdefer pidfile.Close()\n    \tdefer os.Remove(pidfileLoc)\n    \tftt := fm.ScanUploadPath(viper.GetString(\"main.uploadroot\"))\n    \tif len(ftt) == 0 {\n    \t\tlog.Logger.Info(fmt.Sprintf(\"No files ready to transfer.\"))\n    \t\tpanic(fmt.Sprintf(\"No files ready to transfer.\"))\n    \t}\n    \n    \tauth, err = sftpmanager.ReadPrivKey(viper.GetString(\"main.privatekey\"))\n    \tif err != nil {\n    \t\tlog.Logger.Error(\n    \t\t\tfmt.Sprintf(\"Error reading key file: %v\", err),\n    \t\t)\n    \t\tpanic(fmt.Sprintf(\"Error reading key file: %v\", err))\n    \n    \t}\n    \n    \tmi, err = ops.ConnectDB(&ops.DBConfig{\n    \t\tDB:  viper.GetString(\"main.database\"),\n    \t\tURI: viper.GetString(\"main.uri\"),\n    \t})\n    \tdefer mi.Close()\n    \tif err != nil {\n    \t\tlog.Logger.Panic(\n    \t\t\tfmt.Sprintf(\"There was an issue connecting to the database: %v\", err),\n    \t\t)\n    \t\tpanic(fmt.Sprintf(\"There was an issue connecting to the database: %v\\n\", err))\n    \t}\n    \tmi.Collection = viper.GetString(\"main.collection\")\n    \tclient, err = sftpmanager.NewConn(&sftpmanager.Config{\n    \t\tUser:    user,\n    \t\tPort:    port,\n    \t\tAuth:    auth,\n    \t\tTimeout: timeout,\n    \t\tAddr:    addr,\n    \t})\n    \tif err != nil {\n    \t\tlog.Logger.Panic(\n    \t\t\tfmt.Sprintf(\"There was an issue establishing a connection to the remote host, %v:%v: %v\",\n    \t\t\t\taddr,\n    \t\t\t\tport,\n    \t\t\t\terr),\n    \t\t)\n    \t\tlog.Logger.Error(fmt.Sprintf(\"%v\\n\", err))\n    \t\tpanic(fmt.Sprintf(\"There was an issue establishing a connection to the remote host:  %v:%v.\\n\",\n    \t\t\taddr,\n    \t\t\tport))\n    \n    \t}\n    \tlog.Logger.Info(fmt.Sprintf(\"Connected to %v:%v.\", addr, port))\n    \tviper.UnmarshalKey(\"apps\", &appconfigs)\n    \tdefer client.Close()\n    \terrChan := make(chan error)\n    \tjobsChan := make(chan *ops.Job)\n    \n    \tfor i := 1; i <= numWorkers; i++ {\n    \t\twg.Add(1)\n    \t\tgo worker(i, jobsChan, errChan, client, mi)\n    \t}\n    \n    \tfor _, values := range appconfigs {\n    \t\tfilesToTransfer := fm.ScanUploadPath(values.LocalPath)\n    \t\tif len(filesToTransfer) > 0 {\n    \t\t\tfor i, f := range filesToTransfer {\n    \t\t\t\tjobsChan <- &ops.Job{Id: i, Work: f, SrcPath: values.LocalPath, DestPath: values.UploadPath}\n    \t\t\t}\n    \t\t}\n    \t}\n    \tclose(jobsChan)\n    \twg.Wait()\n    }","upvote_ratio":0.6,"created_utc":1678563101.0},{"title":"Faster Go channels implementation","author":"CalligrapherNo730","url":"https:\/\/github.com\/golang\/go\/issues\/52652","text":"","upvote_ratio":0.46,"created_utc":1678573896.0},{"title":"Hide internal functions from temp workers","author":"DevStefan","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oqr98\/hide_internal_functions_from_temp_workers\/","text":"We have been developing in golang for some years now.\n\nFrom time to time, we contract freelancers.  \nIs it possible to 'hide' some internals from these freelancers?\n\n'Internals' can be some algorithms we have developed for our customers. In this case, we are bound by NDAs not to reveal such algorithms to 3rd parties. \n\nBut if the freelancer must incorporate the function containing the algorithm into the part he has to build, he must be able to access it during compile time and for the context help in the editors.\n\nWhat would be the best practice here?","upvote_ratio":0.47,"created_utc":1678558169.0},{"title":"Rewriting the CLI in Rust: Was It Worth It?","author":"sela97","url":"https:\/\/blog.railway.app\/p\/rust-cli-rewrite","text":"","upvote_ratio":0.43,"created_utc":1678576484.0},{"title":"Is this a bug or feature of just my ignorance?","author":"void5253","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11no79l\/is_this_a_bug_or_feature_of_just_my_ignorance\/","text":"    func main() {\n        nums := [6]int{1, 2, 3, 4, 5, 6}\n        for _, num := range nums {\n    \tfmt.Print(num,  \" \")     \/\/1 2 3 4 5 6\n        }\n        for _, num := range nums {\n    \tfmt.Print(num,  ' ')     \/\/1 322 323 324 325 326 32\n        }\n    }\n\nWhat's happening here?  \nPS: First space is a string, the second one is a rune.","upvote_ratio":0.91,"created_utc":1678452238.0},{"title":"Get Linux commands in natural language with the power of ChatGPT.","author":"Nice_Aioli_9991","url":"https:\/\/github.com\/asrul10\/linux-command-gpt","text":"","upvote_ratio":0.36,"created_utc":1678545003.0},{"title":"What framework to build heavy i\/o rest api?","author":"FollowingMajestic161","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11oelf3\/what_framework_to_build_heavy_io_rest_api\/","text":"In the team we are most familiar with js and python, however we have time to learn other languages. What framework would you recommend for heavy i\/o app? I have doubts if the speed of the framework (some suggest gin fram in go) will matter when the queries are mostly update or post to the database. \n\n&good ORM suggestion will be nice :)","upvote_ratio":0.29,"created_utc":1678522476.0},{"title":"Map analogue for reflect.SliceHeader","author":"Finn32533","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11nqop1\/map_analogue_for_reflectsliceheader\/","text":"I understand that we can access the runtime representation of a slice through `reflect.SliceHeader` like so\n\n    a := make([]int, 16, 32)\n    fmt.Printf(\"%#v\\n\", *((*reflect.SliceHeader)(unsafe.Pointer(&a))))\n\nI also know that there exists the `runtime.hmap` struct for maps but obviously this is not exported, so I am wondering if we can do something analogous when it comes to maps","upvote_ratio":0.78,"created_utc":1678458556.0},{"title":"Regular expressions in Golang","author":"ttroybboy","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11nqdf5\/regular_expressions_in_golang\/","text":"Can someone suggest any library or resource for regular expressions matching to route my request to appropriate handler based on my rest end point. Below are my regex \n\n\"\/:styleid([0-9]{3,9})\",\n\"\/style\/:styleid([0-9]{3,9})\",\n\"*\/:styleid([0-9]{3,9})\/buy\",","upvote_ratio":0.8,"created_utc":1678457739.0},{"title":"Variable with multiple values instead of a db table ?","author":"ArieHein","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11nxjv1\/variable_with_multiple_values_instead_of_a_db\/","text":"Somewhat new to Golang, was wondering what's the best way to have a variable that can have say 4 possible values ?\n\nIn my case say I have a table with a column called 'state' and it has 4 possible values:\n\n1. Init - that's the default\n2. Active\n3. Inactive\n4. Deleted  \n\n\nI could of course use a second table with these values in and have a foreign key and worry about sql statements but I would prefer for these values to be from the code instead to save time.  \nThere will be a function that will change the state to a specific string value, but to the db will sent the numeric value.  \n\n\nIs this an array ? a key-value ? is there like a 'mapping\" thing ?","upvote_ratio":0.75,"created_utc":1678474675.0},{"title":"Where is this behavior described in the spec?","author":"Prestigious_Roof_902","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11o219k\/where_is_this_behavior_described_in_the_spec\/","text":"Given the following main.go:\n\npackage main\n\nfunc foo() *int {\n\tprintln(\"foo\")\n\tvar x int\n\treturn &x\n}\n\nfunc main() {\n\t*foo() += 8\n}\n\nI would have expected \"foo\" to be printed twice but it got printed only once. Why is this happening? To what exactly is '*foo() += 8' compiled? I thought that it would be compiled to something like '*foo() = *foo() + 8', thus calling foo and printing twice.","upvote_ratio":0.54,"created_utc":1678485211.0},{"title":"Why is json logging the \u201cstandard\u201d?","author":"failsafe_roy_fire","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ng4of\/why_is_json_logging_the_standard\/","text":"I\u2019m hoping I\u2019m just inexperienced and someone can just say: it\u2019s not, and here\u2019s examples.\n\nOtherwise, why? If it\u2019s so inefficient and hurts performance, why not just a simple key=value pair?\n\nThanks \ud83d\ude4f","upvote_ratio":0.75,"created_utc":1678426843.0},{"title":"Beginner ~ Intermediate Go programmer, how can I get better in go and get out of the \"beginner\" phase?","author":"cr4zyc4t909","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ndjw4\/beginner_intermediate_go_programmer_how_can_i_get\/","text":"Hello gophers! Just a quick question, I'm a beginner go programmer coming from python where I learned the basics (until object-oriented programming) and I'm learning go, and I'm having so much fun! I know about slices, pointers, structs and starting to learn concurrency and then testing, I have done projects with go, mainly command line applications since really I'm a intern SOC analyst who is trying to step up his programming game to get into devops - system administration, I'm thinking to make a bigger project, taking as an example:\n\n[https:\/\/github.com\/metafates\/mangal](https:\/\/github.com\/metafates\/mangal) : CLI that uses web scrapping to download anime\n\n[https:\/\/github.com\/harrybrwn\/apizza](https:\/\/github.com\/harrybrwn\/apizza): CLI that let's you order dominoes pizza\n\nAnd when reading their code... is like it's pure gibberish, not that is bad code but that I CAN'T UNDERSTAND!!! It's just de-motivating because I feel that I'm still in that \"beginner\" and I'm not able yet to make these types of projects, but when I will be ready right? How did experienced gophers or programmers better said get out of the \"beginner\" phase and be able to tackle bigger projects or get more comfortable?\n\nThanks for the help!","upvote_ratio":0.91,"created_utc":1678419472.0},{"title":"9 years of open-source database development in Go: reviewing the design choices of rqlite","author":"hudddb3","url":"https:\/\/www.philipotoole.com\/9-years-of-open-source-database-development-the-design-docs\/","text":"","upvote_ratio":0.98,"created_utc":1678392123.0},{"title":"Title: GoConsole: a lightweight Go module for creating command-line commands","author":"DrChaosFr","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11n7nmf\/title_goconsole_a_lightweight_go_module_for\/","text":"Hi everyone,\n\nI'm excited to share my latest project, GoConsole, with the Go community. GoConsole is a lightweight Go module that makes it easy to create command-line commands, following the docopt standard. It also provides helpers for styling the command's output, asking questions, and rendering tables.\n\nAs a Go enthusiast, I'm looking for feedback and suggestions on how to improve GoConsole. I'm also curious to know if there are any similar modules out there that you've used or know of.\n\nHere's the link to the project's GitHub repository: [https:\/\/github.com\/DrSmithFr\/go-console](https:\/\/github.com\/DrSmithFr\/go-console)\n\nThank you in advance for your help!","upvote_ratio":0.88,"created_utc":1678404618.0},{"title":"I'm losing my mind - Goland won't start","author":"Truckermouse","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11o4dgy\/im_losing_my_mind_goland_wont_start\/","text":"Hey guys, I've been through everything and I can't find the solution, maybe you guys can help me.\n\nMy Goland just refuses to start. Running the installed .exe (Windows 10) just does nothing. No window pops up. Not even for half a second. Just nothing.\n\nI've tried multiple different versions (current version, some 2021 versions, etc). Always the same. Install and Uninstall works perfectly fine.\n\nDouble click the exe. Nothing. \n\nIntelliJ works great though, which makes this even weirder.\n\nSo...\n\nAny idea how i could fix this?\n\nIs there some hidden folder anywhere which contains a log that could help? I did not have any luck finding it.\n\nWhat else could I try?","upvote_ratio":0.36,"created_utc":1678490905.0},{"title":"ngrok-go: embed ingress into your Go apps as a net.Listener","author":"inconshreveable","url":"https:\/\/blog.ngrok.com\/posts\/ngrok-go","text":"","upvote_ratio":0.98,"created_utc":1678368085.0},{"title":"Building blockchains in days w\/ HyperSDK (GoLang)","author":"thelaboredclerk","url":"https:\/\/open.substack.com\/pub\/0xronin\/p\/building-blockchains-in-days-w-hypersdk?r=1qbgyb&utm_campaign=post&utm_medium=web","text":"","upvote_ratio":0.21,"created_utc":1678500518.0},{"title":"My Blog- A Billion-Dollar Golang Mistake","author":"needna78","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11np30h\/my_blog_a_billiondollar_golang_mistake\/","text":"I have published a new blog post for a real-life small mistake that was skipped from our review and caused an impact on our customer app.\n\nCheckout the post here: [https:\/\/medium.com\/@iamninad\/a-billion-dollar-go-mistake-820338199998](https:\/\/medium.com\/@iamninad\/a-billion-dollar-go-mistake-820338199998)","upvote_ratio":0.49,"created_utc":1678454539.0},{"title":"Don't Mock the Database","author":"dominik-braun","url":"https:\/\/dominikbraun.io\/blog\/dont-mock-the-database\/","text":"","upvote_ratio":0.85,"created_utc":1678375843.0},{"title":"GitHub - Spacewalkio\/Goenv: \ud83d\udc3a Manage Your Applications Go Environment.","author":"Clivern","url":"https:\/\/github.com\/Spacewalkio\/Goenv","text":"","upvote_ratio":0.53,"created_utc":1678404769.0},{"title":"How do you test OAuth APIs?","author":"parham06","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mz0b5\/how_do_you_test_oauth_apis\/","text":"I have written a server which authenticates users with OAuth using the `coreos\/go-oidc` package.\nHow should I test the authentication flow?\nThe API needs a client id and secret pair to communicate with Google APIs.\nShould I use my apps id and secret inside the test or mock the whole OAuth API?","upvote_ratio":1.0,"created_utc":1678384967.0},{"title":"goio - A customizable imports organizer for go","author":"adambkaplan","url":"https:\/\/github.com\/go-imports-organizer\/goio","text":"","upvote_ratio":0.56,"created_utc":1678406880.0},{"title":"Please criticize my library: mint - tiny event emitter built on generics","author":"btvoidx","url":"https:\/\/github.com\/btvoidx\/mint","text":"","upvote_ratio":0.9,"created_utc":1678353334.0},{"title":"proposal: all: add opt-in transparent telemetry to Go toolchain \u00b7 Issue #58894 \u00b7 golang\/go","author":"gopherish","url":"https:\/\/github.com\/golang\/go\/issues\/58894","text":"","upvote_ratio":0.94,"created_utc":1678320808.0},{"title":"Why int(4.4) not work","author":"Electrical_Box_473","url":"https:\/\/go.dev\/play\/p\/N-ulR54ISaJ","text":"","upvote_ratio":0.27,"created_utc":1678440148.0},{"title":"Error handling help","author":"void5253","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mt2zd\/error_handling_help\/","text":"I've this piece of code:\n\n    package main\n    \n    import (\n    \t\"fmt\"\n    \t\"log\"\n    )\n    \n    func area(width float64, height float64) (totalArea float64, err error) {\n    \tif width < 0 {\n    \t\treturn 0, fmt.Errorf(\"width: %0.2f is invalid!\\n\", width)\n    \t}\n    \tif height < 0 {\n    \t\treturn 0, fmt.Errorf(\"height: %0.2f is invalid!\\n\", height)\n    \t}\n    \treturn width * height, nil\n    }\n    \n    func paintNeeded(width float64, height float64) (paintInLitres float64, err error) {\n    \t\/\/1 sq. metre requires 0.1 litres of paint\n    \ttotalArea, err := area(width, height)\n    \treturn totalArea \/ 10, err\n    }\n    \n    func main() {\n    \tvar width, height float64\n    \tfmt.Print(\"Enter width and height: \")\n    \t_, err := fmt.Scanf(\"%v%v\", &width, &height)\n    \tif err != nil {\n    \t\tlog.Fatal(\"Invalid Input!\")\n    \t}\n    \tpaintInLitres, err := paintNeeded(width, height)\n    \tif err != nil {\n    \t\tlog.Fatal(err)\n    \t} else {\n    \t\tfmt.Printf(\"Paint Needed: %0.2f\\n\", paintInLitres)\n    \t}\n    }\n\nIt simply calculates the amount of paint needed to paint a wall given width and height of wall.I'm wondering what the proper way of handling and propagating errors is.`func area(width float, height float) (float, error)` will result in an error if either width or height is negative. Now, `func paintNeeded(float, float)(float, error)` calls `area`.\n\nMy main concern here is that if `area` causes error, then that error will be returned by `paintNeeded`. However, there's no trace from exactly where the error originated. This code is simple, so I know where and how the error came to be. How do I implement error handling so that I could possibly pinpoint that the error was originally thrown by `area`.\n\nOr is what I've done the way things are done in go? Maybe I don't have to care about the origin of error (having no way to trace back seems like a bad idea). Any help with this is appreciated.  \n\n\nPS: r\/learngolang is dead.","upvote_ratio":0.78,"created_utc":1678370796.0},{"title":"Go blog: Code coverage for Go integration tests","author":"eliben","url":"https:\/\/go.dev\/blog\/integration-test-coverage","text":"","upvote_ratio":0.98,"created_utc":1678309464.0},{"title":"The best way to learn Go?","author":"jvgino","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ncy7j\/the_best_way_to_learn_go\/","text":"Recently I was looking for some courses to learn Go. \n\nDo you have any suggestion like a course, article, tutorial video or anyother?","upvote_ratio":0.33,"created_utc":1678417864.0},{"title":"SFTPGo sustainability","author":"kaeshiwaza","url":"https:\/\/github.com\/drakkan\/sftpgo\/issues\/1218","text":"","upvote_ratio":0.83,"created_utc":1678349656.0},{"title":"Favorite Golang web framework?","author":"wolfakix","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11nkno3\/favorite_golang_web_framework\/","text":"your favorite golang framework to build backend apps\n\n[View Poll](https:\/\/www.reddit.com\/poll\/11nkno3)","upvote_ratio":0.28,"created_utc":1678441454.0},{"title":"Map of strings to slices running out of memory apparently","author":"deadwanderer","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11n15ki\/map_of_strings_to_slices_running_out_of_memory\/","text":"Hello,\n\nAs part of my Golang learning, I'm writing an app to pull image tag data from Docker Hub. \n\nI loop through a list of images, get the HTTP response from the Docker Hub URL, marshal the response content into a JSON object, and loop through the response results and append the tag names from the JSON results to a slice. I want to stuff them into a `map[string][]string` structure, looking like this:\n\n    {\n      image-name-1 : [ {tag-name-1}, {tag-name-2}, ... ],\n      image-name-2 : [ {tag-name-1}, {tag-name-2}, ... ],\n      ...\n    }\n\nThe issue is that, after a bit, Golang appears to just stop allocating memory or doing appends or something, because it just stops appending values to any slice, so a number of the images report 0 results for tags (The data comes through in the HTTP request, but when counting the length of the slices, they just starting being 0). A number of these images have thousands of tags (highest I've seen is 6500, but several have ~2000).\n\nIs it possible to have a large map allocated (100 string keys with slice values up to 6500 strings)? \n\nI've attempted preconstructing and initializing the map:\n\n    tags := make(map[string][]string)    \n    for entry, _ := range tags {      \n      tags[entry] = make([]string, 0, 6500)\n    }\nand this helps it last longer, but it still doesn't get near everything.\n\nWhat am I missing? Do I need larger buffers? I think my stuff is large enough that there aren't many reallocations going on...\n\nEDIT 1:\nHere's the complete code I'm using currently:\n\n    package main\n    \n    import (\n    \t\"encoding\/json\"\n    \t\"io\/ioutil\"\n    \t\"log\"\n    \t\"net\/http\"\n    \t\"os\"\n    \t\"strconv\"\n    \t\"strings\"\n    \t\"time\"\n    )\n    \n    var TEMP_REPOS []string = []string{\n    \t\"bitnami\/cainjector\",\n    \t\"bitnami\/cert-manager\",\n    \t\"bitnami\/cert-manager-webhook\",\n    \t\"bitnami\/kubernetes-event-exporter\",\n    \t\"bitnami\/sealed-secrets-controller\",\n    \t\"curlimages\/curl\",\n    \t\"grafana\/grafana\",\n    \t\"library\/alpine\",\n    \t\"library\/busybox\",\n    \t\"library\/debian\",\n    \t\"library\/influxdb\",\n    \t\"library\/mongo\",\n    \t\"library\/mysql\",\n    \t\"library\/nginx\",\n    \t\"library\/registry\",\n    \t\"library\/sonarqube\",\n    \t\"library\/ubuntu\",\n    \t\"nginxinc\/nginx-unprivileged\",\n    \t\"openstorage\/stork\",\n    \t\"portworx\/keycloak\",\n    \t\"portworx\/kopiaexecutor\",\n    \t\"portworx\/mongodb\",\n    \t\"portworx\/px-backup\",\n    \t\"portworx\/pxcentral-onprem-api\",\n    \t\"portworx\/pxcentral-onprem-ui-backend\",\n    \t\"portworx\/pxcentral-onprem-ui-frontend\",\n    \t\"portworx\/pxcentral-onprem-ui-lhbackend\",\n    \t\"rancher\/cis-operator\",\n    \t\"rancher\/fleet-agent\",\n    \t\"rancher\/hello-world\",\n    \t\"rancher\/kube-api-auth\",\n    \t\"rancher\/mirrored-banzaicloud-fluentd\",\n    \t\"rancher\/mirrored-banzaicloud-logging-operator\",\n    \t\"rancher\/mirrored-calico-kube-controllers\",\n    \t\"rancher\/mirrored-calico-node\",\n    \t\"rancher\/mirrored-cloud-provider-vsphere-cpi-release-manager\",\n    \t\"rancher\/mirrored-cloud-provider-vsphere-csi-release-driver\",\n    \t\"rancher\/mirrored-cloud-provider-vsphere-csi-release-syncer\",\n    \t\"rancher\/mirrored-cluster-proportional-autoscaler\",\n    \t\"rancher\/mirrored-coredns-coredns\",\n    \t\"rancher\/mirrored-flannelcni-flannel\",\n    \t\"rancher\/mirrored-fluent-fluent-bit\",\n    \t\"rancher\/mirrored-grafana-grafana\",\n    \t\"rancher\/mirrored-idealista-prom2teams\",\n    \t\"rancher\/mirrored-istio-install-cni\",\n    \t\"rancher\/mirrored-istio-pilot\",\n    \t\"rancher\/mirrored-istio-proxyv2\",\n    \t\"rancher\/mirrored-jaegertracing-all-in-one\",\n    \t\"rancher\/mirrored-jimmidyson-configmap-reload\",\n    \t\"rancher\/mirrored-kiali-kiali\",\n    \t\"rancher\/mirrored-kiwigrid-k8s-sidecar\",\n    \t\"rancher\/mirrored-kube-state-metrics-kube-state-metrics\",\n    \t\"rancher\/mirrored-library-nginx\",\n    \t\"rancher\/mirrored-messagebird-sachet\",\n    \t\"rancher\/mirrored-metrics-server\",\n    \t\"rancher\/mirrored-neuvector-controller\",\n    \t\"rancher\/mirrored-neuvector-enforcer\",\n    \t\"rancher\/mirrored-neuvector-manager\",\n    \t\"rancher\/mirrored-neuvector-scanner\",\n    \t\"rancher\/mirrored-neuvector-updater\",\n    \t\"rancher\/mirrored-nginx-ingress-controller-defaultbackend\",\n    \t\"rancher\/mirrored-openpolicyagent-gatekeeper\",\n    \t\"rancher\/mirrored-prometheus-adapter-prometheus-adapter\",\n    \t\"rancher\/mirrored-prometheus-alertmanager\",\n    \t\"rancher\/mirrored-prometheus-node-exporter\",\n    \t\"rancher\/mirrored-prometheus-operator-prometheus-config-reloader\",\n    \t\"rancher\/mirrored-prometheus-operator-prometheus-operator\",\n    \t\"rancher\/mirrored-prometheus-prometheus\",\n    \t\"rancher\/mirrored-sig-storage-csi-attacher\",\n    \t\"rancher\/mirrored-sig-storage-csi-node-driver-registrar\",\n    \t\"rancher\/mirrored-sig-storage-csi-provisioner\",\n    \t\"rancher\/mirrored-sig-storage-csi-resizer\",\n    \t\"rancher\/mirrored-sig-storage-livenessprobe\",\n    \t\"rancher\/nginx-ingress-controller\",\n    \t\"rancher\/pushprox-client\",\n    \t\"rancher\/pushprox-proxy\",\n    \t\"rancher\/rancher-agent\",\n    \t\"splunk\/fluentd-hec\",\n    \t\"summerwind\/actions-runner-controller\",\n    \t\"atlassian\/confluence-server\",\n    \t\"atlassian\/jira-software\",\n    \t\"portworx\/mysql\",\n    \t\"library\/postgres\",\n    \t\"portworx\/postgresql\",\n    \t\"bitnami\/apache\",\n    \t\"bitnami\/minio\",\n    \t\"bitnami\/postgresql\",\n    }\n    \n    type DockerJSONImage struct {\n    \tArchitecture string\n    \tFeatures     string\n    \tVariant      string\n    \tDigest       string\n    \tOs           string\n    \tOs_features  string\n    \tOs_version   string\n    \tSize         float64\n    \tStatus       string\n    \tLast_pulled  string\n    \tLast_pushed  string\n    }\n    \n    type DockerJSONImagesResult struct {\n    \tCreator               float64\n    \tId                    float64\n    \tImages                []DockerJSONImage\n    \tLast_updated          string\n    \tLast_updater          float64\n    \tLast_updater_username string\n    \tName                  string\n    \tRepository            float64\n    \tFull_size             float64\n    \tV2                    bool\n    \tTag_status            string\n    \tTag_last_pulled       string\n    \tTag_last_pushed       string\n    \tMedia_type            string\n    \tContent_type          string\n    \tDigest                string\n    }\n    \n    type DockerJSONResp struct {\n    \tCount    float64\n    \tNext     string\n    \tPrevious string\n    \tResults  []DockerJSONImagesResult\n    }\n    \n    var DOCKER_URL_PREPEND string = \"https:\/\/hub.docker.com\/v2\/repositories\/\"\n    var DOCKER_URL_INSERT string = \"\/tags?page=\"\n    var DOCKER_URL_APPEND string = \"&page_size=10000\"\n    \n    func perform_repo_query(url string) (DockerJSONResp, error) {\n    \tclient := &http.Client{}\n    \n    \treq, _ := http.NewRequest(\"GET\", url, nil)\n    \treq.Header.Set(\"User-agent\", \"tag-bot\")\n    \tresp, err := client.Do(req)\n    \tif err != nil {\n    \t\treturn DockerJSONResp{}, err\n    \t}\n    \tbody, err := ioutil.ReadAll(resp.Body)\n    \tif err != nil {\n    \t\treturn DockerJSONResp{}, err\n    \t}\n    \tjson_resp := DockerJSONResp{}\n    \terr = json.Unmarshal(body, &json_resp)\n    \tif err != nil {\n    \t\treturn DockerJSONResp{}, err\n    \t}\n    \n    \treturn json_resp, nil\n    }\n    \n    func pull_image_tags_from_repositories(images []string, tags map[string][]string) {\n    \tfor _, img := range images {\n    \t\t_, image_name, _ := strings.Cut(img, \"\/\")\n    \t\tpage := 1\n    \t\tcomplete := false\n    \t\tfor !complete {\n    \t\t\tquery_url := DOCKER_URL_PREPEND + img + DOCKER_URL_INSERT + strconv.Itoa(page) + DOCKER_URL_APPEND\n    \t\t\tlog.Printf(\"Querying: %v\\n\", query_url)\n    \t\t\tresp, err := perform_repo_query(query_url)\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Fatalf(\"ERROR: %v\\n\", err)\n    \t\t\t}\n    \t\t\tfor _, results := range resp.Results {\n    \t\t\t\ttags[image_name] = append(tags[image_name], results.Name)\n    \t\t\t}\n    \t\t\tlog.Printf(\"%v currently has %v tags\\n\", img, len(tags[image_name]))\n    \t\t\tif resp.Next != \"\" {\n    \t\t\t\tpage += 1\n    \t\t\t} else {\n    \t\t\t\tcomplete = true\n    \t\t\t}\n    \t\t}\n    \t\ttime.Sleep(time.Millisecond * 2)\n    \t}\n    }\n    \n    func main() {\n    \tf, err := os.OpenFile(\"logging.txt\", os.O_RDWR|os.O_CREATE|os.O_TRUNC, 0666)\n    \tif err != nil {\n    \t\tlog.Fatalf(\"error opening file: %v\", err)\n    \t}\n    \tdefer f.Close()\n    \tlog.SetOutput(f)\n    \n    \ttag_data := make(map[string][]string, len(TEMP_REPOS))\n    \tfor idx, _ := range tag_data {\n    \t\ttag_data[idx] = make([]string, 0, 6500)\n    \t}\n    \tpull_image_tags_from_repositories(TEMP_REPOS, tag_data)\n    \n    \tlog.Printf(\"\\n\\n\")\n    \tlog.Printf(\"%v\\n\", tag_data)\n    }\n\n\nAnd here's some sample data that gets returned from the HTTP query (and gets serialized directly into the DockerJSON* structs I have defined; NOTE, the only bit I actually want here really is the name from each result):\n\n    {\n    \t\"count\": 129,\n    \t\"next\": \"https:\/\/hub.docker.com\/v2\/repositories\/library\/alpine\/tags?page=2\\u0026page_size=10000\",\n    \t\"previous\": null,\n    \t\"results\": [\n    \t\t{\n    \t\t\t\"creator\": 7,\n    \t\t\t\"id\": 170608,\n    \t\t\t\"images\": [\n    \t\t\t\t{\n    \t\t\t\t\t\"architecture\": \"amd64\",\n    \t\t\t\t\t\"features\": \"\",\n    \t\t\t\t\t\"variant\": null,\n    \t\t\t\t\t\"digest\": \"sha256:e2e16842c9b54d985bf1ef9242a313f36b856181f188de21313820e177002501\",\n    \t\t\t\t\t\"os\": \"linux\",\n    \t\t\t\t\t\"os_features\": \"\",\n    \t\t\t\t\t\"os_version\": null,\n    \t\t\t\t\t\"size\": 3374446,\n    \t\t\t\t\t\"status\": \"active\",\n    \t\t\t\t\t\"last_pulled\": \"2023-03-09T16:05:36.971848Z\",\n    \t\t\t\t\t\"last_pushed\": \"2023-02-11T05:04:53.984612Z\"\n    \t\t\t\t},\n    \t\t\t\t...\n    \t\t\t],\n    \t\t\t\"last_updated\": \"2023-02-11T05:05:54.843043Z\",\n    \t\t\t\"last_updater\": 1156886,\n    \t\t\t\"last_updater_username\": \"doijanky\",\n    \t\t\t\"name\": \"latest\",\n    \t\t\t\"repository\": 160398,\n    \t\t\t\"full_size\": 3374446,\n    \t\t\t\"v2\": true,\n    \t\t\t\"tag_status\": \"active\",\n    \t\t\t\"tag_last_pulled\": \"2023-03-09T17:04:46.364443Z\",\n    \t\t\t\"tag_last_pushed\": \"2023-02-11T05:05:54.843043Z\",\n    \t\t\t\"media_type\": \"application\/vnd.docker.distribution.manifest.list.v2+json\",\n    \t\t\t\"content_type\": \"image\",\n    \t\t\t\"digest\": \"sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a\"\n    \t\t},\n    \t\t...\n    \t]\n    }","upvote_ratio":0.5,"created_utc":1678389892.0},{"title":"I know there is no OPTIONALS in go , i hope they implement it , what is the best approach to deal with optionals in go? sometimes i think the default values added by golang isn\u2019t suitable, like adding zero to int ! .. zero is a value not nil or undefined.","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11necx6\/i_know_there_is_no_optionals_in_go_i_hope_they\/","text":"so?","upvote_ratio":0.39,"created_utc":1678421692.0},{"title":"How do you control logging redundancies?","author":"-Devlin-","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11my0mm\/how_do_you_control_logging_redundancies\/","text":"In projects utilizing layers, clean design, onion arch etc. how do you go about logging while keeping redundancies minimum? my approach is to keep errors close to the source (mostly in gateways and clients), and avoid controller\/handler level re-logging. The latest update to go introduces [multierr](https:\/\/pkg.go.dev\/go.uber.org\/multierr) that can package and surface errors to caller packages and not having to deal with passing loggers around. Would love to hear if there are idiomatic approaches you use that i am missing.","upvote_ratio":1.0,"created_utc":1678382688.0},{"title":"Go Image Converting","author":"Fine_Committee8397","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mhjd8\/go_image_converting\/","text":"How can I  convert heic and heif to jpeg in golang?","upvote_ratio":0.82,"created_utc":1678332881.0},{"title":"problem with a complex regex","author":"good_effective_flow","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mw3bk\/problem_with_a_complex_regex\/","text":"I have a regex that matches everything i want on regex101 but when i try to port it to go its not matching anything. I checked 'golang' mode in regex101 (whatever thats worth). I was previously told that you had the split the sting by line and then run the regex, Im not sure about that as Ive included a different regex that matches a different line without problem. Is there something about the regex that needs to be go specific? \n\n&#x200B;\n\nThis:\n\n\\^\\\\s+Last Power Event\\\\.+\\\\s(\\[a-zA-Z\\]+)\\\\sat\\\\s(\\\\d+\\\\\/\\\\d+\\\\\/\\\\d+\\\\s+\\\\d+\\\\:\\\\d+\\\\d\\\\:\\\\d+)(?:\\\\sfor\\\\s(\\\\d+)\\\\s(\\[a-zA-Z\\]+)\\\\.)?\n\nShould have capture groups that match these:\n\nLast Power Event............. Blackout at 2022\/09\/24 12:12:24 for 3 sec.\n\nLast Power Event............. Blackout at 2022\/09\/24 12:12:24\n\n&#x200B;\n\nresulting groups should be: \"Blackout\", \"2022\/09\/24 12:12:24\", and optionally: \"3\", \"sec\"\n\n&#x200B;\n\nThanks in advance for any help\n\n&#x200B;\n\n[https:\/\/regex101.com\/r\/vUpwdZ\/1](https:\/\/regex101.com\/r\/vUpwdZ\/1)\n\n[https:\/\/go.dev\/play\/p\/ZgsRISaQqWQ](https:\/\/go.dev\/play\/p\/ZgsRISaQqWQ)","upvote_ratio":0.4,"created_utc":1678378133.0},{"title":"Seeking Insights","author":"denimpackt","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mnkhl\/seeking_insights\/","text":"I am here to seek some feedback and wanted to understand the challenges intermediate to advanced Go developers are facing. If at all we plan to come up with an advanced Go Programming book, what kind of topics should be a part of this book.","upvote_ratio":0.71,"created_utc":1678352859.0},{"title":"errors.Join \u2764\ufe0f defer","author":"willeponken","url":"https:\/\/wstrm.dev\/posts\/errors-join-heart-defer\/","text":"","upvote_ratio":0.96,"created_utc":1678277825.0},{"title":"Why Turborepo is migrating from Go to Rust \u2013 Vercel","author":"styluss","url":"https:\/\/vercel.com\/blog\/turborepo-migration-go-rust","text":"","upvote_ratio":0.87,"created_utc":1678262837.0},{"title":"Yet Another Goroutine Pool - Simple Implementation, Generics","author":"TommyTim0515","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mow85\/yet_another_goroutine_pool_simple_implementation\/","text":"GitHub Link: [https:\/\/github.com\/txaty\/gool](https:\/\/github.com\/txaty\/gool)\n\nThere are already many good Goroutine pool implementations, and I love their designs so much.\n\nHere I post my own. I made this library several months ago for the parallel execution of the [Merkle Tree library](https:\/\/github.com\/txaty\/go-merkletree).\n\nAlthough the overhead of Goroutine is significantly lower than a regular thread, process, pooling, and reusing goroutines property can still help improve the program performance (and it did help with the performance of the Merkle Tree library).\n\nThe methods of my goroutine pool are just like Python ThreadPoolExecutor:\n\n* `Submit`: Submit a task and return the result (if any).\n* `AsyncSubmit`: Submit a task and return a future of the result (if any), the future is the result channel.\n* `Map`: Submit a bundle of tasks and return the results in order (if any).\n* `AsyncMap`: Submit a bundle of tasks and return the futures of the results (if any), the futures are the result channels.\n\nTo use it, you need to define the following:\n\n* Handler function: handler `func(A) R`, and\n* Argument: `arg A.`\n\nWith types `A` and `R` being arbitrary generic types.\n\nWhen creating a new pool, you can specify the number of workers numWorkers and the task queue size cap.\n\nPlease feel free to take a look and give some comments. Thanks!!","upvote_ratio":0.5,"created_utc":1678357917.0},{"title":"sockv5er - a tool to encrypt and route your internet traffic through free tier AWS EC2 instances","author":"don-t_judge_me","url":"https:\/\/github.com\/platput\/sockv5er","text":"","upvote_ratio":0.92,"created_utc":1678289218.0},{"title":"API Error Handling - How to keep it tidy?","author":"saltyrefrigerator","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11m962f\/api_error_handling_how_to_keep_it_tidy\/","text":"My `api` package has a definition of an error, `Error`. \n\nIt looks something like this:\n\n```\ntype Error struct {\n\tMessage string  `json:\"message\"`\n}\n\nfunc (e Error) Error() string {\n\treturn e.Message\n}\n\nvar ErrUnauthorized = Error{\n\tMessage: \"Unauthorized.\",\n}\n\nvar ErrNotFound = Error{\n\tMessage: \"Not found.\",\n}\n\nvar ErrInternalServerError = Error{\n\tMessage: \"Internal server error.\",\n}\n```\n\nTo respond with an error, we use (a much larger version of) the following:\n\n```\nfunc (api *API) respondWithError(w http.ResponseWriter, r *http.Request, err error) {\n\tif errors.Is(err, ErrUnauthorized) {\n\t\tapi.respondWithJSON(w, r, http.StatusUnauthorized, err)\n\t\treturn\n\t}\n\n\tif errors.Is(err, ErrNotFound) {\n\t\tapi.respondWithJSON(w, r, http.StatusNotFound, err)\n\t\treturn\n\t}\n\n\tapi.respondWithJSON(w, r, http.StatusInternalServerError, ErrInternalServerError)\n}\n```\n\nIn the above example, I mentioned our real `respondWithError` function is larger; it handles over 40 types of errors right now and keeps growing. Errors from Postgres, errors from our cache, errors from our application, errors from marshaling JSON, etc.\n\nI'd like to clean this up since there are less than 10 errors that our API actually responds with; everything else is logged and returns one of the other errors.\n\nWhat would you recommend to clean this up? How do you handle errors in your API?","upvote_ratio":0.82,"created_utc":1678311887.0},{"title":"How to run makefile under firewall?","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mwbxg\/how_to_run_makefile_under_firewall\/","text":"I am trying to use makefile for my golang build file and i am under the firewall and can't install any utility like exe. How can i run makefile wihtin the firewall?","upvote_ratio":0.25,"created_utc":1678378705.0},{"title":"Function for train\/test split?","author":"Plusdebeurre","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mc3uc\/function_for_traintest_split\/","text":"Hey, sorry for such a basic question, but for those out there that work with data (analyst, scientist, engineer), what method do you use to split datasets?  I'm very familiar with the python environment and trying to learn Go for DS, but I'm having a hard time finding functions that are meant for this other than:\n\ntrainData, testData := base.InstancesTrainTestSplit(rawData, 0.50)\n\nwhich I suppose is fine, but it doesn't take dataframes, so it's kind of inconvenient to go from gota to golearn, unlike pandas to sklearn. Am I missing something?","upvote_ratio":1.0,"created_utc":1678318655.0},{"title":"gin user-auth template","author":"Gold_Experience_MUDA","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11m1m1g\/gin_userauth_template\/","text":"I'm a newbie, please review my gin user-auth template and feel free to use offensive comment.\n\n&#x200B;\n\n[https:\/\/github.com\/peterxcli\/basic-auth-gin](https:\/\/github.com\/peterxcli\/basic-auth-gin)\n\n&#x200B;\n\nthere are some endpoints:\n\n&#x200B;\n\n* **GET** [**\/api\/users\/verify\\_email**](http:\/\/localhost:9000\/swagger\/index.html#\/user\/get_api_users_verify_email) Verify user email\n* **GET** [**\/user\/auth\/google**](http:\/\/localhost:9000\/swagger\/index.html#\/user\/get_user_auth_google) Initiate Google OAuth2 authentication flow\n* **GET** [**\/user\/auth\/google\/callback**](http:\/\/localhost:9000\/swagger\/index.html#\/user\/get_user_auth_google_callback) Inserts or updates a user with the data received from Google OAuth\n* **POST** [**\/user\/login**](http:\/\/localhost:9000\/swagger\/index.html#\/user\/post_user_login) Logs in a user\n* **POST** [**\/users\/register**](http:\/\/localhost:9000\/swagger\/index.html#\/user\/post_users_register) Register a new user\n* **POST** [**\/token\/refresh**](http:\/\/localhost:9000\/swagger\/index.html#\/auth\/post_token_refresh) Refresh the access token using a refresh token\n\n&#x200B;\n\nit's db is mongoDB\n\nif you need a basic template, just take it.","upvote_ratio":0.86,"created_utc":1678294799.0},{"title":"My Clean Architecture Go Application","author":"sadensmol","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mrn44\/my_clean_architecture_go_application\/","text":"Hey, Gophers! I spent a few days of putting my thoughts and experience I gained during my move to Go stack. I'd be glad for good critique, and comments if you could share!   \nPlease notice I'm fully into Go for a few months yet, but trying to adopt something good from my past JVM world into it. Thank you!\n\n[https:\/\/medium.com\/@sadensmol\/my-clean-architecture-go-application-e4611b1754cb](https:\/\/medium.com\/@sadensmol\/my-clean-architecture-go-application-e4611b1754cb)","upvote_ratio":0.41,"created_utc":1678366986.0},{"title":"OpenTelemetry in Golang","author":"Devobservability","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mupfp\/opentelemetry_in_golang\/","text":"If you're looking for an easy way to implement OpenTelemetry in Go check out [this page.](https:\/\/gethelios.dev\/golang-instrumentation\/)","upvote_ratio":0.14,"created_utc":1678374816.0},{"title":"Creating Dynamic Shipping Labels","author":"TDRichie","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mb0hs\/creating_dynamic_shipping_labels\/","text":"I am working on a project that requires me to create a shipping label that is dynamically populated with the end user\u2019s data (such as address, package weight, etc), and then shared with the end user as an image file (PNG, JPEG would both be acceptable file formats). \n\nI am struggling to find a best path to do this. My instinct was to create an HTML template for the label, populate that template with my data, and then convert the HTML to an image file, but this is not proving to be as cut and dry as I would have hoped. \n\nDoes anyone have experience with creating precisely sized, dynamically populated images using GoLang? Any suggestions of paths I may have not yet considered?","upvote_ratio":0.75,"created_utc":1678316159.0},{"title":"Go Build,AWS(ec2,s3),Github Actions help!","author":"Sansoldino","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mdrmc\/go_buildawsec2s3github_actions_help\/","text":"Hey Go veterans, I really need some quick help here. This is my first time fully operating AWS but I am not trying to do anything crazy. I have one go git repo and I wanna use Github Actions to build my project, zip executable (linux sh) with one json. Then I upload it to S3 bucket and that part works. Then we use that s3 file and download it on ec2 instance successfully. After that we unzip that file and move it to \/opt\/telebot. It is successfully unziped at that location and ready to be used, but that last command sudo nohup doesn't seem to run that script. By using htop and ofc trying to use bot, we see that app is not running. I am able to run app manually, but I am not sure what could cause this. Variables are set in .zshrc so script use these var names. \n\nI will provide some snippets of last part when running Github Action:\n\n```sh\n\nRun appleboy\/ssh-action@master \n\n[2](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:2) with: \n\n[3](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:3)   host: 3.75.194.12 \n\n[4](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:4)   username: ubuntu \n\n[5](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:5)   key: \\*\\*\\* \n\n[6](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:6)   script: sudo unzip deployment-package.zip\/deployment-package.zip -d \/opt\/telebot \n\n[7](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:7) sudo nohup \/opt\/telebot\/telebot --bot-token=$BOT\\_TOKEN --chat-id=$CHAT\\_ID --clusters-json=\/opt\/telebot\/clusters.json > \/var\/log\/telebot.log 2>&1 & \n\n[8](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:8)  \n\n[9](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:9)   port: 22 \n\n[10](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:10)   sync: false \n\n[11](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:11)   use\\_insecure\\_cipher: false \n\n[12](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:12)   timeout: 30s \n\n[13](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:13)   command\\_timeout: 10m \n\n[14](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:14)   proxy\\_port: 22 \n\n[15](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:15)   proxy\\_timeout: 30s \n\n[16](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:16)   proxy\\_use\\_insecure\\_cipher: false \n\n[17](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:17)   script\\_stop: false \n\n[18](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:18)   debug: false \n\n[19](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:19) env: \n\n[20](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:20)   GOROOT: \/opt\/hostedtoolcache\/go\/1.18.10\/x64 \n\n[21](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:21)   BOT\\_TOKEN: \\*\\*\\* \n\n[22](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:22)   CHAT\\_ID: \\*\\*\\* \n\n[23](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:23)   AWS\\_S3\\_BUCKET: \\*\\*\\*-deploy-bucket \n\n[24](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:24)   AWS\\_ACCESS\\_KEY\\_ID: \\*\\*\\* \n\n[25](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:25)   AWS\\_SECRET\\_ACCESS\\_KEY: \\*\\*\\* \n\n[26](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:26)   EC2\\_INSTANCE\\_PASSWORD: \\*\\*\\* \n\n[27](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:27)   EC2\\_INSTANCE\\_PRIVATE\\_KEY: \\*\\*\\* \n\n[29](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:30)======CMD====== \n\n[30](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:31)sudo unzip deployment-package.zip\/deployment-package.zip -d \/opt\/telebot \n\n[31](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:32)sudo nohup \/opt\/telebot\/telebot --bot-token=$BOT\\_TOKEN --chat-id=$CHAT\\_ID --clusters-json=\/opt\/telebot\/clusters.json > \/var\/log\/telebot.log 2>&1 & \n\n[32](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:33) \n\n[34](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:35)======END====== \n\n[35](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:36)out: Archive:  deployment-package.zip\/deployment-package.zip \n\n[36](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:37)out:   inflating: \/opt\/telebot\/telebot     \n\n[37](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:38)out:   inflating: \/opt\/telebot\/clusters.json   \n\n[38](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:39)============================================== \n\n[39](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:40)\u2705 Successfully executed commands to all host. \n\n[39](https:\/\/github.com\/ASoldo\/telegram-bot-go\/actions\/runs\/4369623655\/jobs\/7643612853#step:12:40)==============================================\n\n```\nand this is deploy.yml file:\nhttps:\/\/github.com\/ASoldo\/telegram-bot-go\/blob\/main\/.github\/workflows\/deploy.yml\n\nAny help will be appreciated since this is my first time doing it all by myself. All is working and job is passing. There is no error, but app is not running. \n-Thank you!\n\nERRATA: Sorry for some \"\\\\\/\/\" as they were added by copy\/paste.","upvote_ratio":0.4,"created_utc":1678322747.0},{"title":"Help interpreting \/ utilizing Go code snippet","author":"RidesFlysAndVibes","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mcu32\/help_interpreting_utilizing_go_code_snippet\/","text":"I want to use Go to create a program that will switch my default audio output source. I asked about this other day and the answers I got led me down a rabbit hole of research. Fortunately, I found a very promising post that claims they pulled it off using this package:\n\n[https:\/\/github.com\/moutend\/go-wca\/](https:\/\/github.com\/moutend\/go-wca\/)\n\nSomebody even specifically made an issue on how to change the default audio output source here with a code snippet on how to do it:\n\n[https:\/\/github.com\/moutend\/go-wca\/issues\/7](https:\/\/github.com\/moutend\/go-wca\/issues\/7)\n\nSounds like my problems solved right? Well, this code is formatted in a way that implies I can just copy and paste it. It's package is \"main\", it has all the right imports, but it doesn't include a main function. So it's not a standalone snippet that I can just copy and paste and it just works. \n\nIt has this struct called  `IPolicyConfigVistaVtbl` which surely needs to be populated and used somehow, but theres no example on how to do that. I believe that this example from the package is the most helpful for understanding how this all fits together.\n\n[https:\/\/github.com\/moutend\/go-wca\/tree\/develop\/\\_example\/EndpointVolume](https:\/\/github.com\/moutend\/go-wca\/tree\/develop\/_example\/EndpointVolume)\n\nCan anybody help me understand how to use the code snippet posted in the github issue to actually function? \n\nThank you for any help, I've been looking into this for days. I've asked on this subreddit before, asked chat gpt, tried figuring it out myself by making syscalls and importing various DLLs, but nothings working and everything's going over my head. Interfacing with windows (especially hardware) is not my strong suite. I'm desperate at this point and it's day 5 of trying to do this.","upvote_ratio":1.0,"created_utc":1678320415.0},{"title":"How useful can github's copilot?","author":"Altruistic-Emu3181","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11mlowq\/how_useful_can_githubs_copilot\/","text":"I am planing to start using github's copilot but I wondering what are its realwold use cases?","upvote_ratio":0.42,"created_utc":1678345909.0},{"title":"Slashbase: Open-source database IDE for your dev & data workflows (Desktop app built with go and react)","author":"davecoolgood","url":"https:\/\/github.com\/slashbaseide\/slashbase","text":"","upvote_ratio":0.91,"created_utc":1678255926.0},{"title":"Senior engineer here trying to pick up Go for jobs. What resources can you recommend me to cover as much ground as possible","author":"kuncog","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l8fva\/senior_engineer_here_trying_to_pick_up_go_for\/","text":"Hey, I have around 12 years of experience working as a backend engineer, most of that time was spent with Ruby, microservices, AWS, Kubernetes etc. \n\nI did develop in Go here and there and know the syntax to a decent level, but we all know that is scraping the surface. \n\nCan you recommend me resources or even just stuff to learn that would have the best ROI. All the jobs I'm seeing require \"at least 2-3 years exp with Go\", in order to comfortably pass these I should know more than the syntax. \n\nBooks I've been recommended so far:\n- Titmus - Cloud Native Go \n- Jeffery - Distributed Services in Go","upvote_ratio":0.91,"created_utc":1678216750.0},{"title":"Open source golang projects to contribute for mid devs","author":"paulius-t","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lxrau\/open_source_golang_projects_to_contribute_for_mid\/","text":"I am a mid level develop in golang and want to start contributing to open source projects to get some more experience. Any recommendations for active projects please?","upvote_ratio":0.75,"created_utc":1678285690.0},{"title":"any open source that checks security vulnerabilities in code?","author":"West_Ad7170","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lpk8m\/any_open_source_that_checks_security\/","text":"Hi all,\n\nI have a use case where I need to check if the developer is pushing any tokens\/credentials\/certificates or any other  security vulnerabilities as well as code analysis\n\nis there any open source tool to check any security vulnerabilities \/ or by mistake i am pushing any git tokens or AWS credentials to git  \n\n\nis there any tool that checks all these types of stuff on the code level, which makes the user not push those changes to git\n\nwhich tools do you use to solve this problem or what other way to solve this\n\ncan you pls suggest  \nThank you","upvote_ratio":0.82,"created_utc":1678259959.0},{"title":"High-performance JSON parsing in Go","author":"yevmir","url":"https:\/\/www.cockroachlabs.com\/blog\/high-performance-json-parsing\/","text":"","upvote_ratio":0.94,"created_utc":1678203313.0},{"title":"Biggest lesson learned.","author":"Aesop7K","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lytr3\/biggest_lesson_learned\/","text":"Golang has taught me to pay more attention to building the code, implementing tests and being careful in the subject that covers memory\/invisible errors.\n\nBuilding software with go has been like building pyramids if the base is weak everything Seeks to fall.\n\nI believe this is the biggest lesson this language has taught me.\n\nWhat is your greatest Tip to share?","upvote_ratio":0.44,"created_utc":1678288358.0},{"title":"How and why to use the new http.ResponseController type","author":"alexedwards","url":"https:\/\/www.alexedwards.net\/blog\/how-to-use-the-http-responsecontroller-type","text":"","upvote_ratio":0.95,"created_utc":1678210685.0},{"title":"Advice needed for generating schema-struct diff","author":"DeZeroKey","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lxx7z\/advice_needed_for_generating_schemastruct_diff\/","text":"Hello comminuty. \nIm currently working on creating migration part for my project. And I want to ask about advice. \n\nCould someone recomend tool for Go, that could generate sql query base on structure or\/and detect diff between DB table and go structure. For example: I have created structure:\nGo\ntype M struct {\n    ID int64 `gorm:\"column:id;primary;\"`\n}\n \n\nand and result of this tool should be sql like:\n\nsql\nCREATE TABLE `m` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`id`)\n);\n\nI have found a lot of tools that allow to do up\/down part with versioning from this libraries (http s:\/\/github.com\/avelino\/awesome-go#database-schema-migration). But Im strugling to find tol that will generate sql code for this migrations.","upvote_ratio":0.5,"created_utc":1678286120.0},{"title":"Automating Excel Tasks","author":"NoLion5101","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lu7fi\/automating_excel_tasks\/","text":"Can we automate excel tasks using golang ?","upvote_ratio":0.5,"created_utc":1678275759.0},{"title":"Go 1.20.2 and Go 1.19.7 versions are released","author":"kedar5","url":"https:\/\/golangtutorial.dev\/news\/go-1.20.2-and-go-1.19.7-versions-released\/","text":"","upvote_ratio":0.85,"created_utc":1678210541.0},{"title":"Many transfer encoding","author":"WesternDesign2161","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lxmqb\/many_transfer_encoding\/","text":"I am trying to take the html from a website through http get and when I print the response as a string I get, many transfer encoding chunked chunked. How can I make this work?","upvote_ratio":0.25,"created_utc":1678285339.0},{"title":"Authentication in Go? Best practices","author":"Darthtrooper22","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l0cnk\/authentication_in_go_best_practices\/","text":" \n\nI am planning to build a platform using Go as my backend language. I would like to know what authentication methods you guys use.\n\nI have two different use cases:\n\n1. If I use a simple email and password login, should I build it myself or use a library or external service?\n2. If I use social authentication, such as signing in with Google or GitHub, what external services do you recommend for using OAuth2?","upvote_ratio":0.88,"created_utc":1678198211.0},{"title":"Go version of Infinite Storage Glitch - learning Go","author":"basicallyeitherway","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l68l5\/go_version_of_infinite_storage_glitch_learning_go\/","text":"[https:\/\/github.com\/CameronSima\/golang-tape-storage](https:\/\/github.com\/CameronSima\/golang-tape-storage)\n\nIf you've seen the [Infinite Storage Glitch](https:\/\/github.com\/DvorakDwarf\/Infinite-Storage-Glitch) repo which got around the internet a few weeks ago, you know it's a novel project written in Rust that basically turns YouTube into your own personal, infinite backup storage solution by encoding data into video files (basically pixelated static). I thought it would be a neat project to use to get better at Go.\n\nI was hoping some of you Go-pros could take a look and critique my code. I'm coming from Python and Typescript, so I'm sure the style and implementation is terrible. But I would like to improve my Go! Both style and performance-wise\n\n&#x200B;\n\nThanks!\n\n&#x200B;\n\n[https:\/\/github.com\/CameronSima\/golang-tape-storage](https:\/\/github.com\/CameronSima\/golang-tape-storage)","upvote_ratio":0.88,"created_utc":1678211860.0},{"title":"A Journey Through Integration Testing with Go by Samantha Coyle","author":"PurpleLabradoodle","url":"https:\/\/www.youtube.com\/watch?v=o_B4HFfeKEs","text":"","upvote_ratio":0.95,"created_utc":1678194545.0},{"title":"Things to Consider When Going With sqlc","author":"preslavrachev","url":"https:\/\/preslav.me\/2023\/03\/07\/reasons-against-sqlc\/","text":"","upvote_ratio":0.75,"created_utc":1678204413.0},{"title":"Writing tests for APIs","author":"hossein1376","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kztq9\/writing_tests_for_apis\/","text":"I understand the importance of unit tests, but the project I'm working on has none; because I don't know how to write tests related to reading from or writing to the database, validate requests and all the stuff APIs do.\n\nAny good sources\/books\/packages for this? Thanks!","upvote_ratio":0.92,"created_utc":1678196930.0},{"title":"A quick game I made using ebiten","author":"IpreferWater","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kzc7z\/a_quick_game_i_made_using_ebiten\/","text":"Kind of guitar hero versus ... you will need a friend to play with\n\n[link](https:\/\/ipreferwater-website.vercel.app\/blog\/bubble-versus)\n\nI'm a bored Freelance looking for a mission","upvote_ratio":0.95,"created_utc":1678195660.0},{"title":"Go err handle","author":"vu_N","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lxnp7\/go_err_handle\/","text":"What is the best practice to handle error in go? nearly every func return err value and we must check each of them. That lead to \u2018if statements\u2019 dotting in the code","upvote_ratio":0.3,"created_utc":1678285414.0},{"title":"Fitter - GQL for web scrawling, multiple sources, defining fields, emulating browser and more other","author":"PyxRu","url":"https:\/\/github.com\/PxyUp\/fitter","text":"","upvote_ratio":0.6,"created_utc":1678241612.0},{"title":"not enough arguments in call to metav1validation.ValidateLabelSelector","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lqg6t\/not_enough_arguments_in_call_to\/","text":"```\nnot enough arguments in call to metav1validation.ValidateLabelSelector\n        have (*\"k8s.io\/apimachinery\/pkg\/apis\/meta\/v1\".LabelSelector, *\"k8s.io\/apimachinery\/pkg\/util\/validation\/field\".Path)\n        want (*\"k8s.io\/apimachinery\/pkg\/apis\/meta\/v1\".LabelSelector, \"k8s.io\/apimachinery\/pkg\/apis\/meta\/v1\/validation\".LabelSelectorValidationOptions, *\"k8s.io\/apimachinery\/pkg\/util\/validation\/field\".Path))\n```\n\nI get compile errors because `ValidateLabelSelector` needs an additional argument (`LabelSelectorValidationOptions`) now.\n\nLooking at [blame](https:\/\/github.com\/kubernetes\/apimachinery\/blame\/53ecdf01b997ca93c7db7615dfe7b27ad8391983\/pkg\/apis\/meta\/v1\/validation\/validation.go#L56) I see that this commit was done two years ago.\n\nJust out of curiosity: was there no alternative solution, without the need to update existing code?","upvote_ratio":0.2,"created_utc":1678262924.0},{"title":"Find implementations of an interface or return value of function","author":"opensrcdev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lnst2\/find_implementations_of_an_interface_or_return\/","text":"I need to use Golang to find structs that implement an interface, or packages that export functions with a return type of a specific data type. For example, I need to find out how to get access to an object implementing the io\/fs.FileInfo interface.\n\nThere is mention of \"oracle\" and \"guru\" and other tools, but I cannot find any practical examples of how to use any of these alleged tools. Can someone provide concrete direction and example of how to:\n\n* Find types that implement an interface\n* Find functions in packages that return a specific type\n\n[https:\/\/stackoverflow.com\/questions\/30012910\/how-do-you-quickly-find-the-implementations-of-an-interface-in-golang](https:\/\/stackoverflow.com\/questions\/30012910\/how-do-you-quickly-find-the-implementations-of-an-interface-in-golang)\n\n[https:\/\/pkg.go.dev\/io\/fs@go1.20.1#FileInfo](https:\/\/pkg.go.dev\/io\/fs@go1.20.1#FileInfo)","upvote_ratio":0.44,"created_utc":1678254361.0},{"title":"Bob v0.17.0: Easy Relationship Joins","author":"StephenAfamO","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kzi3t\/bob_v0170_easy_relationship_joins\/","text":"* [GitHub](https:\/\/github.com\/stephenafamo\/bob)\n* [Website](https:\/\/bob.stephenafamo.com\/)\n\nI just released v0.17.0 of Bob. Bob now generates join mods for relationships.\n\nPersonally, I found that most of the joins I did when building queries were so that I could filter by a related table.\n\nSince Bob knows about all model relationships during generation, I thought it would be nice to pre-generate these Join mods so that I don't have to do it by hand every time.\n\nSo, if you have a users table and a posts table, **instead of this**:\n\n    models.Posts(\n      models.SelectWhere.Users.Role.EQ(\"admin\"),\n      \n      \/\/ THE OLD WAY\n      sm.InnerJoin(models.TableNames.Users).\n        On(models.UserColumns.ID.EQ(models.PostColumns.UserID)),\n    )\n\n**we can now do this**:\n\n    models.Posts(\n      models.SelectWhere.Users.Role.EQ(\"admin\"),\n    \n      \/\/ THE NEW WAY\n      models.SelectJoins(ctx).Posts.InnerJoin.Users,\n    )\n\nIf we imagine a relationship with multiple columns or spanning multiple tables, the old way can be tedious to write, and the new way makes it much easier.\n\nPS: There is also Insert\/UpdateJoins and Left\/Right Join.\n\nPPS: I know I recently posted about v0.16.0, but I felt this was interesting to share too.","upvote_ratio":0.83,"created_utc":1678196092.0},{"title":"Building micro-services that are automatically load-balanced, discoverable and observable using NATS and Go","author":"codegangsta","url":"https:\/\/www.youtube.com\/watch?v=byHGNUqIONw","text":"","upvote_ratio":0.9,"created_utc":1678143514.0},{"title":"uint8 and uint32 don't work the same???","author":"Finn32533","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l164o\/uint8_and_uint32_dont_work_the_same\/","text":"Am I crazy or is this kind of weird? By only changing data type these programs produce different output and I can't work out why even after cracking my head on this\n\nThis produces the output I expect\n\n    func main() {\n    \tvar old [][]uint32 = [][]uint32{[]uint32{0}}\n    \tvar new [][]uint32\n    \n    \tfor i := 0; i < 2; i++ {\n    \t\tfor j := range old {\n    \t\t\tfor k := 0; k < 2; k++ {\n    \t\t\t\tnewEntry := append(old[j], uint32(k))\n    \t\t\t\tnew = append(new, newEntry)\n    \t\t\t}\n    \t\t}\n    \t\told = new\n    \t\tnew = [][]uint32{}\n    \t}\n    \n    \tfmt.Println(old) \/\/ [[0 0 0] [0 0 1] [0 1 0] [0 1 1]]\n    }\n\nvs this one that doesn't\n\n    func main() {\n    \tvar old [][]uint8 = [][]uint8{[]uint8{0}}\n    \tvar new [][]uint8\n    \n    \tfor i := 0; i < 2; i++ {\n    \t\tfor j := range old {\n    \t\t\tfor k := 0; k < 2; k++ {\n    \t\t\t\tnewEntry := append(old[j], uint8(k))\n    \t\t\t\tnew = append(new, newEntry)\n    \t\t\t}\n    \t\t}\n    \t\told = new\n    \t\tnew = [][]uint8{}\n    \t}\n    \n    \tfmt.Println(old) \/\/ [[0 0 1] [0 0 1] [0 1 1] [0 1 1]]\n    }","upvote_ratio":0.62,"created_utc":1678200216.0},{"title":"Precompiled CGo Code","author":"zone-stalker","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l0s7j\/precompiled_cgo_code\/","text":"Hi guys!\n\nI'm working at a company where I want to write some tooling in Go (it's my go-to). I have some code that requires a C library; however, I don't want the setup to be super complex for the team (we're only allowed to use windows, i.e. setting up mingw, downloading the source for the libs, setting up pkg-config, etc). I was wondering if there was a way I could precompile the cgo code and check it into the repo such that other devs could modify the go code and wouldn't need a tool chain to build the app (as it was already precompiled). I prototyped a way around this by using syscalls to DLL's of the library, but it feels a bit dirty and would require the DLL files to be included. Any help would be appreciated.\n\nThanks!","upvote_ratio":1.0,"created_utc":1678199290.0},{"title":"Valgo v0.2.1, the type-safe, expressive, and extensible validator for Golang, is out","author":"carlosforero","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l5026\/valgo_v021_the_typesafe_expressive_and_extensible\/","text":"[**https:\/\/github.com\/cohesivestack\/valgo**](https:\/\/github.com\/cohesivestack\/valgo)\n\nThis library is designed to provide a simple, type-safe, expressive, and extensible validation solution for Golang. Two months ago, we received feedback from the community that allowed us to improve the code.\n\nWe think we are very close to reaching version 1. However, we would appreciate more feedback from the community.\n\nThank you!","upvote_ratio":0.67,"created_utc":1678209022.0},{"title":"golangci-lint: out of memory","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l2zes\/golangcilint_out_of_memory\/","text":"I run golangci-lint, but it fails because it uses too much memory.\n\n```\ngo version\ngo version go1.20.1 linux\/amd64\ngolangci-lint version\ngolangci-lint has version 1.50.1 built from 8926a95f on 2022-10-22T10:50:47Z\nGO111MODULE=on golangci-lint run -v \nINFO [config_reader] Config search paths: [.\/ \/src\/foo \/src \/] \nINFO [config_reader] Used config file .golangci.yaml \nINFO [lintersdb] Active 40 linters: [asasalint asciicheck bidichk bodyclose containedctx depguard dogsled durationcheck errcheck errchkjson exportloopref gci goconst gocritic godot gofmt goimports goprintffuncname gosec gosimple govet importas ineffassign misspell nakedret nilerr noctx nolintlint prealloc predeclared revive rowserrcheck staticcheck stylecheck thelper typecheck unconvert unparam unused whitespace] \nINFO [loader] Go packages loading at mode 575 (compiled_files|deps|files|name|exports_file|imports|types_sizes) took 18.779763942s \nINFO [runner\/filename_unadjuster] Pre-built 0 adjustments in 9.534113ms \nmake: *** [Makefile:638: lint-golang] Killed\n```\n\n```\n\u276f cat \/proc\/meminfo \nMemTotal:       32590872 kB\nMemFree:        24460448 kB\n```\n\nThe strange thing: It works on the machine of a co-worker (with the same amount of RAM), and it works in github action with only 4GByte of RAM.\n\nI don't understand why this is different on my machine.","upvote_ratio":0.76,"created_utc":1678204488.0},{"title":"Is this enough to be worth listing as a simple project on a resume (for an entry-level\/ junior dev","author":"Ok-Marionberry-9708","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l6m2d\/is_this_enough_to_be_worth_listing_as_a_simple\/","text":" Hey everyone \n\nI've got a project I'm working on that's much, much bigger and more complex. But I've self-taught for about five months and am just looking for a career change from my current industry. I've got a decent, basic understanding of GO, but since I'm not in the programming field, I was wondering -- \n\nwould something like the below code be enough for a very basic showcase of a project on a resume? \n\nIt's a simple weather scraper app that uses Accuweather's API. I will refactor everything into separate files, but for the sake of simplicity here, everything is in the main file \n\n&#x200B;\n\n    package main \n    \n    import (\n    \t\"encoding\/json\"\n    \t\"fmt\"\n    \t\"net\/http\"\n    \t\"net\/url\"\n    \t\"regexp\"\n    \t\"strings\"\n    )\n    \n    const (\n    \tapiKey      = \"####APIKEY####\"\n    \tlocationURL = \"http:\/\/dataservice.accuweather.com\/locations\/v1\/cities\/search\"\n    \tcurrentURL  = \"http:\/\/dataservice.accuweather.com\/currentconditions\/v1\/%s?apikey=%s&details=true&imperial=true\"\n    )\n    \n    type Location struct {\n    \tKey                string             `json:\"Key\"`\n    \tLocalizedName      string             `json:\"LocalizedName\"`\n    \tAdministrativeArea AdministrativeArea `json:\"AdministrativeArea\"`\n    }\n    \n    type AdministrativeArea struct {\n    \tID            string `json:\"ID\"`\n    \tLocalizedName string `json:\"LocalizedName\"`\n    }\n    \n    type CurrentConditions struct {\n        Temperature struct {\n            Metric struct {\n                Value float32 `json:\"Value\"`\n            } `json:\"Metric\"`\n            Imperial struct {\n                Value float32 `json:\"Value\"`\n            } `json:\"Imperial\"`\n        } `json:\"Temperature\"`\n        WeatherText string `json:\"WeatherText\"`\n    }\n    \n    \n    func main() {\n    \thttp.HandleFunc(\"\/weather\", handleWeatherRequest)\n    \thttp.Handle(\"\/\", http.FileServer(http.Dir(\".\")))\n    \thttp.ListenAndServe(\":8080\", nil)\n    }\n    \n    func isValidInput(city, state string) bool {\n    \t\/\/ Ensure that city and state are not empty\n    \tif strings.TrimSpace(city) == \"\" || strings.TrimSpace(state) == \"\" {\n    \t\treturn false\n    \t}\n    \n    \t\/\/ Ensure that city and state contain only alphabetic characters and spaces\n    \tif !regexp.MustCompile(`^[A-Za-z ]+$`).MatchString(city) || !regexp.MustCompile(`^[A-Za-z ]+$`).MatchString(state) {\n    \t\treturn false\n    \t}\n    \n    \treturn true\n    }\n    \n    func handleWeatherRequest(w http.ResponseWriter, r *http.Request) {\n    \tif r.Method != \"POST\" {\n    \t\thttp.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n    \t\treturn\n    \t}\n    \n    \tvar requestBody struct {\n    \t\tCity  string `json:\"city\"`\n    \t\tState string `json:\"state\"`\n    \t}\n    \terr := json.NewDecoder(r.Body).Decode(&requestBody)\n    \tif err != nil || requestBody.City == \"\" || requestBody.State == \"\" {\n    \t\thttp.Error(w, \"Invalid input. Please enter a valid city and state.\", http.StatusBadRequest)\n    \t\treturn\n    \t}\n    \n    \tif !isValidInput(requestBody.City, requestBody.State) {\n    \t\thttp.Error(w, \"Invalid input. Please enter a valid city and state.\", http.StatusBadRequest)\n    \t\treturn\n    \t}\n    \n    \tlocationKey, err := getLocationKey(requestBody.City, requestBody.State)\n    \tif err != nil {\n    \t\thttp.Error(w, fmt.Sprintf(\"Error: %v\", err), http.StatusInternalServerError)\n    \t\treturn\n    \t}\n    \n    \tweather, err := getCurrentConditions(locationKey)\n    \tif err != nil {\n    \t\thttp.Error(w, fmt.Sprintf(\"Error: %v\", err), http.StatusInternalServerError)\n    \t\treturn\n    \t}\n    \n    \tresponse := map[string]interface{}{\n    \t\t\"city\":      requestBody.City,\n    \t\t\"state\":     requestBody.State,\n    \t\t\"temp\":      weather.Temperature.Imperial.Value,\n    \t\t\"condition\": weather.WeatherText,\n    \t}\n    \tjsonResponse, err := json.Marshal(response)\n    \tif err != nil {\n    \t\thttp.Error(w, \"Internal server error\", http.StatusInternalServerError)\n    \t\treturn\n    \t}\n    \n    \tw.Header().Set(\"Content-Type\", \"application\/json\")\n    \tw.Write(jsonResponse)\n    }\n    \n    \n    \n    func getLocationKey(city, state string) (string, error) {\n        location := fmt.Sprintf(\"%s, %s\", strings.TrimSpace(city), strings.TrimSpace(state))\n        query := url.Values{\n            \"apikey\": {apiKey},\n            \"q\":      {location},\n        }\n    \n        resp, err := http.Get(fmt.Sprintf(\"%s?%s\", locationURL, query.Encode()))\n        if err != nil {\n            return \"\", fmt.Errorf(\"HTTP request failed: %v\", err)\n        }\n    \n        defer resp.Body.Close()\n    \n        if resp.StatusCode != http.StatusOK {\n            return \"\", fmt.Errorf(\"failed to get location key: %s\", resp.Status)\n        }\n    \n        var locationResp []struct {\n            Key string `json:\"Key\"`\n        }\n    \n        if err := json.NewDecoder(resp.Body).Decode(&locationResp); err != nil {\n            return \"\", fmt.Errorf(\"failed to decode JSON response: %v\", err)\n        }\n    \n        if len(locationResp) < 1 {\n            return \"\", fmt.Errorf(\"no city\/state found for %s, %s\", city, state)\n        }\n    \n        return locationResp[0].Key, nil\n    }\n    \n    func getCurrentConditions(locationKey string) (*CurrentConditions, error) {\n        url := fmt.Sprintf(currentURL, locationKey, apiKey)\n    \n        resp, err := http.Get(url)\n        if err != nil {\n            return nil, fmt.Errorf(\"HTTP request failed: %v\", err)\n        }\n    \n        defer resp.Body.Close()\n    \n        if resp.StatusCode != http.StatusOK {\n            return nil, fmt.Errorf(\"failed to get current conditions: %s\", resp.Status)\n        }\n    \n        var weatherResp []*CurrentConditions\n    \n        if err := json.NewDecoder(resp.Body).Decode(&weatherResp); err != nil {\n            return nil, fmt.Errorf(\"failed to decode JSON response: %v\", err)\n        }\n    \n        if len(weatherResp) < 1 {\n            return nil, fmt.Errorf(\"no current conditions found for location key %s\", locationKey)\n        }\n    \n        return weatherResp[0], nil\n    }\n    \n\nI also made a simple front-end UI that has a bootstrap template and works properly with it so they can see that it actually works outside of the terminal.    \n\nI figured I could add some better error handling, some unit testing, and maybe a location detector, but I don't want to get too crazy with it. I have a substantial project that will be much more appealing to employers, but I want about 3 or so small projects so I can at least start earning some money somewhere, even if it's not much. I'm hungry to grow my skills lol. \n\nIs this way too basic or awful (honest feedback is how I learn so I'm fine with it if that's the case), or am I getting close to a resume-worthy project? Thanks guys.","upvote_ratio":1.0,"created_utc":1678212677.0},{"title":"Telegram Bot in Go","author":"Sansoldino","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kkb49\/telegram_bot_in_go\/","text":"Quick, little, and true happy story: Today, I was asked by my boss to take a look at one request that we got about Telegram Bots. I looked around the net and found a lot of Python tutorials. I was not particularly happy about it, but what the heck I tried. I wasn't even able to install necessary libs properly. that's how little i know Python. I was ready to give up. Very shortly, I found out about the telegram bot go package. 15 mins later, I got my bot up and running, learned everything about bot creation, and made it extensive with cli arguments, with json file arguments... in the next 30 mins. I was on fire \ud83d\udd25.  This just gave me more reason to advocate for Go and how easy it is when you don't have to fight a lot of stuff at once, step by step, and it can be done easily.","upvote_ratio":0.8,"created_utc":1678150957.0},{"title":"problem with golangci-lint and a monorepo with multiple services","author":"Outrageous-Love-7215","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l56x7\/problem_with_golangcilint_and_a_monorepo_with\/","text":"I have\u00a0 a monorepo with a bunch of services (I cannot modify that policy, sadly).  \nThe thing is that i want to have a common configuration file in the repository root and the specifics on each service directory.  \nI found that to do this i can just go and write this for example:  \n`extends:     file: ..\/.golangci.yml`  \nThe thing is that when i run the linter it runs the default config instead of the one configured in the file with the parent directory-","upvote_ratio":1.0,"created_utc":1678209461.0},{"title":"Resources for learning Backend with Golang","author":"Less_Camel_7252","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11lb9is\/resources_for_learning_backend_with_golang\/","text":"Any recommendations?","upvote_ratio":0.33,"created_utc":1678222973.0},{"title":"Extract password-protected archives","author":"ihippik","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11l45s0\/extract_passwordprotected_archives\/","text":"Hey guys!  \nPlease advise me libraries for extracting different types of archives with a password set.\n\nI, unfortunately, found only for RAR.  \n[https:\/\/github.com\/nwaples\/rardecode](https:\/\/github.com\/nwaples\/rardecode)","upvote_ratio":0.5,"created_utc":1678207157.0},{"title":"forge -- Run reusable steps from proprietary CI systems","author":"frantjc11","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11klhet\/forge_run_reusable_steps_from_proprietary_ci\/","text":"Hi all! Wanted to share something I've been working on for quite some time: [https:\/\/github.com\/frantjc\/forge](https:\/\/github.com\/frantjc\/forge)  \n\n\nThe primary selling point for most is probably \"Run GitHub Actions locally\" (note: \\_GitHub Actions\\_, not \\_GitHub Actions Workflows\\_, which is the difference between this and nektos\/act).  \n\n\nBut Forge is a bit more than that: it's meant to be a library and CLI for running reusable steps from many proprietary CI systems using. This, among other things, makes the functionality provided to GitHub Actions easily consumable (or testable) by users of other CI systems.  \n\n\nCurrently, it can execute Concourse Resources and GitHub Actions.  \n\n\nThe idea took root when my company switched from Concourse to GitHub Actions as a CI system. This forced us to replace our uses of Concourse Resources with equivalent GitHub Actions if they existed or to develop our own if they did not. This experience left a bad taste in my mouth: to fully take advantage of most modern CI systems, you should use their native \"plugins\", but this is a double-edged sword: it tightly couples you to the system, making migrating to a new system a pain. Moreover, developing custom \"plugins\" for these systems is difficult: how do you test\/debug them efficiently?  \n\n\nThis is what Forge aims to solve.","upvote_ratio":0.9,"created_utc":1678153865.0},{"title":"Is gomock still maintained and recommended?","author":"chillysurfer","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ke9m7\/is_gomock_still_maintained_and_recommended\/","text":"Looking at [gomock's commit history](https:\/\/github.com\/golang\/mock\/commits\/main), it seems like there hasn't been much activity on the project in a couple of years. I'm wondering if this is the case of software being mostly done and just in maintenance mode, or if gomock is falling behind. The reason I fear for the latter is there are still [issues being opened up](https:\/\/github.com\/golang\/mock\/issues) that don't seem to be engaged very much.\n\nOr maybe most Go programmers just avoid a mocking framework, or mocking entirely (and maybe just go with fake test doubles).","upvote_ratio":0.94,"created_utc":1678137327.0},{"title":"Announcing go-vk: A Go binding for the Vulkan graphics API","author":"brewbot","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jzhhx\/announcing_govk_a_go_binding_for_the_vulkan\/","text":"go-vk is a Go language binding around the Vulkan graphics and compute API. Lots more detail on the [Github page](https:\/\/github.com\/bbredesen\/go-vk):  \n\n**Does it work?** Yes! It is absolutely functional as a graphics API and there are working examples linked below. I would love to see any projects you want to build or port to go-vk.\n\n**Is it production-ready?** Definitely not. There are some known bugs in the code generation and there are unaddressed areas of the API, specifically video decoding, that I\u2019m certain do not work yet. I\u2019ve also only built and tested against Windows so far and I\u2019m contemplating some breaking changes with respect to return values (returning a Vulkan result code vs. a Go error) and with the handling of pNext in Vulkan structures. We\u2019ll get there soon, but I\u2019d say go-vk is somewhere between an alpha and beta state as of today.\n\n**Why did you make this?** I used to be really interested in computer graphics (back in college before life got in the way) and I started learning a bit of Vulkan a few years ago to get back up to speed. This was right around the same time that I started learning Go (and I LOVE Go), and I think automatic code generation is really interesting, so why not try to combine all of them? I've been toying with the project for years, but settled down and got it ready to share over the last few months.\n\n**How is it built?** go-vk is mostly generated code, using Khronos\u2019 Vulkan API registry file (vk.xml). Vulkan gets frequent API patch updates, and semi-frequent updates with new functionality and extensions. Generating the code allows me to quickly update go-vk when Vulkan updates. It will also allow me to target and tag releases for specific versions of the API. For example, if a project needs to work on Mac\/MoltenVk, then you could work specifically against a Vulkan 1.2 binding. The code generator project is linked at the bottom of this post.\n\n**I found an issue!** I welcome feedback, questions, bug reports, etc. If you build an app with go-vk, then I\u2019d love to see it. This is a big project with a lot of possible edge cases and I\u2019ll need the community\u2019s help to get to a 1.0 release.\n\n**Links, see the readme at each project for more details:**\n\ngo-vk, the Go binding to the Vulkan graphics and compute API: https:\/\/github.com\/bbredesen\/go-vk \n\nWorking samples following the Vulkan tutorial (Windows only, for the moment), with more sample projects coming - https:\/\/github.com\/bbredesen\/go-vk-samples\n\nAnother sample, demonstrating TTF glyph rendering in Vulkan using a stencil buffer: https:\/\/github.com\/bbredesen\/ttf-renderer\n\nvkm, a vector math package inspired by glm and used in all of my sample and testing projects: https:\/\/github.com\/bbredesen\/vkm\n\nvk-gen - https:\/\/github.com\/bbredesen\/vk-gen - The code generator for go-vk. No need to run this yourself if you want to try Go+Vulkan on Windows, though you\u2019d need to generate your own binding if working on Mac\/Linux\/etc. *** Other platforms are untested at this point. ***","upvote_ratio":0.98,"created_utc":1678110656.0},{"title":"Migrating a codebase from Py to Golang","author":"Accurate-Peak4856","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11k9sk3\/migrating_a_codebase_from_py_to_golang\/","text":"Been struggling with a python codebase that has resulted in \n\n\\- dependency hell to deal with\n\n\\- heavily depends on Jinja for its templating\n\n\\- very slow in the invocation\n\nWhat has been your experience moving a Python project over to Golang?  \nThe other alternative is moving to Rust with Python bindings - but that is still going to cause some dependency issues.","upvote_ratio":0.89,"created_utc":1678128289.0},{"title":"How to handle events: an interactive example of consumer groups","author":"mi_losz","url":"https:\/\/github.com\/ThreeDotsLabs\/watermill\/tree\/master\/_examples\/real-world-examples\/consumer-groups","text":"","upvote_ratio":1.0,"created_utc":1678183552.0},{"title":"Is there a framework out for go that rivals Laravel as far as out of the box features and tools?","author":"okawei","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kgwt2\/is_there_a_framework_out_for_go_that_rivals\/","text":"I love writing go, I would choose to write go 9 times out of 10 over any language.  I just *hate* how much boilerplate code I have to write when spinning up a new project.  Are there any frameworks for go out there right now which Ic an spin up an API and UI server with auth built in along with things like queues, emails, jobs, events, listeners, etc all abstracted out already?","upvote_ratio":0.69,"created_utc":1678143095.0},{"title":"WebRTC app using Asterisk in Go ?","author":"bundes_","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ktmue\/webrtc_app_using_asterisk_in_go\/","text":"Hello there,\n\nI have been testing golang for a web app using rest api and embedded http server.\n\nI was quite impressed by how the integration was easy, one exe  and one config file and here we go...\n\nI found the same spirit while deploying Prometheus, Grafana or Git Tea.\n\nNow I am thinking of a professional app, and my question is, can I imagine a single exe for a real time webrtc app based on asterisk ?\n\nIs it a good idea ? Should I separate back and front ?\n\nWhere could I find some advice about this ? (VoIP engineer and software engineer are very often two separate jobs...)\n\nThanks for your help ;)\n\nRegards.\n\nChris.","upvote_ratio":1.0,"created_utc":1678177860.0},{"title":"go-ssaviz: Visualize Go SSA function using Graphviz","author":"SilverRainZ_","url":"https:\/\/github.com\/SilverRainZ\/go-ssaviz","text":"","upvote_ratio":1.0,"created_utc":1678150976.0},{"title":"FlameScope for Go","author":"felixge","url":"https:\/\/blog.felixge.de\/flamescope-for-go\/","text":"","upvote_ratio":0.95,"created_utc":1678110719.0},{"title":"Administrative Changes - No GPT Content & Comment Sort Order","author":"jerf","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11k0nfw\/administrative_changes_no_gpt_content_comment\/","text":"First: After a number of posts we've removed, GPT-generated content is now officially banned. We don't have a crystal ball that tells us if content is GPT-generated any more than anyone else, as even the tools designed to do so are not very accurate. But we're going to do our best to remove it.\n\nThis also means very elementary content is going to get increased scrutiny, and will probably be removed more often. Based on voting patterns, the community won't miss this much anyhow.\n\nThis does not apply to GPT-_related_ content, such as an API binding to a GPT engine or other such programming content that is simply _related_ to GPT or similar technologies.\n\nSecond, there has been a series of complaints about the default comment sort order being \"New\". We haven't replied to each of them, but we've seen them. In the interests of avoiding squeaky-wheel syndrome, and making sure there isn't a solid majority happy with the current situation, here's a poll as to what it should be. Whatever wins will be the set.\n\n[View Poll](https:\/\/www.reddit.com\/poll\/11k0nfw)","upvote_ratio":0.96,"created_utc":1678113649.0},{"title":"Has Golang changed sinced Discord changed PL?","author":"A1337Murloc","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11khs2z\/has_golang_changed_sinced_discord_changed_pl\/","text":"For context: [https:\/\/discord.com\/blog\/why-discord-is-switching-from-go-to-rust](https:\/\/discord.com\/blog\/why-discord-is-switching-from-go-to-rust)  \n\n\nJust curious to know if Discord were to implement Golang in their system, would it have the same problems as before or did some things changed since then?","upvote_ratio":0.62,"created_utc":1678145032.0},{"title":"Repository with sqlc, how to hide transactions?","author":"sollniss","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11k0h8k\/repository_with_sqlc_how_to_hide_transactions\/","text":"As far as I can see, sqlc generates a `Queries` struct with a `WithTx` method, which looks to me like I'm supposed to handle transactions on my own. With the repository pattern I'm supposed to hide transactions, since they are implementation details, so ... how is this supposed to work?\n\nEmbedding `Queries` like this\n\n    type userRepository struct {\n    \tdb *sql.DB\n    \tQueries\n    }\n\n    func NewUserRepository(db *sql.DB) *userRepository{\n    \tif db == nil {\n    \t\tpanic(\"db can not be nil\")\n    \t}\n    \treturn &userRepository{\n    \t\tdb: db,\n    \t\tQueries: Queries{\n    \t\t\tdb: db,\n            },\n    \t}\n    }\n\nkind of allows me to start a query with either `r.db` or `r.Queries.db` which is a bit confusing.\n\nAnother way I can think of is having a function like\n\n    func queries(db DBTX) *Queries {\n        return &Queries{db: db}\n    }\n    \nbut this would require me to duplicate all methods on the `userRepository` like\n\n    func (r userRepository) User(ctx context.Context, id uint64) (repository.User, error) {\n    \treturn queries(r.db).User(ctx, id)\n    }\n\nwhich seems a bit ridiculous.\n\nOn github I can't find any real world projects using sqlc, so not sure what the common usage is.\nI see sqlc recommended a lot on this sub, so maybe someone has a better example?\nI've also tried fiddling with generic repositories, but I didn't really get anything useful out of it.","upvote_ratio":0.93,"created_utc":1678113194.0},{"title":"Trying to start a golang standardized function modules, naming for frequently used functions.","author":"cloudxaas","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11knitp\/trying_to_start_a_golang_standardized_function\/","text":"Anyone interested in contribution to extreme golang coding?  \n[https:\/\/github.com\/cloudxaas\/philosophy](https:\/\/github.com\/cloudxaas\/philosophy)  \n\n\nstarting with putting your most used functions here  \n[https:\/\/github.com\/cloudxaas\/goz](https:\/\/github.com\/cloudxaas\/goz)  \n\n\nHelp standardize golang codes and naming!","upvote_ratio":0.33,"created_utc":1678159062.0},{"title":"Unit Test Strategies With Go","author":"amalinovic","url":"https:\/\/medium.com\/trendyol-tech\/unit-test-strategies-with-go-b892c2ccb61a","text":"","upvote_ratio":0.85,"created_utc":1678093052.0},{"title":"Change host in Swagger API","author":"mkvetsky","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11k2wng\/change_host_in_swagger_api\/","text":"I'm using swaggo for generating docs. It has Host field in swag.Spec struct (docs.go):\nvar SwaggerInfo = &swag.Spec{\n Host:             \"\",\n BasePath:         \"\/api\/v1\",\n}\n\nfunc init() {\n swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)\n}\n\nBut when I change host, nothing changes in generated documentation, it is still localhost by default.\n\nThe problem is I want to run my app container in local network on other machine. When I access swagger page via client machine by direct URL to server machine it shows all documentation, let sends me a CRUD requests, but problem is swagger sending requests on localhost of client machine, not the server one. How to deal with it? I tried just to change localhost to server machine IP address in local network(192.168...) but it seems dumb. Do I need some proxy server or whatever?","upvote_ratio":0.9,"created_utc":1678118851.0},{"title":"Publishing internal GoDoc","author":"csgeek3674","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jy5bd\/publishing_internal_godoc\/","text":"Hello all,\n\nI have several non-public repos that I really wanted to publish internally.  I know I can generate the static html via\n\n    godoc -url \"http:\/\/localhost:6060\/pkg\/foobar\/blah\/\n\nor\n\n    godoc -http=\"localhost:6060\"\n\nThen using your favorite curl\/wget command to scrape the website.  But since I have multiple repos and such that I'd like to try to combine, how would one generate unified godoc page for multiple repos?  \n\n\nI can probably make a dummy repo and just have an import of all my projects to generate the docs, but feels a bit silly.\n\n  \nAny suggestions?","upvote_ratio":0.86,"created_utc":1678107274.0},{"title":"Help understanding goquery return value","author":"toop_a_loop","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kdmvp\/help_understanding_goquery_return_value\/","text":"Hello! I'm new to go and writing a web scraper with colly. colly includes goquery, and I'm trying to extract and remove specific nodes from the DOM. Here's my `OnHTML` function:\n\n&#x200B;\n\n    c.OnHTML(\"article\", func(e *colly.HTMLElement) {\n    \te.DOM.Find(\".callout-heading\").Remove()\n    \te.DOM.Find(\".callout-icon\").Remove()\n    \n    \theader := e.DOM.Find(\"h1\")\n    \tif header.Length() > 0 {\n    \t\tfmt.Printf(\"\\n\\nH1: %s\\n\", header.Text())\n    \t} else {\n    \t\tfmt.Println(\"\\n\\nnone found\")\n    \t}\n            fmt.Println(e.DOM.Find(\".callout-heading\").Length())\n    \tfmt.Println(e.DOM.Find(\".callout-heading\"))\n    })\n\nThe first two `e.DOM.Find()` calls don't seem to do anything. When I print the length of the `Find` method, it returns 0, but when I just print `e.DOM.Find(\".callout-heading\"))` it returns `&{[] 0xc0000be000 0xc00009ae10}` which looks kind of like an array or something with two values in it.\n\nMy main question is what am I looking at with the return value above? Are those memory addresses? What does the &{\\[\\]} syntax mean? From there, how can I actually get the HTML node content and remove it from the DOM tree nested in the `article`?","upvote_ratio":1.0,"created_utc":1678136020.0},{"title":"VPS server do you use to expose APIs developed in Golang","author":"mmparody","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kj3nb\/vps_server_do_you_use_to_expose_apis_developed_in\/","text":"Hi guys, which VPS server do you use to expose APIs developed in Golang?","upvote_ratio":0.4,"created_utc":1678148049.0},{"title":"When connecting the DB then use the `db` var that returned from the connection, How to use that connection without reconnecting again and again, somebody suggests using init? what is the best approach?","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11khjxl\/when_connecting_the_db_then_use_the_db_var_that\/","text":"DB conn","upvote_ratio":0.4,"created_utc":1678144528.0},{"title":"issue with go path for neovim","author":"mraza08","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11khh9s\/issue_with_go_path_for_neovim\/","text":"Hi all, struggling to setup neovim, any tips?\n\nI can't figure out the issue so here for some help, I am using \\`neovim\/nvim-lspconfig\\` my \\`gopls\\` doesn't recognise external paths such as \\`[github.com\/pkg\/errors\\`](https:\/\/github.com\/pkg\/errors`) , it throws error\\`could not import [github.com\/pkg\/errors](https:\/\/github.com\/pkg\/errors) (cannot find package \"[github.com\/pkg\/errors](https:\/\/github.com\/pkg\/errors)\" in any of \/usr\/local\/go\/src\/github.com\/pkg\/errors (from $GOROOT) \/Users\/ra compiler (BrokenImport)\\\\\\`\n\nhere repost with some code. Thanks\n\n[https:\/\/www.reddit.com\/r\/neovim\/comments\/11kb8hh\/golang\\_path\\_issue\/](https:\/\/www.reddit.com\/r\/neovim\/comments\/11kb8hh\/golang_path_issue\/)","upvote_ratio":1.0,"created_utc":1678144361.0},{"title":"is golang-migrate safe in production,i may be obsessive here , but anything that deals with db in production makes me very worried.. this tool installed in linux by a bash , then use cli to get the connection string , so is there any vulnerability to send the connection string out of my project?","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11kr3ep\/is_golangmigrate_safe_in_productioni_may_be\/","text":"https:\/\/github.com\/golang-migrate\/migrate\n\nSecnd : any vulnerability could delete table or do any weird stuff","upvote_ratio":0.22,"created_utc":1678169126.0},{"title":"libsignal-go built for go1.20+","author":"rtann95","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jdwdf\/libsignalgo_built_for_go120\/","text":"I am in the process of building a Go implementation of the [libsignal-protocol](https:\/\/github.com\/signalapp\/libsignal), which powers the Signal app.\n\nI have recently gotten into learning more about end-to-end encryption, so I decided a good way to learn more about it would be to try learning the Signal protocol and get my hands dirty by implementing it in Go.\n\nI found a few other libraries in the wild which aim to accomplish the same thing. However, most of those libraries have not been touched since 2019 or even 2017. I found two more recent ones (2022), but I have not found anything built for Go 1.20+. Go 1.20 comes with a native implementation of [Elliptic Curve Diffie-Hellman](https:\/\/tip.golang.org\/doc\/go1.20#crypto\/ecdh), which proved to be very useful for this project.\n\nThe original goal of this project was (and still is) to learn more about E2E encryption and the Signal protocol, itself, but I wanted to share it with the Go community in case others are interested in the same thing. It is not complete yet, but I feel it is in a decent enough place to share.\n\nThis is the first personal project I have started and did not drop after about a day or two, so I'm pretty happy that I made it this far. There is still plenty more to do :)\n\n[https:\/\/github.com\/RTann\/libsignal-go](https:\/\/github.com\/RTann\/libsignal-go)","upvote_ratio":0.98,"created_utc":1678050556.0},{"title":"Bob v0.16.0: Generate from Atlas schema files","author":"StephenAfamO","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jlgqv\/bob_v0160_generate_from_atlas_schema_files\/","text":"* [GitHub](https:\/\/github.com\/stephenafamo\/bob)\n* [Website](https:\/\/bob.stephenafamo.com)\n* [Atlas Driver Documentation](https:\/\/bob.stephenafamo.com\/docs\/code-generation\/atlas)\n\nI just released v0.16.0 of Bob. Along with expected bug fixes, v0.16.0 introduces a driver for [Atlas](https:\/\/atlasgo.io\/).\n\nGenerating code based on the schema read directly from the databases will remain the preferred workflow when using Bob. However, I can see how reading from a different format may be more convenient.\n\nI have to say, working with integrating Atlas was quite smooth. I think it is a very high-quality tool and I plan to try it out for a serious project in the near future.\n\nIf you use Atlas, try it out and let me know what you think \ud83d\ude4f\ud83c\udffe","upvote_ratio":0.91,"created_utc":1678069049.0},{"title":"Is there a way to make attributes of generic type accessible?","author":"PiranhaPiedo","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11k2j20\/is_there_a_way_to_make_attributes_of_generic_type\/","text":"I have this generic function:\n\n    func test[t ImportLogBike | ImportLogProduct](testVar t) {\n    \ttestVar.ImportLogger.Success = true\n    \ttestVar.Success = true\n    }\n\nType definitions as follows:\n\n    type ImportLogger struct {\n    \tgorm.Model\n    \n    \tSuccess      bool `gorm:\"type:tinyint(1)\"`\n    \tFetchedFrom  time.Time\n    \tStartedAt    time.Time\n    \tLogicalError string `gorm:\"type:varchar(255)\"`\n    \tApiError     string `gorm:\"type:varchar(255)\"`\n    \tCycleError   string `gorm:\"type:varchar(255)\"`\n    }\n    \n    type ImportLogProduct struct {\n    \tImportLogger\n    }\n    \n    type ImportLogBike struct {\n    \tImportLogger\n    }\n\nIs there a way to work around this? I tried a type switch but found out that it won't work with generic types ;(\n\n&#x200B;\n\nEdit1:\n\nIt does not work because Success is not accessible.\n\n&#x200B;\n\nEdit2: \n\nThose are DBO's. I need functions that can alter those and write them to DB. In the near future i might have like 20 different of those DBO's. They need to have different type so gorm creates a new table. ","upvote_ratio":0.4,"created_utc":1678118016.0},{"title":"A cli tool to analyze TCP connections, especially for tuning connection pools.","author":"go-zero","url":"https:\/\/github.com\/kevwan\/tproxy","text":"","upvote_ratio":0.96,"created_utc":1678031536.0},{"title":"Supersonic - a new desktop client for Subsonic music servers built with Go and Fyne!","author":"dweymouth","url":"https:\/\/www.reddit.com\/r\/selfhosted\/comments\/11j8mlk\/first_alpha_release_of_supersonic_a_new_desktop\/","text":"","upvote_ratio":1.0,"created_utc":1678044559.0},{"title":"Knuth's doubly linked list \"dancing links\" in Go. This code also illustrates pointerless linked data structures, which are almost invisible to Go's garbage collector","author":"BUGFIX-66","url":"https:\/\/bugfix-66.com\/57c3ee21fb1ec5f74ba8de7ea53da4f9041448808e26406b52541cfd14277b7d","text":"","upvote_ratio":0.94,"created_utc":1678048614.0},{"title":"Does Go work well as a systems language?","author":"blueberryman422","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11j1hd0\/does_go_work_well_as_a_systems_language\/","text":"I'm looking to start learning a new programming language. The languages I've considered are C, Rust and Go. The main reason is that I'm interested in Linux, scripting, and automation. I didn't study computer science and being a pure software developer is not my goal.\n\nIdeally I would prefer a language that would have a reasonably fast return on time investment. I know Python well, so Go seems like the most practical language to focus on. I don't realistically see myself developing anything useful with C or Rust anytime soon even though they are the more natural systems programming languages. Additionally, it seems that while C is still most popular for systems programming, many programmers no longer want to begin new projects with C when modern languages like Rust and Go are available.\n\nAll things considered, it seems that Go is a good balance between time to learn, future proofing, and performance improvements over Python.\n\n* Does Go function well enough as a systems language?\n* Is it versatile enough that I could use it in place of C or Rust for systems tasks and Python for automation\/scripting tasks?","upvote_ratio":0.8,"created_utc":1678034273.0},{"title":"Web Development em Go - Parte 04 - Layout Templates HTML #golang #webdevelopment (PT-BR)","author":"robsongomes84","url":"https:\/\/youtube.com\/watch?v=m46aFzZd0tE&feature=share","text":"","upvote_ratio":0.4,"created_utc":1678104539.0},{"title":"How often do you use OOP design patterns while writing Go?","author":"gmercer25","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11izqmt\/how_often_do_you_use_oop_design_patterns_while\/","text":"I only ever see the factory pattern being used but besides that I don't see any of the other OOP design patterns being used. Personally throughout my career I have only ever used factory regulary and adapter pattern once iirc.\n\n&#x200B;\n\nwhat are some patterns that you use (if any) and for what?","upvote_ratio":0.86,"created_utc":1678030131.0},{"title":"Golang tool to publish Go module, SemVer control","author":"TrungKenbi","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jrfda\/golang_tool_to_publish_go_module_semver_control\/","text":"Any one know tool like this, check my issue at [https:\/\/github.com\/sindresorhus\/np\/issues\/676](https:\/\/github.com\/sindresorhus\/np\/issues\/676)  \n\n\nI'm very impressed with **np** tool. Are you familiar with any alternative tools to Golang that serve a similar purpose?","upvote_ratio":0.5,"created_utc":1678086207.0},{"title":"Go formatting and linting in VS Code?","author":"blueberryman422","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jhyc4\/go_formatting_and_linting_in_vs_code\/","text":"So I decided to start learning Go today. As someone familiar with Python, I'm used to using Black and Isort for formatting and Flake8 for linting. Is there anything like this in Go that I should be aware of?\n\nOut of the box, the VS Code Go extension seems to have some formatting on save enabled and basic error checking. Is this sufficient for writing good Go code or are there other formatting standards that I need to learn?","upvote_ratio":1.0,"created_utc":1678059957.0},{"title":"A non-hello-world style exercise oriented Go bootcamp (not for dummies)","author":"chinmay185","url":"https:\/\/playbook.one2n.in\/go-bootcamp","text":"","upvote_ratio":0.81,"created_utc":1678021451.0},{"title":"Golang Distributed Tracing - OpenTelemetry-Based Observability","author":"Einav_Laviv","url":"https:\/\/gethelios.dev\/blog\/golang-distributed-tracing-opentelemetry-based-observability\/","text":"","upvote_ratio":0.86,"created_utc":1678016963.0},{"title":"Looking for library to build composable actions from config file","author":"tueffel","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11iz8z1\/looking_for_library_to_build_composable_actions\/","text":"Hi all,\n\nI'm looking for a library for my use case, or alternatively for feedback whether I'm thinking in the wrong direction.\n\nFor context: I recently had the same use case across three vastly different projects, and I'm trying to find out if there is already an existing implementation or if it's worth creating a library to consolidate these cases.\n\nBasically, I have an app, that reads in a configuration (e.g. a YAML file) which specifies a list of actions from various types and then acts on it. (Is this a Command Pattern? Strategy Pattern? Idk, it's been too long since I learned these). The actions usually have some common parameters (e.g. a name), and some which are specific to the type of action.\n\nFor those familiar with Ansible, the idea of the config format is basically the same.\n\nIn some use cases, the actions are sorted, in others there are dependencies among actions, but I feel like this could be consolidated into a common approach.\n\nI'm not sure if I made the idea clear, not sure how to better describe this.\n\nAn example would look like this, maybe that helps:\n\n    ---\n    actions:\n      - name: install-foo\n        type: copy-file\n        source: \/src\/foo.sh\n        target: \/dst\/foo.sh\n    \n      - name: run-foo\n        type: execute-shell\n        script: sh \/dst\/foo.sh\n\nThe implementation is pretty straightforward: An action interface, implemented by a range of concrete implementations for copy-file, execute-shell, etc. A global registry object that maps the type strings to implementations. Then unmarshal the config into a map[string]interface{}, select the correct implementation based on the type, unmarshal the rest into a config object of the specific implementation.\n\nA more complex implementation might allow dependencies among actions instead of a sorted list, to allow potential concurrent executions of actions for example.\n\nMy question is:\n\nDoes anyone know of an existing library that already provides something similar? I tried to find any, but don't even know what keywords to look for.\n\nWould there be demand for one? I'm hesitant to start a new project that might actually be used, since I have no time and energy to actually maintain it properly beyond my personal use cases.\n\nOr is this actually too specific and simple, and it would be best practice to just have multiple very similar implementations within each project? I'm unsure where this would land on the spectrum of DRY vs dependency hell.","upvote_ratio":1.0,"created_utc":1678028824.0},{"title":"Need help understanding versioning for a project","author":"ClumsyAdmin","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jkb7y\/need_help_understanding_versioning_for_a_project\/","text":"The specific example I'm talking about is [https:\/\/github.com\/shirou\/gopsutil](https:\/\/github.com\/shirou\/gopsutil). In the usage section the imports reference both \"shirou\/gopsutil\/v3\/mem\" and \"shirou\/gopsutil\/mem\" but the GitHub project sits at \"shirou\/gopsutil\" and the go.mod references \"shirou\/gopsutil\/v3\". How does go figure out what version it's supposed to use? And how does it figure out how to use an older version if the project root is now \"gopsutil\/v3\"?","upvote_ratio":0.67,"created_utc":1678066026.0},{"title":"ChatGPT Telegram integration","author":"Appropriate_Car_5599","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jjma2\/chatgpt_telegram_integration\/","text":"I have created a library that integrates ChatGPT into Telegram:\n\n[https:\/\/github.com\/vec715\/gpt-telegram](https:\/\/github.com\/vec715\/gpt-telegram)","upvote_ratio":0.38,"created_utc":1678064212.0},{"title":"\"go on rails\" framework and a Hacker News clone","author":"andrewfromx","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jbfl6\/go_on_rails_framework_and_a_hacker_news_clone\/","text":"I've  been trying to write my \"go on rails\" framework for years. I never  quite got it like I wanted. There is gin and echo and all sorts of other  frameworks and patterns but I finally found something I really like:\n\n\/foo\/\n\n\/foo\/bar\/\n\n\/foo\/bar\/more\/\n\nThat's it. Just three levels and all my controllers get passed in what's between the \/ with var names first, second, third.\n\nIn  order to really make sure this framework could build something real I  made a Hacker News clone. [https:\/\/remoterenters.com\/](https:\/\/remoterenters.com\/) is a HN just for articles  about the remote work revolution since covid. Feel free to vote or  submit to see how it all works!\n\nCode is open source at: [https:\/\/github.com\/andrewarrow\/feedback](https:\/\/github.com\/andrewarrow\/feedback)","upvote_ratio":0.6,"created_utc":1678046994.0},{"title":"Everything you need to know about Printf","author":"DodeYoke","url":"https:\/\/www.kosli.com\/blog\/a-deep-dive-into-fmt-printf-in-golang\/","text":"","upvote_ratio":0.78,"created_utc":1677968616.0},{"title":"What are channels in Golang?","author":"golangprograms","url":"https:\/\/www.golangprograms.com\/go-language\/channels.html","text":"","upvote_ratio":0.27,"created_utc":1678082633.0},{"title":"vektra\/mockery: v2.21.0 includes \"packages\" config section, allowing 5x faster mock generation and more fine-grained control over mocks","author":"LandonClipp","url":"https:\/\/vektra.github.io\/mockery\/features\/#packages-configuration","text":"","upvote_ratio":0.85,"created_utc":1677990397.0},{"title":"How not to use context.WithValue in Go","author":"scriptnull","url":"https:\/\/vishnubharathi.codes\/blog\/context-with-value-pitfall\/","text":"","upvote_ratio":0.31,"created_utc":1678066821.0},{"title":"why many gophers use react \/ nextjs and similars for frontend stuff instead of go templates , Although unmarshaling json in the frontEnd server ( nextjs - sceltekit ) may take time for building the page? which is not the case for ho templates.","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ikmmh\/why_many_gophers_use_react_nextjs_and_similars\/","text":"Webapps plus Api by holang vs only api by golang","upvote_ratio":0.67,"created_utc":1677982452.0},{"title":"My first Go module!","author":"rossmacarthur","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11i161a\/my_first_go_module\/","text":"I just wanted to share my first Go module. It's a little case conversion library (it supports Unicode!)  Check it out here [https:\/\/github.com\/rossmacarthur\/cases](https:\/\/github.com\/rossmacarthur\/cases). Feedback welcome :)  \n\n\n|Function|Output|\n|:-|:-|\n|`cases.ToCamel(s)`|`camelCase`|\n|`cases.ToPascal(s)`|`PascalCase`|\n|`cases.ToSnake(s)`|`snake_case`|\n|`cases.ToScreamingSnake(s)`|`SCREAMING_SNAKE_CASE`|\n|`cases.ToKebab(s)`|`kebab-case`|\n|`cases.ToScreamingKebab(s)`|`SCREAMING-KEBAB-CASE`|\n|`cases.ToTrain(s)`|`Train-Case`|\n|`cases.ToLower(s)`|`lower case`|\n|`cases.ToTitle(s)`|`Title Case`|\n|`cases.ToUpper(s)`|`UPPER CASE`|\n|`cases.Transform(s, wordFn, delimFn)`|*your own case here*|","upvote_ratio":0.91,"created_utc":1677941961.0},{"title":"A telegram Chatbot with OpenAI's ChatGPT using Golang","author":"navicstein","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11j3aju\/a_telegram_chatbot_with_openais_chatgpt_using\/","text":"Hey everyone,\n\nI just published a Telegram bot on GitHub that I wanted to share with you all. and it's a chatbot created using ChatGPT and Golang. The bot uses OpenAI's ChatGPT API to generate responses to user messages in real-time, creating a more engaging chat experience.\n\nYou can check out the repository on GitHub [**here**](https:\/\/github.com\/navicstein\/telechatgpt), and if you have any questions or feedback, feel free to leave a comment or reach out to me directly.\n\nThanks, and happy chatting!","upvote_ratio":0.42,"created_utc":1678036858.0},{"title":"Introducing Frontman: A Lightweight API Gateway Service Written in Go","author":"HyperioxxD","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hzcb8\/introducing_frontman_a_lightweight_api_gateway\/","text":"Hey everyone,\n\nI wanted to share with you a new project that I've been working on: Frontman. It's a lightweight API gateway service written in Go that makes it easy to manage and route API requests to the right backend services.\n\nWith Frontman, you can easily set up routing rules, add custom headers, and perform URL rewrites. It's perfect for small to medium-sized projects and can be easily integrated into your existing tech stack. Plus, it's open-source and free to use!\n\nWhile Frontman is still in development and doesn't have all the features yet, it's designed to be flexible and extensible, allowing you to customize it to your needs. Currently, Frontman doesn't support authentication, but it's in the works and will be added in a future release.\n\nAs a one-person team, I've put a lot of effort into making Frontman lightweight, fast, and easy to use. I hope you find it useful, and I welcome any feedback or contributions you might have.\n\nCheck out the Frontman GitHub page[https:\/\/github.com\/hyperioxx\/frontman](https:\/\/github.com\/hyperioxx\/frontman) to learn more and give it a try.\n\nThanks for your time and happy coding!","upvote_ratio":0.94,"created_utc":1677937111.0},{"title":"[Help] What does it mean when a function parameter is a pointer to a data type?","author":"generalmanchild","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ivj7p\/help_what_does_it_mean_when_a_function_parameter\/","text":"**Quick bit about myself:** Devops Engineer taking to K8s and so lately to Go which I've been trying to learn since a few days. Only language I've ever worked with extensively is Python. So I might come off as a noob with no familiarity of fundamental programming concepts.  \n\n\n**Context:**  \nI've been following the tutorials in Go documentation. Currently, trying to apply the testing example shown [here](https:\/\/go.dev\/doc\/tutorial\/add-a-test). Here's the program given in the link:\n\n    In greetings_test.go, paste the following code and save the file.\n    \n    package greetings\n    \n    import (\n        \"testing\"\n        \"regexp\"\n    )\n    \n    \/\/ TestHelloName calls greetings.Hello with a name, checking\n    \/\/ for a valid return value.\n    func TestHelloName(t *testing.T) {\n        name := \"Gladys\"\n        want := regexp.MustCompile(`\\b`+name+`\\b`)\n        msg, err := Hello(\"Gladys\")\n        if !want.MatchString(msg) || err != nil {\n            t.Fatalf(`Hello(\"Gladys\") = %q, %v, want match for %#q, nil`, msg, err, want)\n        }\n    }\n    \n    \/\/ TestHelloEmpty calls greetings.Hello with an empty string,\n    \/\/ checking for an error.\n    func TestHelloEmpty(t *testing.T) {\n        msg, err := Hello(\"\")\n        if msg != \"\" || err == nil {\n            t.Fatalf(`Hello(\"\") = %q, %v, want \"\", error`, msg, err)\n        }\n    }\n\nMy understanding as to why **t** parameter is a pointer to data type **testing.T**:\n\n>making **t** to be a pointer to the **testing.T** data type, allows to extend methods like **Fatalf** from **t** and use them to decide the test results as done in the above program. \n\n**Now here's my doubt:**\n\n# What is the reason t is made a pointer? \n\nAs far as knowledge goes, a pointer is to point to a value stored in a particular memory location.  So here, when t is made a pointer is there any memory location that it would point to, to access all the methods that come as a part of the **testing** package?\n\n# Or is pointing to a data type such as testing.T  like inheriting from a parent class as done in Python?\n\nWhen I looked up the data type T in [this page](https:\/\/pkg.go.dev\/testing#T), it was shown to be a 'struct' which I haven't come around to yet. \n\n    type T struct {\n    \t\/\/ contains filtered or unexported fields\n    }\n\nBut I can go on a limb and imagine that creating a struct allows to  create a custom data type which if true would be really similar to creating a class in python and having it inherited by a child class.  \n\n\nNonetheless, I really seek from you answers to the two doubts I have enlarged above.","upvote_ratio":0.5,"created_utc":1678017832.0},{"title":"i have a pgxpool pkg\/file called db that contains a func called db.Connect that connect to the db and get the pool .. but how to get that pool to query things in other pkgs like handlers?","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ilsfr\/i_have_a_pgxpool_pkgfile_called_db_that_contains\/","text":"pgxpool","upvote_ratio":0.86,"created_utc":1677985672.0},{"title":"malloc\/free pattern using sync.Pool","author":"lmux","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ile76\/mallocfree_pattern_using_syncpool\/","text":"So I was looking into fasthttp code to see what the hype is about. I saw high usage of Acquire* + Release* pattern, which the author claims to reduce gc load. I guess it does provide a way to reduce allocs by reusing, abit at the programmer's minor inconvenience. But will  this technique backfire when your pool size swells up? What about other caveats?","upvote_ratio":1.0,"created_utc":1677984565.0},{"title":"3 Ways I Keep My Rest APIs endpoints down to 4-6 lines and eliminate boilerplate. What are yours?","author":"painya","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hztq8\/3_ways_i_keep_my_rest_apis_endpoints_down_to_46\/","text":"**1: Parsing And Validating Post Request Arguments With Generics**\n\nYou can simplify the reading and parsing of JSON into a generic function.\n\nThe first line of a post endpoint might look like this for me:\n```go\nargs, err := helpers.ReadAndValidate[<target struct>](r)\nif err != nil {\n    helpers.WriteSimpleError(w, err, http.StatusBadRequest)\n    return\n}\n```\n\nThis function requires that I'm using [the validator package](https:\/\/github.com\/go-playground\/validator)\n\n```go\n\/\/ ReadAndValidate takes a http request and returns the unmarshalled json or an error\nfunc ReadAndValidate[T any](r *http.Request) (T, error) {\n\tvar target T\n\treadyBody, err := io.ReadAll(r.Body)\n\tif err != nil {\n\t\treturn target, errors.Wrap(err, \"reading request body\")\n\t}\n\terr = json.Unmarshal(readyBody, &target)\n\tif err != nil {\n\t\treturn target, errors.Wrap(err, \"json unmarshal\")\n\t}\n\terr = validate.AppValidator.Struct(target) \/\/ \ud83d\udc48 calls my already initialized validator\n\tif err != nil {\n\t\treturn target, err\n\t}\n\treturn target, nil\n}\n```\n\n**2: Handling Errors In a Generic Way**\nIf I have a function that returns an error or an object (what doesn't?), I may pass through both objects to a function that either returns the data or returns an error.\n\nIn a Get handler, I may have a two line endpoint that looks like this:\n```go\n\/\/ OrgUsersGet godoc\n\/\/ Gets users associated with account\n\/\/ @Produce json\n\/\/ @Success 200 {object} org.OrgUsersGetResponse\n\/\/ @Failure 500 {object} helpers.ErrorMessage\nfunc OrgUsersGet(w http.ResponseWriter, r *http.Request) {\n\tusers, err := org.OrgUsersGet(r.Context(), r.Context().Value(org.CTXOrgID).(uuid.UUID))\n\thelpers.ReturnDataCheckError(w, r, users, errors.WithMessage(err, \"failed to request user\"), 500, \"Something went wrong. We will reach out by email\")\n}\n```\n\nThe ReturnDataCheckError function is defined as follows (with a little to-do for my laziness!)\n\n```go\n\/\/ ReturnDataCheckError is a utility function to help keep http controllers short\n\/\/ It takes an object and an error\n\/\/ If the error is not nil, it returns an error response\n\/\/ If the object fails to write, it returns an error\n\/\/ For simple http routes, this helps them become two lines\n\/\/\n\/\/ For example, you may call\n\/\/ resp, err := GetItemFromDatabase()\n\/\/ ReturnDataCheckError(resp, errors.WithMessage(err, \"some context for the error\"))\n\/\/\n\/\/ and then be done!\n\/\/ This function also reports errors\nfunc ReturnDataCheckError(w http.ResponseWriter, r *http.Request, data any, err error, statusCodeIfErr int, prettyErrMessage string) {\n\t\/\/ Handle error checking\n\tif err != nil {\n\t\t\/\/ TODO: Grab user ID from request context and send it to error logging\n\t\terror_logging.LogErr(err)\n\t\tw.WriteHeader(statusCodeIfErr)\n\t\t\/\/ If there is a pretty error message, return that\n\t\tif prettyErrMessage != \"\" {\n\t\t\tWriteSimpleError(w, errors.New(prettyErrMessage), statusCodeIfErr)\n\t\t} else {\n\t\t\tWriteSimpleError(w, err, statusCodeIfErr)\n\t\t}\n\t\treturn\n\t}\n\tasJson, err := json.Marshal(data)\n\tif err != nil {\n\t\tWriteSimpleError(w, err, 500)\n\t\treturn\n\t}\n\t_, err = w.Write(asJson)\n\tif err != nil {\n\t\tWriteSimpleError(w, err, 500)\n\t\treturn\n\t}\n}\n\nfunc WriteSimpleError(w http.ResponseWriter, err error, statusCode int) {\n\tw.WriteHeader(statusCode)\n\te := ErrorMessage{\n\t\tMessage: err.Error(),\n\t}\n\tmessage, _ := json.Marshal(e)\n\tw.Write(message)\n}\n\n```\n\nA few notes:\n1. errors.WithMessagef is my favorite way to add context to errors. If the error is nil, the message gets dropped.\n\n2. Sometimes I handle errors transparently with a classic `if err != nil` statement and return the error. On more complicated routes I try to do that to improve readability\n\n3. This assumes that every single error will come back as the same struct type. I am fullstack so I dictate what my front end gets so it works for me.\n\n**3: Adding the object to your context via route matching and middleware**\n\nAre you running the same function to get an object in different routes? You may be able to simplify that.\n\nLet's take a look at some endpoints I've defined.\n\nUsing [Go Chi](https:\/\/github.com\/go-chi\/chi), I have some routes that allow users to take actions on an organization or on a project.\n\nThere are three problems that I face:\n1. Verifying the user has access to the objects they are requesting\n2. Reducing boilerplate \n3. Reducing the type safety risk of accessing context values\n\n```go\n\/\/ This route is mounted on the api router, providing the orgID as a chi url param\nr.Mount(\"\/project\/{orgID}\", ProjectRoutes())\n\n\/\/ this subrouter defines how users can interact with the service\nfunc ProjectRoutes() *chi.Mux {\n\tr := chi.NewRouter()\n\t\/\/ User must be logged in. This adds the user ID to the context\n\tr.Use(org.UserAuthenticatedRoute)\n\t\/\/ User must have access to the organization. This adds the organization\n\t\/\/ to the context\n\tr.Use(org.UserHasAccessToOrg)\n\t\/\/ User can create a project\n\tr.Post(\"\/\", ProjectCreate)\n\t\/\/ Mount an additional router to handle protected routes\n\tr.Mount(\"\/{projectID}\", ProjectProtectedRoutes())\n\treturn r\n}\n\n\/\/ ProjectProtectedRoutes loads the project into the context\nfunc ProjectProtectedRoutes() *chi.Mux {\n\tr := chi.NewRouter()\n\t\/\/ Does the given project ID belong to the organization?\n\tr.Use(org.OrgProject)\n\tr.Get(\"\/all\", ProjectData)\n        \/\/ ...More Routes here\n\treturn r\n}\n```\n\nAnd then, for example, the org.UserHasAccessToOrg function will look like this (using SQL C)\n\n```go\n\n\/\/ Store in the context with a constant\nconst CTXOrgID = `orgUUID`\n\n\/\/ UserHasAccessToOrg checks if the given user has request to the org\nfunc UserHasAccessToOrg(next http.Handler) http.Handler {\n\treturn http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\t\tuserId, ok := r.Context().Value(CTXUserUUID).(uuid.UUID)\n\t\tif !ok {\n\t\t\tw.WriteHeader(401)\n\t\t\treturn\n\t\t}\n\t\torgID := chi.URLParam(r, \"orgID\")\n\t\tasUUID, err := uuid.Parse(orgID)\n\t\tif err != nil {\n\t\t\tw.Write([]byte(\"invalid uuid\"))\n\t\t\tw.WriteHeader(500)\n\t\t\treturn\n\t\t}\n\t\tq := adb.New(database.PGX)\n\t\tfoundOrgID, err := q.UserOrgGet(r.Context(), adb.UserOrgGetParams{\n\t\t\tFkOrgID:  asUUID,\n\t\t\tFkUserID: userId,\n\t\t})\n\t\tif errors.Is(err, pgx.ErrNoRows) {\n\t\t\tw.WriteHeader(401)\n\t\t\treturn\n\t\t}\n\t\tif err != nil {\n\t\t\thelpers.WriteSimpleError(w, err, 500)\n\t\t\treturn\n\t\t}\n\t\tctx := context.WithValue(r.Context(), CTXOrgID, foundOrgID)\n\t\tnext.ServeHTTP(w, r.WithContext(ctx))\n\t})\n}\n\n```\n\nNow in my endpoints, I can access the value like so:\n\n```go\nr.Context().Value(org.CTXProject).(adb.ConversionProject)\n\/\/ Or\nr.Context().Value(<name of the constant I used to save the context variable>).(<name of the struct>)\n```\n\nWhat do you think? Do you have any other ways you reduce boilerplate?\n\n(All code here is MIT licensed. Please copy and paste if it will be helpful to you)","upvote_ratio":0.79,"created_utc":1677938478.0},{"title":"Set default audio output device on Windows using Go","author":"RidesFlysAndVibes","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11iout0\/set_default_audio_output_device_on_windows_using\/","text":"I want to be able to switch the default audio output device on my Windows PC using Go. I have searched high and low for a method of doing this but I cannot find a solution. Does anybody have any ideas on how I can achieve this? I can list the devices with their ID's easily enough, but making it the default output device is what I'm having trouble with.\n\nThank you for any assistance","upvote_ratio":1.0,"created_utc":1677994741.0},{"title":"Go vs Rust","author":"ProAtLife1","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11jfn2t\/go_vs_rust\/","text":"Hello everyone!\n\nI\u2019v mainly dabbled with python and web development, but after some time, I\u2019ve gotten into servers, Linux, self-hosting, etc. I want to learn a new programming language that best suits automation, CLI, capable of being the backend of a website, and stuff like that.\n\nI\u2019m looking into two options. Go and Rust. What made you guys choose GO, and what are the major benefits of it? From what I can tell, a big pro is that it\u2019s easier to learn and get started on. I\u2019ve also heard that C and C++ developers are moving to Rust, so that\u2019s also something Rust has over Go?\nThanks","upvote_ratio":0.31,"created_utc":1678054468.0},{"title":"[Tutorial] Build and Deploy a Simple React Memorize Game","author":"boodyvo","url":"https:\/\/www.thedevbook.com\/create-a-simple-react-memorize-game\/","text":"","upvote_ratio":0.29,"created_utc":1678025147.0},{"title":"Sick of writing bson.D mongo queries","author":"AvogadrosOtherNumber","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ibxe1\/sick_of_writing_bsond_mongo_queries\/","text":"I work in both Go and Python, and Python is easy-peasy when it comes to writing (and reading) Mongo queries.   Go, not so much.\n\nBut I have module that I've used internally for a while, and I just made it public.  Translates straight JSON to Find\\* queries, Update filters, and Aggregate pipelines.  Also allows you to easily manage individual pipeline stages, if you need to do that.  It's small, focused, and easy to use.\n\nHave at it if you're so inclined.  [https:\/\/github.com\/CascadianSW\/mongear](https:\/\/github.com\/CascadianSW\/mongear)","upvote_ratio":0.68,"created_utc":1677960904.0},{"title":"Can github's copilote write tests of golang code?","author":"ImplementSquare1691","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ixa25\/can_githubs_copilote_write_tests_of_golang_code\/","text":"I am planning to use github's copilote to write tests for my golang and I am asking is it really useful?","upvote_ratio":0.38,"created_utc":1678023270.0},{"title":"Security concern with external Go packages","author":"fenugurod","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hxpos\/security_concern_with_external_go_packages\/","text":"I'm spending some time doing a security research to understand how vulnerable is my company's Go source code to third party packages. For example, there is anyway that a third party package in Go could extract the main application source code? I can think on two ways, maybe there are more?\n\n1. go:embed can be used to embed the source code then when the application runs a init function could be used to send the payload.\n2. If the third party package uses the [Go diagnostics](https:\/\/go.dev\/doc\/diagnostics) is it possible to get the source code?\n\nThere is any other way to exfiltrate the source code?","upvote_ratio":0.79,"created_utc":1677931629.0},{"title":"TCPING version 1.19.0 is out!","author":"Ok_World__","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hyde8\/tcping_version_1190_is_out\/","text":"Hi\n\nI am happy to announce a new release of TCPING. This tool is inspired by Linux's Ping utility but uses TCP and has comprehensive reporting features.\n\n&#x200B;\n\n[https:\/\/github.com\/pouriyajamshidi\/tcping](https:\/\/github.com\/pouriyajamshidi\/tcping)","upvote_ratio":0.81,"created_utc":1677934016.0},{"title":"What is your number one wanted language feature?","author":"btvoidx","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11helh4\/what_is_your_number_one_wanted_language_feature\/","text":"Make up your mind and reply with exactly one. No second guessing. I'll start: sum types.","upvote_ratio":0.9,"created_utc":1677876843.0},{"title":"Resources for learning Golang","author":"Adventurous_Zombie61","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hz36e\/resources_for_learning_golang\/","text":"Hello \ud83d\udc4b, \n\nI want to learn golang for backend development purpose, Please give me some suggestions on where I can start.","upvote_ratio":0.6,"created_utc":1677936341.0},{"title":"Sending OpenTelemetry data to Google Cloud Storage","author":"Barakikia","url":"https:\/\/keyval.dev\/sending-otel-to-gcs\/","text":"","upvote_ratio":0.63,"created_utc":1677923767.0},{"title":"NATS v 2.9.15 is out - bunch of important updates and fixes","author":"bjflanne","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hclvb\/nats_v_2915_is_out_bunch_of_important_updates_and\/","text":"[https:\/\/github.com\/nats-io\/nats-server\/releases\/tag\/v2.9.15](https:\/\/github.com\/nats-io\/nats-server\/releases\/tag\/v2.9.15)","upvote_ratio":0.88,"created_utc":1677872294.0},{"title":"When is go not a good choice?","author":"achempy","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11h0u12\/when_is_go_not_a_good_choice\/","text":"A lot of folks in this sub like to point out the pros of go and what it excels in. What are some domains where it's **not** a good choice? A few good examples I can think of are machine learning, natural language processing, and graphics.","upvote_ratio":0.9,"created_utc":1677850237.0},{"title":"Alexa Skill Auto-Complete sentences with OpenAI API - chatGPT 3.5","author":"blue_boro_gopher","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11i0mu3\/alexa_skill_autocomplete_sentences_with_openai\/","text":"I have created a personal Alexa Skill (cba to officially publish it), that lets you provide a sentence or use one of the hardcoded sentencess and auto-complete it using the OpenAI API!\n\nThis was built using an AWS Lambda function built in GO with the [sashabaranov\/go-openai] module\n\nPlease check out the project here:\n\n[https:\/\/github.com\/jackmcguire1\/alexa-chatgpt](https:\/\/github.com\/jackmcguire1\/alexa-chatgpt)","upvote_ratio":0.57,"created_utc":1677940581.0},{"title":"What would be the best Golang book to read in 2023 to get in depth understanding of the language?","author":"Hexozaur","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hd310\/what_would_be_the_best_golang_book_to_read_in\/","text":"I have been looking around and I noticed these 2:\n\n* Go Programming Language, The (Addison-Wesley Professional Computing Series)\n* Learning Go: An Idiomatic Approach to Real-World Go Programming\n\nI'm leaning more towards Learning Go, because is more up to date, but maybe Go Programming have some unique \"power\" here, because still I saw good reviews from 2022.\n\n* Is Go Programming still worth reading after Learning Go: An Idiomatic Approach to Real-World Go Programming?\n* Is there anyone who have read both and can tell more about differences between them?\n* Which one would You recommend for getting in depth knowledge about language?\n\nAny thoughts?\n\nThx!","upvote_ratio":0.91,"created_utc":1677873400.0},{"title":"Implementation of a relational database in go","author":"Lhilas80","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11h68pq\/implementation_of_a_relational_database_in_go\/","text":"Hey all, a few months I\u2019ve started learning go and after implementing a few small programs have set my eyes on implementing a relational database entirely in go.\nThe project is mostly a success and I have a functioning bare-bone database as of now, but I am looking to take that into the next level and was wondering whether one of you guys, whether novice or experienced, would like to join me as a collaborator on this project.\nI think this can be a great opportunity to get a little bit more experience in go, as well as adding a (in my opinion) cool project to your resume.\n\nDo keep in mind that, as I said, I\u2019m no expert go developer and there a few issues with my project as is (all the more reason to mess with it a bit more and improve it).\nAnyway I\u2019m going to leave a link here for the repository, and if anyone\u2019s interested in contributing feel free to DM me (even if it\u2019s just to tell me how bad my code is \ud83d\ude09).\n\nhttps:\/\/github.com\/ronGeva\/go_apps\/tree\/main\/go_db","upvote_ratio":0.92,"created_utc":1677863314.0},{"title":"This is Sherlock's sister, Modern shiny CLI tool written with Golang to help you hunt down social media accounts by username across social networks","author":"pipewire","url":"https:\/\/github.com\/TheYahya\/enola","text":"","upvote_ratio":0.43,"created_utc":1677935739.0},{"title":"Art of Concatenation & Power of bytes.Buffer()","author":"NormalHuman43","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ibjtk\/art_of_concatenation_power_of_bytesbuffer\/","text":"I have just begun writing blog posts and have published two on Medium. Here are the links:\n\n* [**https:\/\/medium.com\/p\/b74352ab9769**](https:\/\/medium.com\/p\/b74352ab9769) \n* [**https:\/\/medium.com\/p\/20ef2501883a**](https:\/\/medium.com\/p\/20ef2501883a)\n\nI would greatly appreciate any feedback or constructive criticism to help me improve and grow as a writer.","upvote_ratio":0.15,"created_utc":1677960033.0},{"title":"I wonder if I should start using golang in projects or automating scripts?","author":"binmunawir","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hh42o\/i_wonder_if_i_should_start_using_golang_in\/","text":"I wonder if I should start using golang in projects or automating scripts?","upvote_ratio":0.5,"created_utc":1677882528.0},{"title":"Niubbish question: windows or wls2","author":"pydum","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gxvoe\/niubbish_question_windows_or_wls2\/","text":"Hello. I want to refresh my dev skills learning go, since... ok, i'm old enough :(I want to set the right environment, and i have Windows based machines.\n\nSo, the natural idea is to use WLS2 environment, but I'm asking if it is better, faster, simpler use a windows native installation.\n\nWhat is your experience?  \nAlso, bonus question, can you suggest me some tutorial material to quicken up learning?","upvote_ratio":0.74,"created_utc":1677841294.0},{"title":"Help me choose Auth Tech Stack for SaaS?","author":"throwawaymangayo","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gp69k\/help_me_choose_auth_tech_stack_for_saas\/","text":"**Background:**\n\nPrevious projects I implemented my own JWT Auth, but now that I'm thinking about it. Kinda dumb to roll your own auth as SaaS Startup ,plus gets complicated I think when I want to add other Auth Features. So home grown solution won't be able to sleep well, since I ain't no cybersecurity expert.\n\n**Architecture & Tech Stack**\n\n**Frontend:**\n\n* Multiple Next.js instances on different subdomains\n* UI Components pretty much all built.\n* Will make API calls to their respective GraphQL API Gateway (Backends for Frontend)\n\n**Backend:**\n\n* GraphQL API Gateway (probably going to use WunderGraph for Federated Gateway)\n* API Gateways will call to their respective Go microservices.\n* Inter-service microservice communication most likely gRPC\n* Database Postgres (single instance, but database per microservice)\n* KinD for K8s local development.\n\n**Deployment:**\n\n* **Frontend** \\- Not sure yet (don't want to choose the easy options like Vercel\/Netlify as pricing rises exponentially).\n* **Backend** \\- K8s on GKE\n\n**Auth Feature Requirements:**\n\n* Regular email\/password sign up.\n* SSO (OAuth + OIDC),  Common Service Providers like Google, GitHub, Apple, etc.\n* Multi-Factor Authentication with Google Authenticator or Authy\n* Headless implementation (not forced to use their UI components\/templates) \n* Viewing of Users recent sessions and ability to log out different sessions.\n* Can be used Non-Web based, Mobile App (React Native most likely).\n* No authentication stored in Local Storage due to XSS.\n* Face ID + Touch ID Integration\n* Option to Self Host with K8s and Cloud Option (In case I'm like screw it). Deployment ain't my strength. \n* ABAC support\n*  OSS\n* Source code not built with a scripting language.\n\n**Auth Restrictions:**\n\n* I do want productivity and velocity, but not so much that I jump to Auth Providers (easiest option).\n* Heavily against expensive auth providers like Okta Auth0, AWS Cognito, etc.\n* No frameworks equivalent to Rails, Django, Laravel. So in Golang's case, Buffalo. Sorry guys.\n\n**Auth Nice to Haves:**\n\n* PasswordLess (Magic Link) Sign-In\n* Built in Go.\n\nI think thats it... lol. Not sure about Casbin or Ory.","upvote_ratio":0.88,"created_utc":1677811963.0},{"title":"I've put together an OpenAI Go client and CLI. Pretty happy with it so far.","author":"10gistic","url":"https:\/\/github.com\/andrewstuart\/openai","text":"","upvote_ratio":0.89,"created_utc":1677793294.0},{"title":"Synchronize two kubernetes operators","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11h262m\/synchronize_two_kubernetes_operators\/","text":"I was loooking for a way to synchronize two kubernets operators.\n\nSomeone pointed me to this link:\n\nhttps:\/\/github.com\/kubernetes-sigs\/cluster-api\/blob\/f2ba999757aa76b446943a9ffea14ecf8c7523e8\/bootstrap\/kubeadm\/internal\/locking\/control_plane_init_mutex.go#L51\n\nThere a configMap object get used for the synchronization.\n\nJust out of curiosity. What do you think about this way to sync two (or more) Kubernetes operators?","upvote_ratio":0.8,"created_utc":1677853808.0},{"title":"Discord","author":"tryna_learn_sum","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11hpjr1\/discord\/","text":"Any good discord servers for learning Go? Tryna learn sum.","upvote_ratio":0.18,"created_utc":1677904458.0},{"title":"ArangoDB pluggable interface for Golang offering setup out of the box along with functionalities like creation of Collections, Analyzers, Views, Initializing Database Transactions along with docker deployment using docker-compose","author":"mostlycryptic","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11h5jb6\/arangodb_pluggable_interface_for_golang_offering\/","text":"I've done some additions to my repo at ([https:\/\/github.com\/aaqibb13\/guinevere](https:\/\/github.com\/aaqibb13\/guinevere)) on ArangoDB that offers an interface which can be used with Go framework of your choice (Gin, fasthttp et al.,). I've changed the structure of the project as well. Improved documentation.  \nI'd love to have your feedback. Don't forget to be a stargazer if you like the repo. :)","upvote_ratio":1.0,"created_utc":1677862203.0},{"title":"Is your makefile supposed to be a justfile?","author":"lostinfury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gdaji\/is_your_makefile_supposed_to_be_a_justfile\/","text":"I started with golang a little under 5 months ago and I've been noticing that a lot of golang projects use makefile!\n\nCan someone explain why this is or why you use make?\n\nIMO, using make in a go project seems kinda pointless because the go compiler can already build and manage dependencies of go projects. It can also run `go:generate` commands found in files. This means what you need (short of a shell script) is a way to run tasks and maybe create dependencies between the tasks, and [`just`](https:\/\/github.com\/casey\/just) is more than capable of doing this, as well as many others.\n\nI'm not here to advocate for justfiles, but I'm curious why Makefiles are so popular with go projects and not something else like go-task or just.\n\nCuriosity aside, I think it's time we retire make. The syntax is more suited for when programming in C to avoid regenerating object files from source. Most projects these days will benefit greatly from a modern task runner.\n\n**EDIT**: *Removed mention of* [*golang-standards\/project-layout*](https:\/\/github.com\/golang-standards\/project-layout) *because many people are pointing out that it is not a standard talk-less of* ***the*** *standard, and I agree with them.*","upvote_ratio":0.77,"created_utc":1677789461.0},{"title":"What is the fastest way to encode the arbitrary struct into bytes?","author":"blank-teer","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gmabv\/what_is_the_fastest_way_to_encode_the_arbitrary\/","text":"the usecase is related to go only, namely map[string][]byte caching","upvote_ratio":1.0,"created_utc":1677804271.0},{"title":"azure-sdk-for-go: List only directories inside a container (or exclude)","author":"bigfatsteaks","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gzkji\/azuresdkforgo_list_only_directories_inside_a\/","text":"Hello gophers,\n\nI have an Azure container which contains thousands of blobs inside directories. My final goal is to select all blobs inside this container, excluding the ones that exist inside specific directories.\n\nI'm using this library: [https:\/\/pkg.go.dev\/github.com\/Azure\/azure-sdk-for-go\/sdk\/storage\/azblob](https:\/\/pkg.go.dev\/github.com\/Azure\/azure-sdk-for-go\/sdk\/storage\/azblob)\n\nThe \"naive\" solution I have so far is:\n\n    credential, err := azblob.NewSharedKeyCredential(azureCreds.Account, azureCreds.Key)\n    if err != nil {\n        panic(err)\n    }\n    serviceURL := fmt.Sprintf(\"https:\/\/%s.blob.core.windows.net\", azureCreds.Account)\n    \n    containerUrl := fmt.Sprintf(\"%s\/%s\", serviceURL, containerName)\n    \n    containerClient, err := container.NewClientWithSharedKeyCredential(containerUrl, credential, nil)\n    if err != nil {\n        panic(err)\n    }\n    \n    opts := &container.ListBlobsHierarchyOptions{}\n    pager := containerClient.NewListBlobsHierarchyPager(\"\", opts)\n    \n    for pager.More() {\n    \tresp, err := pager.NextPage(ctx)\n    \tif err != nil {\n    \t\tpanic(err)\n    \t}\n    \n    \tfor _, blob := range resp.Segment.BlobItems {\n    \t\tif strings.HasPrefix(*blob.Name, \"excludedDir1\") ||\n    \t\t\tstrings.HasPrefix(*blob.Name, \"excludedDir2\") ||\n    \t\t\tstrings.HasPrefix(*blob.Name, \"excludedDir3\") {\n    \t\t\tcontinue\n    \t\t}\n                    \/\/ do something with it\n    \t\tfmt.Printf(\"%s\\n\", *blob.Name)\n    \t}\n    }\n\nThe above solution works, but it's a no-go (pun intended) because the excluded directories contain hundreds of thousands of blobs. This takes \\*a lot\\* of time.\n\nBy all searches I made so far, I couldn't find a non-costly way to exclude specific directories from listing. Any ideas?\n\nThanks a lot in advance.","upvote_ratio":0.67,"created_utc":1677846662.0},{"title":"terratest for infrastructure","author":"uragnorson","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gkqrr\/terratest_for_infrastructure\/","text":"Was wondering if anyone has tried [https:\/\/github.com\/gruntwork-io\/terratest](https:\/\/github.com\/gruntwork-io\/terratest) to test their infrastructure. I like it because I can write golang tests! Thats a big plus for me. \n\nI basically want to test few hundred ec2 instances if they have the proper \/etc\/motd, particular symlinks, etc...\n\nVery simlar to [https:\/\/testinfra.readthedocs.io\/en\/latest\/](https:\/\/testinfra.readthedocs.io\/en\/latest\/).","upvote_ratio":1.0,"created_utc":1677800543.0},{"title":"Stop downvoting legitimate questions and comments even if you disagree with them","author":"emblemparade","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fvj0v\/stop_downvoting_legitimate_questions_and_comments\/","text":"You're engineers, right? Specifically software engineers who appreciate Go's straightforward grammar? So let me explain how this works to you:\n\nIF you downvote something THEN it's less likely to appear on Reddit. That's why we also call it \"burying\".\n\nI guess in your mind when you downvote you're thinking \"I disagree with this\" or \"I don't like this\" or \"this is wrong\/evil\", but the result is erasure. It's unhelpful to anyone who searches the subreddit or reads the discussion, perhaps a person who might also have (in your mind) the same wrong information, assumption, experience, taste, etc. By burying what you don't like you're achieving the opposite of what you seem to want: you're helping the supposedly wrong idea recur and survive.\n\nHere's what you should do instead:\n\nRespond. Maybe your great response will get more upvotes and be the obvious \"correct\" answer. Future searches will reveal your contribution and make the world a better place. And you will be rewarded with karma, which is the most valuable currency in the galaxy.\n\nAnd also upvote any useful, meaningful, reasoned contribution -- even if you think it's wrong, and especially if it's a question. There are many language communities that are toxic. Python has a deserved reputation for being friendly. Let's be friendly. It's the first rule posted on the r\/golang sidebar.\n\nInstead, many of you seem to be ignoring many of the subreddit rules: you're not patient, not thoughtful, not respectful, not charitable, and not constructive. Again and again I see you being complete ****** to people just trying to get some feedback, or who have some inspiration (possibly misguided), or who just want to talk about a language they think is cool. And you do this just by lazily clicking the thumbs-down button.\n\nSo when should you downvote? When someone violates the r\/golang rules. Straightforward.\n\nThanks for listening. I'm sure that from now on everyone will follow my advice and this forum will be less toxic and annoying!","upvote_ratio":0.65,"created_utc":1677739227.0},{"title":"Omit test utility files from test coverage?","author":"ex-nigerian-prince","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11guqun\/omit_test_utility_files_from_test_coverage\/","text":"To help with some repetitive tasks during testing, like test object creation (e.g., CreateTestUser(db \\*gorm.DB)), I've written a few utility files that are only used during testing.\n\nThey work great, but there's a nit with the test management -- Is there any way to get those files\/packages to not be included in the code coverage or \"go test .\/...\" listing?\n\nI tried playing with the \/\/ +build !test but that omits the files from testing, and yet I need to them to run the tests.","upvote_ratio":0.75,"created_utc":1677829251.0},{"title":"How to see which lines has the most uncovered lines?","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gwuj2\/how_to_see_which_lines_has_the_most_uncovered\/","text":"I want to know which file has the most uncovered lines?\n\nUp to now I only found a related feature request: https:\/\/github.com\/golang\/go\/issues\/31519\n\nIs there a third party tool for this?\n\nI can show uncovered lines in vscode ([vscode-go coverage](https:\/\/github.com\/golang\/vscode-go\/wiki\/features#code-coverage)), but this just roughly like the html report. \n\nI would like to see all files sorted by uncovered lines, so I can focus on the file with the most missing lines.","upvote_ratio":0.56,"created_utc":1677837404.0},{"title":"can't scan into dest[2]: cannot scan int4 (OID 23) in binary format into *models.User","author":"Ok-Preference-7205","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gvtq8\/cant_scan_into_dest2_cannot_scan_int4_oid_23_in\/","text":"type Order struct{Id uint \\`json:\"id\"\\`Items \\[\\]ItemTotal float64 Customer int32 Address AddressCreatedAt time.TimeUpdatedAt time.TimeStatus orderstatus}\n\nquery := \\`INSERT INTO orders( items, total, address, customer\\_id, status, created\\_at)VALUES(@orderItems, u\/orderTotal, u\/orderAddress,  u\/orderCustomer, u\/orderStatus, u\/orderCreatedAt)  returning id, total, customer\\_id;\n\n\\`trans := pgx.NamedArgs{\"orderItems\": items,\"orderTotal\": float64(grandtotal),\"orderAddress\": address,\"orderCustomer\" : id,\"orderStatus\" : \"Pending\",\"orderCreatedAt\" : [time.Now](https:\/\/time.Now)() }\n\nerr := database.DB.QueryRow(context.Background(),query, trans).Scan(&order.Id, &order.Total, &order.Customer)if err != nil{log.Println(err)c.Status(500)return c.JSON(fiber.Map{\"error\" : err,})}\n\n&#x200B;\n\nso am getting error with pgx not being able to scan id as int to models.User what could be the problem\n\n&#x200B;\n\n\\*\\*beginner in golang","upvote_ratio":1.0,"created_utc":1677833344.0},{"title":"Any way to convert unknown\/dynamic json to generic object structure","author":"devopsnooby","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11glk8w\/any_way_to_convert_unknowndynamic_json_to_generic\/","text":"Been looking at ways support the ability to accept a generic unknown json structure.. and turn it in to a generic object structure.\n\nI am aware of the whole json marshal\/unmarshal and in to \\[\\]byte, json.RawMessage (basically \\[\\]byte). What I was thinking was.. coming up with a component like structure that would handle dynamic json in a generic way. Something like\n\n    type dynamicJson struct {\n      name string\n      type string\n      value any\n      required bool\n      more dynamicJson\n    }\n\nThen you convert the unknown dyamic json into a map\\[string\\]any and then something like:\n\n    for k,v := range strmap {\n      d := dynamicJson{\n        name: k,\n        value: v,\n        type: figureOutType(v),\n       }\n    }\n\nSo basically looping through the map, creating an object tree so that if a json object has say a properties or is itself an array.. can build up this tree.\n\n&#x200B;\n\nThe end result is hopefully a generic object tree that matches the dynamic json in a generic way.. that can then be used by tooling for various purposes (documentation, code generation, validation, etc).\n\nThought I'd ask just in case this has been a thing and someone has developed a usable library to do this.. or if this is just this generic and what I have above is more or less about the best\/only way you could really do it?","upvote_ratio":0.75,"created_utc":1677802443.0},{"title":"Required help in understanding gorouines","author":"Informal_Pipe_2904","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gtynf\/required_help_in_understanding_gorouines\/","text":"Hey, folks I have one doubt while working with goroutines in Go-kit, when I try to use goroutines in gokit without any channels or waitgroup or time.sleep, I am able to invoke the goroutines, where as in normal  code I am not able to do that.\n\nCan someone please help in clarifying why goroutine is running without any block in go-kit\n\nExample code for gokit- [https:\/\/go.dev\/play\/p\/4LT9suxHcEQ](https:\/\/go.dev\/play\/p\/4LT9suxHcEQ)  \nexample code for normal code: [https:\/\/go.dev\/play\/p\/0mhzz7afqOS](https:\/\/go.dev\/play\/p\/0mhzz7afqOS)","upvote_ratio":0.67,"created_utc":1677826440.0},{"title":"What's the catch with buffered channels?","author":"string1037","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fzhu2\/whats_the_catch_with_buffered_channels\/","text":"Coming from a Node JS background, if I want to throttle or implement backpressure handling like input sources like Kafka, I had to use external libraries like async\/queue.\n\nWe would be writing event handler on queue being full and pause the queue populator and wait until at least one element is removed.\n\nBut in Go, I can just use buffered channels and it blocks the execution until one element is read from the channel.\n\nSo essentially it's 1 line of code in Go vs 25 lines in Node.\n\nIs there a caveat I am not aware of? Go has a reputation to be verbose but I am just not buying these kinds of features being built into a language.","upvote_ratio":0.91,"created_utc":1677752997.0},{"title":"How do I test multiple error conditions inside of a single function effectively?","author":"brando56894","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gfbbx\/how_do_i_test_multiple_error_conditions_inside_of\/","text":"I'm self taught and never used the testing suite until like a week ago, even though I wrote this program like 2 months ago, up until now I was testing everything manually (all the testing tutorials I read never made sense to me). I figured out how to write tests for success conditions, that was fairly easy. Where I'm getting confused is how should I test out each error condition in a function that calls 3-5 other functions I wrote and checks for those errors on return? I understand how to write a test to check for single error condition, but it seems like in order for me to test multiple error conditions I have to add a bunch of conditionals in my prod code to set the desired error and multiple different tests for each error condition. I feel that my prod code is becoming too bloated with code I had to add in to get the tests to work and everything is becoming too convoluted.\n\nLets use [KickoffJobs()](https:\/\/pastebin.com\/KQ11hBQg) as an example function. The way I managed to get things working (without having to rewrite everything with testing in mind) was by creating two global variables (mockSuccess which is a boolean, and mockedError which is an error) which I could check to see if they were set in the prod code by the test code, and if they were, it will skip the execution of the subordinate functions and instead either report it as a success, or set an error. This method isn't really working when there are multiple error checks within a single function though.\n\n[Here are the tests that I have written](https:\/\/pastebin.com\/AhU2n40q), it probably doesn't follow convention, but this is never going to be released publicly, and is only going to be used within my team of about 6 guys, of which I'm the only Go programmer. All the tests pass by themselves and when run as a whole (with **go test**), yet a coverage test shows that pretty much all the error conditions in there except for the first one aren't covered. Is there a more effective way to do this without rewriting my functions to support setting errors from within the tests?","upvote_ratio":0.83,"created_utc":1677794137.0},{"title":"Can't figure out if what I am looking for has a name","author":"shellwhale","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11g0deo\/cant_figure_out_if_what_i_am_looking_for_has_a\/","text":"Hello. I am looking for a way to easily replay a program with a previous state, for lack of better words.\n\nWhat I mean by that is that I am making a program that is supposed to run every night at 1 AM. If an error happens, I could simply log out the values that were used during that run and try to figure out what happened.\n\nBut I wonder if there is a way to export the input of my program before doing the actual process so that I can replay the process part when trying to debug later on.\n\nI guess I could simply export some sort of state to JSON and then process that when I please but I am wondering if there isn't some form of the word, software development principle, design pattern, or anything that describes or resembles what I am trying to achieve so I can follow it.","upvote_ratio":1.0,"created_utc":1677756191.0},{"title":"Want to know if this is a valid approach","author":"TeeckleMeElmo","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11g5abw\/want_to_know_if_this_is_a_valid_approach\/","text":"I'm building a web application for fun\/practice and wanted to know if this approach to testing was ok, or if there's a better way to do it. Here's the general layout.  \n\n\n    \/\/ storeServer has all of the handlers as methods that get registered with mux, and store server is passed to http.ListenAndServe\n    type storeServer struct {\n        db databaseService\n        mux *http.ServeMux\n    }\n    \n    func (s storeServer) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n        \/\/register all the handlers with mux\n        s.mux.ServeHTTP(w, r)\n    }\n    \n    \/\/ databaseService describes the functionality the database should provide.\n    \/\/ There are more methods, but I limited it for space.\n    type databaseService interface {\n        databaseOp1(parameter) value\n        databaseOp2(parameter) value\n    }\n\nI have an actual postgres implementation that implements the databaseService interface that gets passed to the storeServer when the app is running.\n\nFor testing I created a mock databaseService, however I wanted to be able to modify the implementation of it so I can test different paths in the handler. Instead of creating multiple mocks for say returning a database error, or returning a not found error, I came up with the following solution:\n\n    var databaseOp1Override = func(parameter) value\n    var databaseOp2Override = func(parameter) value\n    type mockDatabaseService struct {}\n    \n    func (m mockDatabaseService) databaseOp1(parameter) value {\n        return databaseOp1Override(parameter)\n    }\n    \n    func (m mockDatabaseService) databaseOp2(parameter) value {\n        return databaseOp2Override(parameter)\n    }\n    \n\nAnd here i what the tests look like\n\n    func TestHttpHandler(t *testing.T) {\n        s := storeServer{db: mockDatabaseService}\n    \n        \/\/Test successful case\n        req := httptest.NewRequest(\/\/necessary parameters)\n        res := httptest.NewRecorder()\n        databaseOp1Override = func(p parameter) value {\n            return successful response\n        }\n        s.ServeHTTP(res, req)\n        \/\/ Test response for expected values\n    \n        \/\/Test not found case\n        req := httptest.NewRequest(\/\/necessary parameters)\n        res := httptest.NewRecorder()\n        databaseOp1Override = func(p parameter) value {\n            return not found error\n        }\n        s.ServeHTTP(res, req)\n        \/\/ Test response for expected values\n    }\n\nDoes these seem like a good way to get different behaviors from the database service during testing or is there a better way I should be doing this?","upvote_ratio":0.8,"created_utc":1677770370.0},{"title":"Kubebuilder: fmt.Printf() for debugging is not visible in envtest","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11g62cd\/kubebuilder_fmtprintf_for_debugging_is_not\/","text":"I am using kubebuilder and envtest.\n\nIf I use fmt.Printf() in evntest.go I can see the output.\n\nBut if I use fmt.Printf() for debugging in my controller, I can't see the output.\n\nIs there a way to make it visible?\n\nI know that I could use logging, but fmt.Printf() would be more convenient.","upvote_ratio":1.0,"created_utc":1677772265.0},{"title":"Any references for open source mini workflow libraries or systems written in Go?","author":"MenuEconomy1843","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11g9f3n\/any_references_for_open_source_mini_workflow\/","text":"Any open sources projects or libraries to refer for building a orchestrator kind of functionality in go?\n\nI would like to run a job periodically which basically pulls data from an API and then it calls 2 more API\u2019S based on result of first API response. And then will upload data to S3 and send a notification once upload is successful. Data size is pretty large so I prefer resuming if any steps fails during retry. \n\nAny recommendations how to build this orchestrating (chaining tasks) logic cleanly in Go?\n\nI have read about pipeline pattern but I am not sure whether it will be applicable if input and output data type is not same (ex: output of upload task is location of bucket but notification task input is bucket detail, size of data and unique identifier etc. )? \n\nAny references to open source projects or similar work will be really helpful, main feature being able to chain tasks. I cannot use workflow kind of large system, looking to build mini workflow\/orchestration component from scratch.","upvote_ratio":1.0,"created_utc":1677780298.0},{"title":"Offline Resources for Learning Go","author":"freshrap6","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fzo6o\/offline_resources_for_learning_go\/","text":"I'm going to be on a really long plane flight this weekend and I wanted continue learning Go. I'm halfway through the Udemy course (Go: The Complete Developers Guide), but I was looking for some offline resources for the flight. I found this [link](https:\/\/www.reddit.com\/r\/golang\/comments\/1kqihe\/planning_to_teach_myself_go_on_a_plane_tomorrow\/) and was wondering if there were any new or more updated options. I was also  thinking of picking up a PDF\/Epub copy of a book or two to read and have some exercise to work through. \n\nThanks!","upvote_ratio":0.89,"created_utc":1677753656.0},{"title":"Exercism is featuring Go this month","author":"ihid","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11f68rw\/exercism_is_featuring_go_this_month\/","text":"Hello \ud83d\udc4b I'm Jeremy, the co-founder at [Exercism](https:\/\/exercism.org) (the free, not for profit coding educational platform and official mentoring platform of GoBridge and the GDN).\n\nWe're running a year long challenge to encourage people to try different programming paradigms and languages. For March we're focussing on system languages and specifically featuring Go. We're hoping to encourage people to try Go for the first time and are putting lots of fun content together in addition to our main [Go course](https:\/\/exercism.org\/tracks\/go).\n\n~~\\~We have people live-streaming solving exercises in Go, some Go mentoring, and an interview and AMA with~~ [~~Johnny Boursiquot~~](https:\/\/www.jboursiquot.com\/) ~~on March 9th at 5.30pm UTC (You can set a~~ [~~reminder on YouTube~~](https:\/\/youtube.com\/live\/iI-WdsEPUiw)~~).\\~~~ (*Edit: This got postponed)*\n\nWe have a live interview and AMA with Cameron Balahan - Go Product Lead at Google - on March 16th at 3.30pm UTC. Set a reminder on [YouTube](https:\/\/www.youtube.com\/watch?v=DhxijTyxSk0).\n\nWe've also put together [A Brief Introduction to Go](https:\/\/www.youtube.com\/watch?v=LajgcyqjWOs) which hopefully serves as a nice into for people new to the language.\n\nWe're also exploring Rust and have an interview lined up with the co-lead of Rust if that's of interest too :)\n\nIf you're interested in the whole concept of \"Mechanical March\" and 12in23, here's our [intro video to the month](https:\/\/www.youtube.com\/watch?v=_PPXEJZ7gOg). You can sign up to for the whole of #12in23 [here](https:\/\/exercism.org\/challenges\/12in23). I hope it's a fun and useful month for everyone and that we can encourage more people to try and use Go! Thanks for reading \ud83d\ude42\n\n*(To be clear: We're not trying to sell you anything. Everything really is free (we survive on donations). Our mission is to help as many people as possible get better at programming. And I really do think this might be of interest to people here, but please delete if this is considered spammy!)*","upvote_ratio":0.95,"created_utc":1677683593.0},{"title":"Learning go","author":"ProAtLife1","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11gkouf\/learning_go\/","text":"Hello there!\n\nI\u2019m trying to learn go as it seems like a simple language with a lot of potential for creation. Any tips for learning?","upvote_ratio":0.29,"created_utc":1677800436.0},{"title":"my open source job schedule based on HTTP request like cron.yaml of GCP cloud run or AWS Beanstalk","author":"banhloc","url":"https:\/\/github.com\/yeo\/endhouse\/","text":"","upvote_ratio":0.67,"created_utc":1677762115.0},{"title":"Service Weaver: A Framework for Writing Distributed Applications","author":"_c0wl","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fi4le\/service_weaver_a_framework_for_writing\/","text":"[https:\/\/opensource.googleblog.com\/2023\/03\/introducing-service-weaver-framework-for-writing-distributed-applications.html](https:\/\/opensource.googleblog.com\/2023\/03\/introducing-service-weaver-framework-for-writing-distributed-applications.html)","upvote_ratio":0.89,"created_utc":1677704885.0},{"title":"Structure of a Golang project","author":"opensrcdev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fa8o0\/structure_of_a_golang_project\/","text":"I'm trying to wrap my head around Golang packages and modules. What's the best way to comprehend how packages and modules should be structured? \n\nLet's say you want to create an open source Golang library that contains a handful of submodules. Do these all belong to the same package, but have separate module names? \n\nThe terminology and structure is confusing to me, so I'm hoping someone can point me to a resource that will demystify it layman's terms.","upvote_ratio":0.84,"created_utc":1677692967.0},{"title":"graph v0.16 supports integrating any storage backend for storing graph data structures","author":"dominik-braun","url":"https:\/\/github.com\/dominikbraun\/graph\/tree\/v0.16.0","text":"","upvote_ratio":0.91,"created_utc":1677677209.0},{"title":"Slice methods in golang","author":"Ozymandias0023","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11flcxq\/slice_methods_in_golang\/","text":"I'm a newcomer to the land of golang, hailing from a world dominated by typescript, and while I dig the language so far, I'm curious at how developers generally deal with the lack of common utility functions like \\`.filter\\` or \\`.map\\`. Do you just write your own utility functions for every project? I don't imagine that's the case so are there modules kind of like lodash that everyone uses? Or do you just do everything in for loops?","upvote_ratio":0.72,"created_utc":1677712199.0},{"title":"Building API service with Mify Part 2: Adding Postgres","author":"heraldev","url":"https:\/\/ichebykin.hashnode.dev\/building-api-service-with-mify-part-2-adding-postgres","text":"","upvote_ratio":1.0,"created_utc":1677712402.0},{"title":"Discussion: about \"go install\" versus brew when available","author":"ccoVeille","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fkr1i\/discussion_about_go_install_versus_brew_when\/","text":"About me:\n\nI'm using Linux for more than two decades. I'm using Ubuntu professionally, let's say by laziness \ud83d\ude01. \n\nI'm using multiple PPA to install tools, for some tools I use snap as developer made the choice to focus on snap and not .deb packaging.\n\n\nContext: \n\nI'm installing tools I need for Golang development from multiple places.\n\nBy tools, I mean some linters, coverage tools. \n\nThe `go install whatever@latest` addition was something I appreciated against the old `go get` way.\n\nFor `golangci-lint`, I use the shell installer way available on the documentation. As the \"go install\" way is not recommended\n\nSo I'm installing tools in my `GOBIN` folder. But then...\n\nMost of these tools are not available as PPA or snap. Or I wouldn't have installed via `go install`\n\nAs it requires extra work and to maintain them. I'm OK with the fact a developer focus on this tool, especially when they are in Golang and provides a `go install` way. It works. It's easy and convenient.\n\nMy problems:\n\nI find quite frustrating that the tools I install are somehow barely updatable easily, or I'm not even able to understand what version is installed, and if there are newer versions.\n\nRight now, I consider `go install` \"as dirty as a `make install`\" for a C++ binary. Something we have to do sometimes because a program was not packaged in PPA or deb\/Ubuntu.\n\nAlso, once installed, there are no real convention for Golang binary in a way to get the version of a tool:\n\n* whatever -v\n* whatever --version\n* whatever -version\n* whatever version\n\nThe only way I know is to use `go version` like this:\n\n`go version -m .\/path\/bin\/whatever`\n\nBut there are still no easy way to:\n\n* know if a package has a new version\n* upgrade things\n\nI mean, like what you can get with a package manager like apt, snap and co...\n\nHomebrew: \n\nhttps:\/\/brew.sh\/\n\nI never looked at homebrew project until today. I knew they supported Linux \"recently\".\n\nI saw many projects providing brew install via formula\/cast. Years ago, I knew it was for macOS.\n\nI found no use of brew against the go install way.... But today, I started looking at homebrew. And it led me to think about my current use and issues, and to write this post.\n\nI don't expect Homebrew to be magical, it may have issues as any tool, as any packaging tool.\n\nI'm only few hours newbie with homebrew. But I think it could provide me a solution for my problems.\n\nDon't get me wrong, I understood that:\n* `go install` is standard, so it works for any repository, out of the box\n* and that homebrew requires that somebody wrote a \"formula\" for each tool, as any package maintainer would do.\n\nBut if a formula is available and suggested by the owner of a tool, it sounds a good idea to consider the brew way to install it.\n\nMy question:\n\nAm I right? \ud83d\ude05 by thinking, homebrew solves the kind of issues I had.\n\nI mean, `brew outdated` and `brew upgrade` seem to be what I was looking for.\n\nWhat am I missing?\n\nDo you have good resources to share about this?\n\nWhat are your thoughts about this?\n\nThanks\n\nTL;DR: what do you think about homebrew to install Golang dev tools and keep them updated?\n\nNote: I may use the wrong term for brew, homebrew, formula, don't get mad at me, please.","upvote_ratio":0.63,"created_utc":1677710784.0},{"title":"easytemplate - Go's text\/template library with JS Super Powers","author":"IndyBonez","url":"https:\/\/github.com\/speakeasy-api\/easytemplate","text":"","upvote_ratio":0.83,"created_utc":1677683432.0},{"title":"I found the way of highlighting .tmpl file type or golang literals inside go files in visual studio code. Also it allows emmet and format in .tmpl files exactly same as .html files.","author":"Busy-Contact-5133","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ffy5f\/i_found_the_way_of_highlighting_tmpl_file_type_or\/","text":"1. Install [this vs code extension](https:\/\/marketplace.visualstudio.com\/items?itemName=jinliming2.vscode-go-template). It highlights go literals and go templates\n2. add following lines in vs code settings.json. It makes vs code handle .tmpl files as .html files, which enables emmet and formatting .tmpl as same as html.\n\n&#8203;\n\n    \"files.associations\": {\n        \"*.tmpl\": \"html\"\n      }\n\nThat's all. It will highlight your go template's own syntaxes like`{{define \"some\"}}` and `{{end}}`, and highlight all the html tags in .tmpl files. And also highlights the literals in the go files.\n\n&#x200B;\n\nBy the way, I'm learning go with the udemy and the lecture uses .tmpl files a lot. But is .tmpl files used in the reality? Or is it just for the education? I thought it's unpopular because the number of downloads of the extension i attached, or myabe it's because go itself is unpopular. Anyway, do you guys use .tmpl file?","upvote_ratio":0.76,"created_utc":1677700966.0},{"title":"anyone use srtgo?","author":"rUbberDucky1984","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fw7re\/anyone_use_srtgo\/","text":"I'm trying to get a basic streaming service up using srtgo, I can get the example on the documentation to start but can't seem to connect to the port it's opening and there are no logs. any resources available on this?","upvote_ratio":0.25,"created_utc":1677741451.0},{"title":"Hopper: Distributed Fuzzer","author":"Delusional_idiot","url":"https:\/\/github.com\/Cybergenik\/hopper","text":"","upvote_ratio":1.0,"created_utc":1677713649.0},{"title":"Looking to start learning Golang as a backend developer, where should I begin?","author":"fell-to-despair","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fuybb\/looking_to_start_learning_golang_as_a_backend\/","text":"I am not very familiar with Golang, but I would like to skip the formalities and start directly with learning a framework (okay with any API, be it REST, GraphQL or gRPC). I've played around with gRPC tutorial, but I feel like I haven't learnt anything. Are there any free guided course available online - which does not happen to be anything apart from documentation? My experience with Ruby on Rails is hurting me a lot, as I seem to be struggling with back-end development in general and micro-frameworks to be specific, and I would like to start with a Flask equivalent to understand in great depth each and every components, be it middleware, ORM, adapters, migrations, etc.","upvote_ratio":0.38,"created_utc":1677737427.0},{"title":"Tooltitude: code lenses for GoLang code navigation and exploration","author":"Tooltitude","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11f7r8f\/tooltitude_code_lenses_for_golang_code_navigation\/","text":"With the latest release of Tooltitude we finished out work on code lenses helping you explore, navigate and refactor go code bases in a more productive and enjoyable way. You could install it from here: https:\/\/marketplace.visualstudio.com\/items?itemName=tooltitudeteam.tooltitude Here's the summary of new code lens functionality:\n\n- references, i.e. method calls, interface in type of fields, or variables, etc\n- implementations for interfaces and interface method, i.e. types which implement interface, and method which implement the interface's methods\n- implementation for methods, number of different interface method the method implements\n- implemented interfaces for types, number of different interfaces the type implements\n\nYou could navigate from the code lenses to references\/implementations\/implemented entities by clicking on the lense.\n\nHere's the picture which summarizes it: https:\/\/github.com\/tooltitude\/support\/blob\/main\/images\/Lenses.png\n\nWe also have a set of inspections and code actions (~25 items). You could read more about them here: https:\/\/www.tooltitude.com\/\n\nP.S. Extension is closed source but free to use. We intend to have a good set of free features, with some paid premium features in the future.\n\nP.P.S. We collect de-identified telemetry, which is controllable via a global vscode setting.\n\nP.P.P.S. Thanks for everyone who downloaded and tried the previous version, and provided feedback either directly or via telemetry which resulted in this updated version! We really appreciate you!","upvote_ratio":0.67,"created_utc":1677687163.0},{"title":"magiclinksdev - a new magic link authentication project","author":"MicahLeviParks","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fknpu\/magiclinksdev_a_new_magic_link_authentication\/","text":"I'm happy to announce the release of magiclinksdev, a new magic link authentication project! Check it out on GitHub here:\n\n[https:\/\/github.com\/MicahParks\/magiclinksdev](https:\/\/github.com\/MicahParks\/magiclinksdev)\n\nFor those who are unfamiliar, magic link authentication is a passwordless authentication scheme that supports use cases like sign up, log in, password resets, email verification, and more. The user requesting authentication is sent a \"magic link\" via a secure method, typically email. When the user clicks the link, they are redirected to the protected resource with a signed JWT indicating who clicked the link.\n\nThe project is written in Go and licensed under the [Elastic License 2.0 (ELv2)](https:\/\/www.elastic.co\/licensing\/elastic-license\/faq#faq-on-elastic-license-2.0-elv2), which means it's free to embed in other Go projects or self-host for systems that comply with the license. There is also an optional SaaS platform if you'd prefer a hosted instance.\n\nLinks:\n\n* [Documentation](https:\/\/docs.magiclinks.dev\/)\n* [GitHub (source code)](https:\/\/github.com\/MicahParks\/magiclinksdev)\n* [SaaS landing page](https:\/\/magiclinks.dev\/)","upvote_ratio":0.5,"created_utc":1677710577.0},{"title":"Inspired from a recent post - a generic, precise priority queue in Go","author":"Human-Cabbage","url":"https:\/\/gogs.humancabbage.net\/sam\/priorityq","text":"","upvote_ratio":0.91,"created_utc":1677645487.0},{"title":"Anyone else doing compiler work in Golang?","author":"Adadum","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ericw\/anyone_else_doing_compiler_work_in_golang\/","text":"Despite Golangs purpose to be web backend programming language, it's pretty comfy for use as a compiler development language. The compiler part probably falls strongly in line with the CLI development selling point.\n\nI just wanted to inquire if there's anyone else here or if there's a company that also happens to be developing compilers or language tools in Golang as well?","upvote_ratio":0.91,"created_utc":1677637337.0},{"title":"Ergo Framework v.2.2.2 is just released with the new cool feature gen.Pool","author":"taras-halturin","url":"https:\/\/github.com\/ergo-services\/ergo#changelog","text":"","upvote_ratio":0.67,"created_utc":1677664468.0},{"title":"Go backend engineer","author":"Intrepid-Work-4657","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ep591\/go_backend_engineer\/","text":"Guys can you give me roadmap, books and courses about golang to become really good backend engineer.\nI would like stuff from fundamental to expert. I have time and i already learned little bit html, css, js, ts and algorithms\/data structures. So im not totally new, but i am beginner.\nIn future i will probabpy learn c# or java as another BE language but for now i just eant Go.","upvote_ratio":0.73,"created_utc":1677630978.0},{"title":"How to modify the attributes such as \"src\" in an img tag in HTML","author":"kald1999","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11f8u06\/how_to_modify_the_attributes_such_as_src_in_an\/","text":"Edit:  \nsorry for wasting your time I made a dumb typo in the code and it worked now \n\n\\------------------------------------------------------------------------------------------------------------------------------------------\n\n&#x200B;\n\n&#x200B;\n\nHello.\n\n# Background\n\nI am trying to make an HTML weather website where the user inputs a city name and gets an image that displays the current weather condition (sun, cloud, rain). I am using golang to display the HTML file for the user.\n\nI am using this API for weather conditions.\n\n    https:\/\/api.openweathermap.org\/data\/2.5\/weather?q=London&appid={API key}\n\nThe returned response contains a code (04d) representing the weather condition.\n\n    }\n        \"icon\": \"04d\" \n    }\n\nThe code (04d) will be stored in a variable called `icon`\n\nto get the image, you have to use this URL with the `icon` variable in it\n\n    http:\/\/openweathermap.org\/img\/w\/icon.png\n\n# The issue\n\nMy question is how to make go modify the attributes of `src` in the `img` tag. Currently, I am using a placeholder image.\n\nI did some googling and found this one\n\n    func search(x *gin.Context) {\n    \ticon := \"04d\" \n    \tvarToPass := gin.H{\n    \t\t\"Icon\":                icon ,\n    \t}\n    \n    \tx.HTML(http.StatusOK, \"index.html\", varToPass)\n    }\n\nHTML\n\n    <div><img src=\"http:\/\/openweathermap.org\/img\/w\/{{.Icon}}.png\" \/><\/div>\n\nBut it does not change the attributes inside the tag when I use itWhat is the simplest approach I should use?","upvote_ratio":0.67,"created_utc":1677689713.0},{"title":"DDD: Do you use domain types (e.g., using an Email type instead of string)?","author":"saltyrefrigerator","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ei18x\/ddd_do_you_use_domain_types_eg_using_an_email\/","text":"I was watching a talk on DDD in F# \\[1\\], one that I've seen referenced in the Go subreddit a few times, where the speaker mentions creating custom types for every field. \n\nThis got me thinking about how we could do this in Go and whether or not it's worth it. I'd love to have an honest discussion about the pros\/cons of this approach.\n\nFor example, a User's email -- a value that would typically be a string -- would instead have its own type that could be used across the application.\n\nBefore:\n\n    type User struct {\n    \tEmail string\n    }\n\nAfter:\n\n    type Email string\n    \n    func NewEmail(v string) (Email, error) {\n    \t\/\/ validation, etc.\n    \treturn \"\", nil\n    }\n    \n    type User struct {\n    \tEmail Email\n    }\n\nIn \"Before\", a User could be invalid if the email is invalid.\n\nIn \"After\", a User would always be valid since it could never have an invalid email.\n\nWhat do you think? Good? Bad? Why?\n\n\\[1\\]: [https:\/\/fsharpforfunandprofit.com\/ddd\/](https:\/\/fsharpforfunandprofit.com\/ddd\/)","upvote_ratio":0.89,"created_utc":1677613902.0},{"title":"Any thoughts on using Redis to extend Go's channels across application \/ machine boundaries?","author":"IanArcad","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11eztlr\/any_thoughts_on_using_redis_to_extend_gos\/","text":"Go's channels are great for communication within the same application, but the question is how to extend that communication across applications and systems so that one system could provide a service to other systems.  The standard seems to be using http-based microservices, but  I would assume that any tcp\/ip based service could work if you're willing to put the time into it, and Redis seems to have a lot of the capabilities right out of the box and solid clients for Go.  I was wondering if anyone had any thoughts on this or experience in doing this.\n\nI'll just mention the specific scenario that I had in mind since sometimes having a concrete example is helpful.  My idea was to put together a user\/session server with its own API that other web applications could query using a redis queue as a request \/ response messaging system.  That way all the web apps would share a common set of users and all of the sessions would be persistent.","upvote_ratio":0.67,"created_utc":1677664535.0},{"title":"Rapid Kubernetes Controller development cycle with Tilt - with silly drawings","author":"skarlso","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11eypc9\/rapid_kubernetes_controller_development_cycle\/","text":"Hello, dear Gophers.\n\nThis might interest anyone working with controllers and wishing for a better developer experience around testing them.\n\nI wrote a guide on how to write a trivial yet powerful Tiltfile. I'm explaining the whole process along the way, adding port forwarding, attaching a debugger and having lovely custom settings.\n\nThe post is here => https:\/\/skarlso.github.io\/2023\/02\/25\/rapid-controller-development-with-tilt\/\n\nI hope it helps! :)\n\nCheers.","upvote_ratio":1.0,"created_utc":1677660292.0},{"title":"What is the x.y format? Function (dot) Function?","author":"Telnet_to_the_Mind","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11fj7th\/what_is_the_xy_format_function_dot_function\/","text":"Okay! Need some help here...new go learner blah blah etc..\n\nI see this type of syntax a lot: \n\n     \nvar Config *config = LoadConfig()\n    var Upgrader = websocket.Upgrader\n    { ReadBufferSize:  Config.readBufferSize, \n    WriteBufferSize: Config.writeBufferSize\n      h := NewHive() http.HandleFunc(\"\/\", h.ServeNewConnection) \n\nThat's all cobbled together from various places in the code. But what i'm focusing on is the stuff like:\n\n\"websocket.Upgrader\"\n\nand\n\n\"h.ServerNewCOnnection\"\n\nMy first question is, clearly the h is a variable here.. for \"newhive\" function right? So it's using the newhive function and...it has the . to 'attach' it to the ServeNewConnection... So is the . basically saying pass the output of the first newhive function and pass it's results into ServerNewConnection?\n\nDoes the . always mean this? Can the term proceeding the . be anything other than a function? Can it be just a variable or anything else?\n\nAlso what's the 'go' name for the . and this syntax? When you see this x.y like this, what do you call that syntx? do you just say the dot, or is there a term for this?\n\n&#x200B;\n\nLast question for this part:\n\nvar Upgrader = websocket.Upgrader\n\nWhat the hell is this. How is this even working? It's creating a variable..called Upgrader, but it's definied by the output of websocket being passed into Upgrader? How does this even work? IT seems like it trying to definite itself...with a version of itself...","upvote_ratio":0.3,"created_utc":1677707362.0},{"title":"I completed Gossip Glomers (a series of distributed systems challenges): It was awesome!","author":"teivah","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e1c9m\/i_completed_gossip_glomers_a_series_of\/","text":"Recently, [Fly.io](https:\/\/fly.io\/) and Kyle Kingsbury (the author of Jepsen) have released a series of distributed system challenges that we can do in Go: [Gossip Glomers](https:\/\/fly.io\/dist-sys\/). We go through multiple challenges, such as implementing a broadcast protocol, a Kafka-style log, a distributed counter, etc.\n\nI completed it, and it was really an awesome experience. If you want to delve into distributed systems or refresh your memory while having fun, that's the challenge you need (I'm not affiliated with Fly.io, btw \ud83d\ude05).\n\nHere's my [repo](https:\/\/github.com\/teivah\/gossip-glomers), where I took the time to explain my solutions if you want to see how it goes or compare your solutions.","upvote_ratio":0.98,"created_utc":1677574618.0},{"title":"Let's code a B-tree in Golang","author":"boxing_wizard","url":"https:\/\/build-your-own.org\/database\/04_btree_code_1?v=20230228","text":"","upvote_ratio":0.9,"created_utc":1677597713.0},{"title":"how to disable cobra CLI default commands","author":"West_Ad7170","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11evntz\/how_to_disable_cobra_cli_default_commands\/","text":"Hi all,  \n\n\nI have a built a CLI using cobra cli \"[github.com\/spf13\/cobra](http:\/\/github.com\/spf13\/cobra)\"  \nand when I do mikecli in terminal  \n\n\n    C:\\Users\\mike> mikecli\n    a tool to run tasks\n    \n    Usage:\n      mikecli [command]\n    \n    Available Commands:\n      completion  Generate the autocompletion script for the specified shell \n    \n    Flags:\n      -h, --help   help for mikecli\n\nthis is showing by default, I have not added  \nhow do I make cobra not show the completion command?  \ncan you pls suggest  \nThanks","upvote_ratio":1.0,"created_utc":1677649592.0},{"title":"Stateful scheduling.","author":"inetjojo69","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11f9a5z\/stateful_scheduling\/","text":"Hello everybody, im looking for a solution that will enable be to schedule tasks to be performed at exact timestamp in subsecond precision. System should be scalable and generic for vareity it should be used. My app is rest api that is scaled horizontaly with kubernetes, in case logic dies, actions should be performed in when system is rebooted. \nI have general idea on how to implement this, i just wanted to see if there is something already implemented. A library or service solution i could reuse.\nThanks.\n\nBonus: i tried asyncmon but it tends to be really late sometimes. In need something precise.","upvote_ratio":0.17,"created_utc":1677690740.0},{"title":"Concurrency in Golang","author":"rksoni31895","url":"https:\/\/medium.com\/@rajkumarksoni031\/concurrency-in-golang-65017cfdac41","text":"","upvote_ratio":0.22,"created_utc":1677699837.0},{"title":"Why use a library-based type vs. a string type for UUIDs?","author":"saltyrefrigerator","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ehpc2\/why_use_a_librarybased_type_vs_a_string_type_for\/","text":"In all code samples \/ OSS projects where people use UUIDs, I see one of the many `uuid` packages being used. Why do you use these types the benefit to this over using a string?\n\n\\--\n\nIn an attempt to answer my own question, here are two reasons I can think of, though I'm not convinced they apply to every app:\n\n**Generating a new UUID**:  in my applications, this is done by the database; I never generate one in my code.\n\n**Validating a UUID**: I use a very simple regex for this. I'm not validating that a UUID is a v4 UUID, for example, since this may change in the future; adopting v6\/v7 would not require any changes since it still passes our loose regex validation.","upvote_ratio":0.76,"created_utc":1677613114.0},{"title":"hh: a CLI tool for computing hashes and checksums","author":"AkaIgor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ekulx\/hh_a_cli_tool_for_computing_hashes_and_checksums\/","text":"I recently was trying to find a good `crc32` package for Arch and I couldn't find any.  \nI installed some packages from the AUR but I couldn't get any to work, maybe because I'm dumb.\n\n**But that gave me an idea:**\n\n\"What if I build my own simple tool like Coreutils sha256sum, but that also supports crc32 and can compute stuff in parallel?\"\n\nAnd that is what I made: [https:\/\/github.com\/igoracmelo\/hh](https:\/\/github.com\/igoracmelo\/hh)\n\nAs always, it was awesome to learn more about Go incredible stdlib, like:\n\n* `flag`: parsing flags and positional arguments\n* `atomic`: atomic operations for concurrently read and increment index\n* `pprof`: for profiling and trying to optimize, although there wasn't much I could optimize\n* `crypto`: awesome set of cryptographic utilities and all the hashes and checksums used came from here\n\nPS: I'm a noobie in cryptography, and it is not expected to be secure and trustworthy.\n\nTO-DO:\n\n* `--check` flag, just like Coreutils sum functions","upvote_ratio":0.9,"created_utc":1677620517.0},{"title":"Can Go files be compiled by themselves?","author":"david825","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11f9jvu\/can_go_files_be_compiled_by_themselves\/","text":"Can files written in go language be compiled without installing the support tools for the go language? I'd like to be able to create efficient compiled code for the Web\/browsers on a computer without much disk space. (I have no experience with using go.)","upvote_ratio":0.38,"created_utc":1677691365.0},{"title":"Bad practice to have a string with a format specifier?","author":"Forumpy","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ee8wv\/bad_practice_to_have_a_string_with_a_format\/","text":"I currently have a string like:\n\n```\nstr := \"Hello %s\"\n```\n\nLater on, I'll use `fmt.Sprintf()` with this string to fill the format specifier, like so:\n\n```\nresult := fmt.Sprintf(hello, \"World\")\n```\n\nI've never seen strings with format specifiers in them that weren't literals given to functions like `Sprintf()`. Is this generally bad practice? Or is it fine with the appropriate context?","upvote_ratio":0.87,"created_utc":1677604819.0},{"title":"What about creating a go code editor and compiler for Android","author":"detherminal","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11evpct\/what_about_creating_a_go_code_editor_and_compiler\/","text":"Yesterday I tested golang in Android and it worked out pretty well, so what about creating a code editor and use the existing compiler? I think it can be great for developing code when you are not always in front of a computer screen. If the community says yes, I would like to create a repository in the official golang organization in GitHub and develop it with the community. I have Android experience so I think it won't be a big deal for me.\n\nWhat is your ideas about it?","upvote_ratio":0.5,"created_utc":1677649729.0},{"title":"Automatic Instrumentation As A Kubernetes Virtual Device","author":"Barakikia","url":"https:\/\/keyval.dev\/instrumentation-as-resource\/","text":"","upvote_ratio":0.81,"created_utc":1677615782.0},{"title":"Web scraper help","author":"WesternDesign2161","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11exgk9\/web_scraper_help\/","text":"I want to create a web scraper with the help of net\/http module. Does anyone know where can I get some more docs\/videos on this. I found the official doc but couldn\u2019t find any videos for this.\nLet me know if you have leads on this.","upvote_ratio":0.33,"created_utc":1677655535.0},{"title":"What are some good youtube channels for follow-along projects in Golang","author":"RP_m_13","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ds663\/what_are_some_good_youtube_channels_for\/","text":"What are some good youtube channels for follow-along projects in Golang for begginers","upvote_ratio":0.98,"created_utc":1677545234.0},{"title":"I wrote a blog about building a CRUD application with Golang, React and MongoDB","author":"laurentiurad","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11egc2n\/i_wrote_a_blog_about_building_a_crud_application\/","text":"I have created a blog post on my Medium about creating such an app. I thought I might share it with you, as I feel it can be a good starting point for beginners trying to build stuff with Go.\n\nHere's the link: https:\/\/laurentiu-raducu.medium.com\/creating-a-crud-application-with-golang-react-and-mongodb-cb0f7e21c3b2","upvote_ratio":0.56,"created_utc":1677609889.0},{"title":"Need help with getting the grandchild in nested JSON","author":"kald1999","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11elp5w\/need_help_with_getting_the_grandchild_in_nested\/","text":"Hi, people.\n\nI hope you all have a good day.\n\nAs the title says. I am trying to get the values inside the  JSON.\n\nhere is the JSON that I want to get its grandchild \n\n    {\n        \"coord\": {\n            \"lon\": -0.1257,\n            \"lat\": 51.5085\n        },\n        \"weather\": [\n            {\n                \"id\": 804,\n                \"main\": \"Clouds\",\n                \"description\": \"overcast clouds\",\n                \"icon\": \"04n\"\n            }\n        ],\n        .\n        .\n        .\n    }\n\nThe first one I manage to get its grandchild by using   \n\n\n    foomap := fitchData[\"coord\"]\n    temp := foomap.(map[string]interface{})\n    something := temp[\"lon\"]\n\nBut when I use the same technique with the second one, I get a red wall of error text\n\nthe thing I tried:\n\n    foomaptwo := fitchData[\"weather\"]\n    state := foomaptwo.([]map[string]interface{})\n\nAlso, I don't know if the way I am using is right. It just feels clunky. Any suggestion for a better way?\n\nThank you for your time.","upvote_ratio":0.56,"created_utc":1677622464.0},{"title":"arangom - ArangoDB migration tool","author":"gabor-boros","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ek3nq\/arangom_arangodb_migration_tool\/","text":"I was wondering if any tool exists for ArangoDB that can do migrations. Although I found [ArangoMiGo](https:\/\/github.com\/deusdat\/arangomigo), it wasn't as flexible as I need it. Refactoring ArangoMiGo to be more flexible would be a huge effort, almost a rewrite.\n\nFor my needs (and for those who need more flexibility), I created [https:\/\/github.com\/gabor-boros\/arangom](https:\/\/github.com\/gabor-boros\/arangom). Any feedback is highly welcomed.","upvote_ratio":1.0,"created_utc":1677618764.0},{"title":"jsonpath: a CLI tool that prints the path of every key \/ value pair in a JSON file","author":"jabbalaci","url":"https:\/\/github.com\/jabbalaci\/go-jsonpath","text":"","upvote_ratio":0.78,"created_utc":1677587306.0},{"title":"Issue implementing interface method that returns another interface","author":"John_Jarndyce","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ecwve\/issue_implementing_interface_method_that_returns\/","text":"I am having a question about how to implement interfaces correctly in Go when it comes to third-party packages that use chained methods. I have compiled an example project below for you so that you can understand the problem.\n\n    package main\n    \n    import (\n    \tmyAPI \"github.com\/hashicorp\/vault\/api\"\n    )\n    \n    var myClient *myAPI.Client\n    \n    type MyProvider interface {\n    \tGetClient() MyAPIClient\n    }\n    \n    type MyAPIClient interface {\n    \t\/\/ I want to do this but it does not work\n    \tLogical() MyAPILogical\n    \t\/\/ This works though\n    \t\/\/ Logical() *myAPI.Logical\n    }\n    \n    type MyAPILogical interface {\n    \tWrite(path string, data map[string]interface{}) (*myAPI.Secret, error)\n    }\n    \n    type Provider struct {}\n    \n    func PublicFunctionIWantToTest(provider MyProvider) {\n    \tclient := provider.GetClient()\n    \t\/\/ We normally do something here with the 'client' variable, but important\n    \t\/\/ is that we forward it later on\n    \tprivateFunctionThatIsUsedInTheTest(client)\n    }\n    \n    func privateFunctionThatIsUsedInTheTest(client MyAPIClient) (*myAPI.Secret, error) {\n    \treturn client.Logical().Write(\n    \t\t\"\/here\/goes\/some\/path\",\n    \t\tmap[string]interface{}{\n    \t\t\t\"key\": \"value\",\n    \t\t},\n    \t)\n    }\n    \n    func NewProvider() MyProvider {\n    \treturn Provider{}\n    }\n    \n    func (p Provider) GetClient() MyAPIClient {\n    \treturn myClient\n    }\n    \n    \/\/ Empty function just so that this example can be built\n    func main() {}\n\nAs you can see, the package has a chained method `Logical().Write()` . Since I want to create tests for `PublicFunctionIWantToTest`, I want to pass down all the functionality as interface so that I can use [https:\/\/vektra.github.io\/mockery\/](https:\/\/vektra.github.io\/mockery\/) to create mocks for it.\n\nUnfortunately, I am hitting an issue with my `MyAPIClient` and the `MyAPILogical` interface. Since I can see in the package's documentation ([https:\/\/pkg.go.dev\/github.com\/hashicorp\/vault\/api@v1.8.1#Logical.Write](https:\/\/pkg.go.dev\/github.com\/hashicorp\/vault\/api@v1.8.1#Logical.Write)) that the `Logical()` method returns a Logical instance, I want to make it so that interface method returns the other interface `MyAPILogical` (line 15). This does not work though, there is an error on line 47 in the `GetClient()` method saying that I would not implement the interface correctly. How could I do that?\n\n    cannot use myClient (variable of type *api.Client) as MyAPIClient value in return statement: *api.Client does not implement MyAPIClient (wrong type for method Logical)\n    \t\thave Logical() *api.Logical\n    \t\twant Logical() MyAPILogical\n\nThank you kindly","upvote_ratio":1.0,"created_utc":1677601617.0},{"title":"Simple and flexible Go lifecycle manager library.","author":"g4s8","url":"https:\/\/github.com\/g4s8\/go-lifecycle","text":"","upvote_ratio":0.5,"created_utc":1677611270.0},{"title":"server died","author":"dervaish19","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11exhbo\/server_died\/","text":"Server died!!! , no-one knows what happend. Sir, its a murder\u2026 , but who is the killer?\n\nIt tried to write the name of the murderer before death but couldn\u2019t because we forgot to implement logging.\n\n--------\u2010---------------------------------------------------------------------------------\n\nI have tried to share my recent experiences with file rotation,  data masking using zap logger in the following article.\n\nhttps:\/\/medium.com\/@raotalha302.rt\/logging-using-uber-zap-b633fa46c422","upvote_ratio":0.06,"created_utc":1677655611.0},{"title":"A beginner's guide to creating a web-app in Go using Ent","author":"rotemtam","url":"https:\/\/entgo.io\/blog\/2023\/02\/23\/simple-cms-with-ent","text":"","upvote_ratio":0.92,"created_utc":1677506292.0},{"title":"Editing embedded files","author":"AntonioKarot","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ed8l8\/editing_embedded_files\/","text":"I am building a program which has a user configuration and I need to store it somewehre.\n\nIs there a way to edit embedded files with go:embed ? Or is the only option to copy the base configuration and edit it once it is somewhere else ?","upvote_ratio":0.33,"created_utc":1677602403.0},{"title":"Basic golang importing custom modules","author":"SiliconFoxx","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ect31\/basic_golang_importing_custom_modules\/","text":"I'm trying to import a custom module that I made but whenever I try to import it in my main.go and save, the import goes away.\n\nFolder structure:\n\n    metrics-etl\/\n        api\/\n            testApi.go\n        main.go\n        go.mod\n\nRunning \\`go run main.go\\` gives me the following error:$ go run main.go\n\n    # command-line-arguments\n    .\\main.go:27:2: undefined: api\n\nThis is my first time doing something with go so excuse the noob question\n\n&#x200B;\n\nmain.go at top level of folder (metrics-etl)\n\n    package main\n    \n    import (\n    \t\"fmt\"\n    \t\"metrics-etl\/api\"\n    )\n    \n    func main() {\n    \tfmt.Println(\"At top of main...\")\n    \n    \tapi.basicGet()\n    }\n\nSub-folder api\/testApi.go\n\n    package testApi\n    \n    import (\n    \t\"fmt\"\n    )\n    \n    func basicGet() {\n    \tfmt.Println(\"gitlabApi.go\")\n    }\n\ngo.mod at top level folder:\n\n    module api\n    \n    go 1.20","upvote_ratio":0.5,"created_utc":1677601352.0},{"title":"Looking for a distributed p2p db","author":"kildemoes","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e4i2k\/looking_for_a_distributed_p2p_db\/","text":"Hello everyone, I want to build a distributed p2p db for sharing files (probably ~20 kb and .csv) between researchers. \nSo far I came across the package for the go orbitdb implementation but that is not very well documented  and does not seem ideal (out of the box) for my purpose since it doesn't support files afaik. Furthermore I'll have to add custom data validation, incentives for participation etc. hence some slim package to build on top of would be ideal.\n\nDo you know of any packages that could fit my intent ?\n\nOf course I could build on top of ipfs directly but that seems like a lot of work that might've already been done by someone else.\n\nThanks in advance for any suggestions !","upvote_ratio":1.0,"created_utc":1677586231.0},{"title":"How do i pass multiple params to the gorilla mux router endponit?","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ec2vb\/how_do_i_pass_multiple_params_to_the_gorilla_mux\/","text":"I am getting an error like **\" cannot refer to unexported name controllers.GetProducts\"** when passing more than one param in the below routing endpoint. Am I doing anything wrong below?\n\nfunc main()   \n{      \n r := mux.NewRouter()   \n  r.HandleFunc(\"\/\", controllers.HomeHandler).Methods(\"GET\",\"OPTIONS\")       \n r.HandleFunc(\"\/products\/{expiry\\_date}\/{brand}\/{quality\\_rating}\",   \n   controllers.GetProducts).Methods(\"GET\",\"OPTIONS\")     \n\n http.Handle(\"\/\", r) } \n\nIn the controllers.go file, I have a declaration for GetProducts().\n\nWhat i am doing wrong in the router syntax?","upvote_ratio":0.5,"created_utc":1677599734.0},{"title":"Generate CRUD interface code directly from 20 mysql tables in one go and add it seamlessly to the web service code","author":"goSponge","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dz4z4\/generate_crud_interface_code_directly_from_20\/","text":"With the help of a code generation tool, sponge, download here [https:\/\/github.com\/zhufuyi\/sponge](https:\/\/github.com\/zhufuyi\/sponge)\n\n**(1) Creating a web service**\n\nExecute the command to generate a web service code, generated for use in real projects in production.\n\n```bash\nsponge web http \\\n  --module-name=edusys \\\n  --server-name=edusys \\\n  --project-name=edusys \\\n  --db-dsn=root:123456@(192.168.3.37:3306)\/edusys \\\n  --db-table=user \\\n  --out=.\/edusys\n```\n\n**(2) Batch add CRUD interface**\n\nAdd the CRUD interface code for 20 mysql tables to the web service, execute the command.\n\n```bash\nsponge web handler \\\n  --db-dsn=root:123456@(192.168.3.37:3306)\/school \\\n  --db-table=Fill in the mysql table name, separating multiple table names with commas \\\n  --out=.\/edusys\n```\n\nEach mysql table has a corresponding 7 CRUD-related interfaces, generating a total of 140 interfaces, supporting paging, filtering, sorting and fuzzy queries.\n\n**(3) Start the service**\n\n```bash\n# Generate swagger documentation\nmake docs\n\n# Start the service\nmake run\n```\n\nAfter starting the service you can test the 140 interfaces on swagger.","upvote_ratio":0.86,"created_utc":1677566190.0},{"title":"Need suggestions to contribute open source Golang projects \ud83d\ude4f","author":"__Nafiz","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dulnp\/need_suggestions_to_contribute_open_source_golang\/","text":"Hello Everyone!  \n\n\nI have been learning golang for the last couple of months and have been enjoying it a lot. I have been exploring some projects like [pmgo](https:\/\/github.com\/struCoder\/pmgo\/) and have been building a chat system on my weekends [here](https:\/\/github.com\/fuadnafiz98\/go-websockets). \n\nCan anyone suggest some open-source projects that I can start exploring and possibly contribute to? \n\nOr any suggestions on how to start contributing golang open source projects? \n\nThank you so much!","upvote_ratio":0.86,"created_utc":1677551940.0},{"title":"Authentication for Go+HTMX webapp","author":"lormayna","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e16yy\/authentication_for_gohtmx_webapp\/","text":"Hello everybody, \nI am creating a simple webapp (mainly a CRUD) with Chi + HTMX and I would like to add authentication for users.\nUsing HTMX, I don't need fancy stuff like JWT and cookies should be enough. \nIs there any \"out of the box\" authentication service that can manage login, logout, cookies, password reset, etc.? \nAn external service in Docker would be perfect.","upvote_ratio":0.8,"created_utc":1677574031.0},{"title":"This tutorial will show you how to get started with the database\/sql package. You will create a project, set up a database and connect to it. Then you will implement basic queries \u2013 insert new rows, query rows, use prepared statements, and work with the transactions.","author":"asspirin12","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e7iqq\/this_tutorial_will_show_you_how_to_get_started\/","text":"Read the [blog post](https:\/\/blog.jetbrains.com\/go\/2023\/02\/28\/getting-started-with-the-database-sql-package\/).","upvote_ratio":0.58,"created_utc":1677593704.0},{"title":"HTTPS Reverse Proxy Using Echo","author":"Ok_Concentrate1032","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e6rzb\/https_reverse_proxy_using_echo\/","text":"Hello Gophers, I'm needing some help getting a reverse proxy to a secure host to work using the Echo framework.\n\nI've followed the docs they've provided and have gotten it to work with just a http host but for some reason when I switch the target to an https URL I keep getting the following response..\n\n`404 Not Found: Requested route ('localhost:8080') does not exist.`\n\nAny help would be greatly appreciated.","upvote_ratio":0.67,"created_utc":1677592870.0},{"title":"Ginkgo\/Gomega driven my crazy","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e11w9\/ginkgogomega_driven_my_crazy\/","text":"I develop Go since some months. I have written some tests, and I like Go very much.\n\nNow I am developing an operator with kubebuilder. The code already exist and uses ginkgo\/gomega.\n\nThis somehow drives me crazy.\n\nI need to learn a new domain specific language for assertions which I could write backwards while sleeping if I could use plain Go or testify.\n\nAre there good reasons to use ginkgo\/gomega?","upvote_ratio":0.63,"created_utc":1677573472.0},{"title":"Where's the place to get the best answers about golang-related questions?","author":"Busy-Contact-5133","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e3203\/wheres_the_place_to_get_the_best_answers_about\/","text":"stackoverflow or here or somewhere else? thanks guys","upvote_ratio":0.67,"created_utc":1677581163.0},{"title":"Gentlemen, it is with great pleasure to inform you that I write rate limiter","author":"u9ac7e4358d6","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ekna1\/gentlemen_it_is_with_great_pleasure_to_inform_you\/","text":"Feel free to comment it for improvements or bugs. My golang's journey begins...\n\nHere's the link: https:\/\/github.com\/alexdyukov\/ratelimiter","upvote_ratio":0.24,"created_utc":1677620030.0},{"title":"How use gorilla\/http for requests","author":"DevEvangelista","url":"https:\/\/medium.com\/@AlexandreESouza\/using-gorilla-http-for-request-e590c5dc7083","text":"","upvote_ratio":0.18,"created_utc":1677616308.0},{"title":"websockets","author":"stoopud","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dxbff\/websockets\/","text":"I have been looking for a way to stream real time data from another function through websockets to a client. I don't see how the websockets module takes a parameter when you call it, so I am not sure how to pass a chan to it. The only way I can think to accomplish this is to pass the data to a local client, then send it from the client to the server to rebroadcast to other clients over the internet. I am very new at Go, so I am sure there is an easier way, I just don't know enough to know where to look.","upvote_ratio":0.57,"created_utc":1677560125.0},{"title":"Module on multiple repos?","author":"Membership_Timely","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e0vgh\/module_on_multiple_repos\/","text":"Hi, guys.\n\nI'm currently dealing with issue - I got some modules, that depend on each other (in some hierarchy, of course!) and I ship source code to two customers. Each of them have their own git(lab\/hub) organizations, so I\\`m supposed to push to multiple remote repos (one for customer A, one for customer B).\n\nThe problem is ... there is a **hardcoded** repo information in **go.mod (module name).**\n\nIs there any way how to parametrize it?\n\nCurrently I use vendoring, so I manage the dependencies manually by downloading the deps and pushing them in vendor folder, but one of the customer sees the module name of the another customer's repo, which is ... well problematic, when someone finds out.\n\nAnyone of you dealt with similar issue? Is there any elegant solution for that?   \nThanks for any helpful \/ inspiring answer! :)","upvote_ratio":0.5,"created_utc":1677572769.0},{"title":"Worker pool reading from two channels, one chan that takes priority over the other","author":"zandery23","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11drc17\/worker_pool_reading_from_two_channels_one_chan\/","text":"Trying to think about my current scenario of the following and curious if anyone has any ideas on how to solve or how to re-think  my solution design into something else entirely.\n\nRight now, I have something akin to this:\n\n    type Job interface {\n        doWork()\n    }\n    \n    type MainQueue struct {\n        priorityQueue chan Job\n        regularQueue chan Job\n    }\n    \n    func NewMainQueue() *MainQueue {\n        return MainQueue{\n            priorityQueue: make(chan Job),\n            regularQueue: make(chan Job),\n        }\n    }\n    \n    func main() {\n        mq := NewMainQueue()\n        for x := 0; x < 3; x++ {\n            go worker(mq)\n\nIs some sort of way for the `worker` read from the `MainQueue` object, but prioritize messages sent to the `priorityQueue` chan even there was already messages already sent to the `regularChan`?","upvote_ratio":0.63,"created_utc":1677542993.0},{"title":"Serve without using DefaultServeMux","author":"False-Coconut-1272","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dy2cy\/serve_without_using_defaultservemux\/","text":"I had some \"complaints\" about using the DefaultServeMux which could be vulnerable to manipulation from 3rd party libraries included in the project\n\n1. Is that a real concern?\n2. If so, am I doing it right [here](https:\/\/github.com\/dhis2-sre\/go-api-gateway\/blob\/feature\/non-default-server\/cmd\/serve\/main.go#L30)?","upvote_ratio":1.0,"created_utc":1677562558.0},{"title":"Defer your mutex unlocks","author":"Ribice","url":"https:\/\/www.ribice.ba\/defer-mutex-unlocks\/","text":"","upvote_ratio":0.64,"created_utc":1677523359.0},{"title":"Go or Not to Go!?","author":"sadensmol","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e9pdx\/go_or_not_to_go\/","text":"This is my experience about moving from JVM\/Java\/Kotlin to Go(Golang)  \n[https:\/\/medium.com\/@sadensmol\/from-java-kotlin-to-go-golang-ab9a8f370ea4](https:\/\/medium.com\/@sadensmol\/from-java-kotlin-to-go-golang-ab9a8f370ea4)","upvote_ratio":0.29,"created_utc":1677596340.0},{"title":"Vscode support for go","author":"matimuszynianka","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11e4f5x\/vscode_support_for_go\/","text":"Hello everyone, I used to code in Goland but to be honest, it's too buggy. I want to try vs code, but even if I have installed golang extension, IDE marks some parts of the code as \"wrong\". \n\nHow to get rid of that?\n\n[https:\/\/imgur.com\/a\/rs8ucPM](https:\/\/imgur.com\/a\/rs8ucPM)","upvote_ratio":0.36,"created_utc":1677585972.0},{"title":"Open-source Kubernetes traffic visualizer - Otterize network mapper","author":"TomerGreenwald","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dbdnp\/opensource_kubernetes_traffic_visualizer_otterize\/","text":"Hi everyone!\n\nA few weeks ago, I shared an [open-source tool](https:\/\/github.com\/otterize\/network-mapper) my team built that analyzes Kubernetes cluster traffic and creates a list of service-to-service communication with zero configuration.\n\nWe received some great feedback from the community regarding our tool, and one of the most commonly requested features was visualization. So we embedded this functionality into the tool, and now you can easily [map and visualize your cluster with a single CLI command](https:\/\/github.com\/otterize\/network-mapper).\n\nHopefully, this will help you bootstrap network policies, access control policies, or just get a better understanding of who\u2019s talking to whom. Let us know what you think!","upvote_ratio":1.0,"created_utc":1677503077.0},{"title":"Web Scraper","author":"Little-Peanut-765","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dhr1e\/web_scraper\/","text":"I built a web scraper that extracts a table from any website and then stores it in a CSV file. I used a library called goquery\n\n[Github](https:\/\/github.com\/amr8644\/Automation-in-Golang\/tree\/master\/Web-Scraper)","upvote_ratio":0.75,"created_utc":1677519671.0},{"title":"Any IDE that could support golang templates format and indentation?","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dsgp1\/any_ide_that_could_support_golang_templates\/","text":"even with plugin","upvote_ratio":0.46,"created_utc":1677546034.0},{"title":"roc-go: Go bindings for Roc Toolkit (real-time audio streaming)","author":"gavv42","url":"https:\/\/github.com\/roc-streaming\/roc-go","text":"","upvote_ratio":0.86,"created_utc":1677511872.0},{"title":"From Go on EC2 to Fly.io: +fun, \u2212$9\/mo","author":"earthboundkid","url":"https:\/\/benhoyt.com\/writings\/flyio\/","text":"","upvote_ratio":0.86,"created_utc":1677468309.0},{"title":"How does Go perform in comparison to .NET, Java or PHP in terms of web dev?","author":"JambiCox","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d66aw\/how_does_go_perform_in_comparison_to_net_java_or\/","text":"Let's say that we build the same web backend in those languages, a couple of normal real world REST API's. How performant is Go compared to those languages? It is known of course that is way faster than Node.js or Python for example, but I'm interested in those other big backend languages.","upvote_ratio":0.72,"created_utc":1677484434.0},{"title":"How to use prepared queries wisely - postgres & pgx & squirell","author":"LetterMysterious","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11de107\/how_to_use_prepared_queries_wisely_postgres_pgx\/","text":"Hi there!   \n\n\nI'm wondering how to use prepared queries properly in golang code. Problem is that these queries are kind of complicated. To prepare those queries we have to pass all params, even if these are placeholders to build whole query, use `.Prepare(...)` method and then reuse this prepared query but with proper params - which is most problematic thing.  \n\n\nFunction that build query to be prepared looks like this:\n\n    func (db DB) buildQueryToBePrepared(param1 int, param2 string, param3 int, ....) (string, []interface, error)\n    ...\n    sql, _, err := db.buildQueryToBePrepared(...) \/\/ we don't care about params for now\n    prepared, err := db.client.Prepare(sql)\n    ...\n    prepared(ctx, 1, \"valid param\", 2, \"another param that has to be passed\", \"another one\", \"etc\") \/\/ now we want to pass valid params\n\nProblem with that approach is that there's lot of things going on inside `buildQueryToBePrepared` which results in creating query with lets say 20 params, and \"places\" for our params can be mixed.  \n\n\nInstead of returning `[]interface` as params I thought about storing them in some structure (because some of them are valid) and modifying them whenever `prepared` is called. But it's tricky because I only have access to `[]interface` and I would need to somehow track places for params that I want to modify which seems ugly.  \n\n\nMaybe some of you encountered problem like that before and came up with smart idea.","upvote_ratio":0.63,"created_utc":1677510381.0},{"title":"rmx (A cross-platform replacement for the UNIX rm command.)","author":"Time_Wedding1541","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dda2h\/rmx_a_crossplatform_replacement_for_the_unix_rm\/","text":" Had an idea sometime ago and I implemented a replicate of the UNIX `rm` command just because I'm a windows person. [https:\/\/github.com\/braswelljr\/rmx](https:\/\/t.co\/Lrq7psWGo4) built with go. [\\#opensource](https:\/\/twitter.com\/hashtag\/opensource?src=hashtag_click) [\\#golang](https:\/\/twitter.com\/hashtag\/golang?src=hashtag_click)","upvote_ratio":0.99,"created_utc":1677508441.0},{"title":"Go with the Gin Framework","author":"amalinovic","url":"https:\/\/earthly.dev\/blog\/golang-gin-framework\/","text":"","upvote_ratio":0.67,"created_utc":1677508105.0},{"title":"First time setting up go issue...","author":"blockchain_dev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dhhri\/first_time_setting_up_go_issue\/","text":"Hey guys! Just started to learn go. I have everything installed on my computer and ready to go. Im using vscode and I have this simple \"program\" with the filename of \"hellogo.go\":\n\n&#x200B;\n\n    package main\n    \n    import (\n    \t\"fmt\"\n    )\n    \n    var pl = fmt.Println\n    \n    func main() {\n    \tpl(\"Hello, Go!\")\n    }\n\nWhen I type \"go run hellogo.go\" this is what I see in the terminal: \n\n    C:\\Users\\jsquardo\\Documents\\Projects\\Practice\\GOlang>go run hellogo.go\n    \n    C:\\Users\\jsquardo\\Documents\\Projects\\Practice\\GOlang>\n\nDoes anyone know why this is happening? I also tried using the code runner in vscode and same thing.","upvote_ratio":0.6,"created_utc":1677519047.0},{"title":"I wish variables could be individually scoped to an if block.","author":"ShotgunPayDay","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dm0ej\/i_wish_variables_could_be_individually_scoped_to\/","text":"I find that I often need to get a usable variable out of a function, but then other returns I want only to exist for the if block.  It's something I wish that could be done easily, since I feel like my programs can end up with a polluted namespace where I'm redeclaring err or other variables from earlier in code.\n\nAre there any proposals for something like this or is this a terrible idea?\n\nExample if and scoped Syntax:\n\n    package main\n    \n    import (\n    \t\"errors\"\n    \t\"fmt\"\n    )\n    \n    \/\/Nothing special here\n    func combine_numbers(x, y int) (int, int, error) {\n    \tadd := x + y\n    \tsub := x - y\n    \tif add > 0 {\n    \t\treturn add, sub, nil\n    \t}\n    \treturn 0, 0, errors.New(\"Number total was not positive.\")\n    }\n    \n    \/\/ underscore variables scoped to if block\n    func main() {\n    \t\/\/ _sub and _err only exist in if.\n    \t\/\/ if can be on separate line if combine_numbers(13, 12); has a semicolon at the end.\n    \tadd, _sub, _err := combine_numbers(13, 12) if _err != nil {\n    \t\tpanic(_err)\n    \t} else if _sub == 1 {\n    \t\tpanic(\"Subtraction is 1\")\n    \t}\n    \t\/\/ _sub and _err doesn't exist outside of if blocks, fmt.Println(_sub) would throw an error.\n    \tfmt.Println(add)\n    }","upvote_ratio":0.33,"created_utc":1677529912.0},{"title":"How to deal with long select query in go?","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d70gv\/how_to_deal_with_long_select_query_in_go\/","text":"I have query for Union All 3 long select queries and my backend is SQL server so sqlc doesn't support. I am using sqlx. can I keep the query as constant variable as pure sql query or write inline go statement. How I can deal with this long select query with unions in GO? All go tutorial shows simple select query and doesn't show the real life long and complex queries.","upvote_ratio":0.75,"created_utc":1677487632.0},{"title":"Go Concurrency Primitives in Swift","author":"gh123man","url":"https:\/\/github.com\/gh123man\/Swigo","text":"","upvote_ratio":0.57,"created_utc":1677514275.0},{"title":"Can struct tags be set programmatically?","author":"derekvj","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ddlan\/can_struct_tags_be_set_programmatically\/","text":"Is it possible to set custom struct tags through reflection?  Or is this a \"compile time\" only feature?\n\nI have a set of structs that are in generated code (generated from c++).  We want to use a validator on them, but that requires \\`valid: ...\\` tags to define the validation.  Is it possible to add these tags programmatically?","upvote_ratio":0.56,"created_utc":1677509275.0},{"title":"How to set a dynamic height for bubbletea list?","author":"reccoon","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ddb0k\/how_to_set_a_dynamic_height_for_bubbletea_list\/","text":"I'm using the TUI framework bubbletea for the first time to display a simple list of items fetched from a file. The number of items can be any number. To make the list, I'm using bubble\/list component.\n\nThe TUI is working, but I can only set a fixed height and whatever items doesn't fit in the TUI, then it is paginated. I'm using this code to set the size: \n\n    ...\n    m.List.SetSize(....)\n    ...\n\nI would like to display all items in the TUI, so the height of the TUI should be dynamic. How do I do that?","upvote_ratio":1.0,"created_utc":1677508516.0},{"title":"What are some fun hobby projects that I can build with Golang?","author":"bronzesmurf150","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cx06p\/what_are_some_fun_hobby_projects_that_i_can_build\/","text":"As the title mentions above, I\u2019m trying to mess around and have fun :)","upvote_ratio":0.7,"created_utc":1677455810.0},{"title":"Most idiomatic way to represent returning an optional value and an error?","author":"DrEggman55","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11davry\/most_idiomatic_way_to_represent_returning_an\/","text":"In Go, we already have established patterns for handling returning a value and error or an optional value. We can represent Rust Result<T, Error> as:\n\n    func getUser(id int) (User, error) { ... }\n\nWe already have a pattern for optional returns as well. This is built into the language for things like maps.\n\n    func GetString(key string) (string, bool) { ... }\n    \n    sampleMap := make(map[string]string)\n    val, ok := sampleMap[\"hello\"]\n\nBut it doesn't seem like Go has a great way of dealing with something like this from Rust: Result<Option<User>, Error>. Basically, modeling a function that may or may not return a value but could also return an error.  \n\n\nThe method I've seen used quite a bit, and what I am mostly using, is sentinel errors, but I don't really care for this approach as it treats errors as a signaling mechanism for things that aren't really errors.\n\n    var ErrRecordNotFound = errors.New(\"record not found\")\n    \n    func getUser(id int) (User, error) {\n        \/\/ if query to DB doesn't return any rows return ErrRecordNotFound\n        \/\/ otherwise return record and nil error\n    }\n\nIt also means the caller now may have to match errors against known sentinel errors to determine how to handle them.\n\nThe other approach I've tried is expanding the return values to include a boolean to indicate if the record was found.\n\n    func getUser(id int) (User, bool, error) {\n        \/\/ if query to DB doesn't return any rows return ErrRecordNotFound\n        \/\/ otherwise return record and nil error\n    }\n\nThis makes the API a bit more cumbersome, but now the caller can check to ensure there were no errors (say taking to a database) and a return value indicating whether the record was found or not.\n\nI've also seen pointers used, and if the record wasn't found, the pointer is just nil, but I'm not a big fan of that approach as it takes me back to the Java days before Java 8 added Optional<T>.\n\nWhat approaches are people recommending\/using? Am I putting too much thought into this, and I should just continue using Sentinel errors since it works?","upvote_ratio":0.44,"created_utc":1677501532.0},{"title":"vscode: Detect common imports","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11da92h\/vscode_detect_common_imports\/","text":"I have several files which import corev1 as:\n\n```\n\tcorev1 \"k8s.io\/api\/core\/v1\"\n```\n\nI use a symbol of corev1 in a new file, and vscode underlines _corev1_ with red color.\n\nThat's fine.\n\nNow I press ctrl-. to add the missing import automatically.\n\nBut this does not work.\n\nI see:\n\n> No code actions available\n\nWouldn't it be great if this boring task gets automated?\n\nAs I said, I used the import already in several files of this project. So the IDE\/gopls could easily guess what I mean with `corev1`.\n\nDo you think it makes sense to open a feature request?\n\nWhere should this feature request be opened: vscode-go or gopls?","upvote_ratio":0.5,"created_utc":1677499498.0},{"title":"Web Development em Go - Parte 03 - http.FileServer #golang #webdevelopment (Language: PT-BR)","author":"robsongomes84","url":"https:\/\/youtube.com\/watch?v=YgoEaNQEbYE&feature=share","text":"","upvote_ratio":0.33,"created_utc":1677498377.0},{"title":"should I learn DS&A with go?","author":"Aesop7K","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d9uw3\/should_i_learn_dsa_with_go\/","text":"Can I use golang to learn data structure and algorithms?\nOr would it be better to learn with the tradicional language like C or Java\n\nI've been working with Python and .Net for 5 years...\nBut as I did economics I don't have knowledge in such areas..\n\nTks guys","upvote_ratio":0.5,"created_utc":1677498143.0},{"title":"Why Go?","author":"tookmeonehour","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11c9wv1\/why_go\/","text":"I've been working as a software developer mostly in backend for a little more than 2 years now with Java.\nI'm curious about other job opportunities and I see a decente amount of companies requiring Golang for the backend.\n\nWhy?\n\nHow does Go win against Java that has such a strong community, so many features and frameworks behind?\nWhy I would I choose Go to build a RESTful api when I can fairly easily do it in Java as well? What do I get by making that choice?\n\nThis can be applied in general, in fact I really struggle, but like a lot, understanding when to choose a language\/framework for a project.\n\nSay I would like to to build a web application, why I would choose Go over Java over .NET for the backend and why React over Angular over Vue.js for the frontend?\nWhy not even all the stack in JavaScript? What would I gain if I choose Go in the backend?\n\nCan't really see any light in these choices, at all.","upvote_ratio":0.78,"created_utc":1677403051.0},{"title":"How to deploy AWS lambda function using terraform with golang?","author":"rksoni31895","url":"https:\/\/medium.com\/@rajkumarksoni031\/how-to-deploy-aws-lambda-function-using-terraform-with-golang-c2523a59e5ee","text":"","upvote_ratio":0.2,"created_utc":1677515360.0},{"title":"Why is godoc such a resources hog?","author":"dunrix","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cx1bo\/why_is_godoc_such_a_resources_hog\/","text":"I mean, when I do run `godoc` on local machine (an average laptop), its proces takes insane amount of CPUs time and about 1 GiB of memory increasingly. Memory stabilizes on ~1.3 GiB and any request to server jumps CPU usage up by ~40%.\n\nIs it just a poor (naive) implementation behind or are there some objective reasons? It just indexes Go sources documentation ~5600 files (local, in \/usr\/lib\/go\/src in my case). Seems there is also no some fancy backend at work. Even some demanding games are much lighter on resources then godoc.\n\nI'm curious if anybody already investigated this issue and what is the conclusion?","upvote_ratio":0.7,"created_utc":1677455893.0},{"title":"GoLand SDK error","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11dh3k8\/goland_sdk_error\/","text":"I can not install SDK  \nI have downloaded it but it refuse to install  \n\n\n sdk corrupted","upvote_ratio":0.14,"created_utc":1677518089.0},{"title":"gRPC GUI client","author":"AntonyB77","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cfvx8\/grpc_gui_client\/","text":"I made my own GUI client [Warthog](https:\/\/github.com\/Forest33\/warthog), what can it do:\n\n- Input generation for all types\n- Input generation for nested and looped messages\n- Automatic parsing of proto definitions to render services and input messages\n- Execute unary, server streaming, client streaming and bidirectional requests\n- Authentication: Basic, Bearer Token, JWT, GCE\n- Kubernetes port forwarding\n- Authorization in Google Cloud services\n\nAnd much more...","upvote_ratio":0.96,"created_utc":1677414589.0},{"title":"How is the golang market in 2023?","author":"Less_Camel_7252","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cg65i\/how_is_the_golang_market_in_2023\/","text":"How is the market for mid and junior developers ? I only see senior jobs.","upvote_ratio":0.78,"created_utc":1677415409.0},{"title":"I created an automated code review CLI in go","author":"Ok_Restaurant_5719","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cjlhl\/i_created_an_automated_code_review_cli_in_go\/","text":"Hello there, I created [Review GPT](https:\/\/github.com\/vibovenkat123\/review-gpt), a CLI for automated code reviews. It uses GPT3 to say what you should improve in the code (a git diff). I am planning to make a Github bot soon, but for now I made a [Vscode Plugin](https:\/\/github.com\/vibovenkat123\/rgpt-vscode) and a [Neovim Plugin](https:\/\/github.com\/vibovenkat123\/rgpt.nvim) (maybe Jetbrains soon). It is built in Go. I would like to know your opinion on this (what I could improve, etc.) because I am new to go.","upvote_ratio":0.85,"created_utc":1677424484.0},{"title":"toolman.org\/terminal\/decor","author":"dromedary512","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cxqcp\/toolmanorgterminaldecor\/","text":"Every once in a while I'll have an itch to scratch while working on a project and will take a slight detour to solve my problem.  Here one I've been working on for the past week or so.\n\n[toolman.org\/terminal\/decor](https:\/\/github.com\/tep\/terminal-decor)\n\nHere's a blurb from the docs:\n\n>Package decor provides facilities for decorating a string of characters with display attributes for the current (or specified) terminal type. This is done using a notation inspired by (but slightly different from) Zsh prompt formatting. Supported attributes are **bold**, *italic*, and\/or underlined characters as well as 256-color support for foreground and background colors.\n\n&#x200B;","upvote_ratio":0.63,"created_utc":1677457688.0},{"title":"Learning golang so have bunch of questions for \"problems\" because these are not intuitive to me","author":"AlexaPomata","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d788d\/learning_golang_so_have_bunch_of_questions_for\/","text":"Hi,\n\nI started learning golang. So here are first questions I have:\n\n* Why we have two words when defining struct? Type and Struct? For example: type Bee struct { property int32 }. For me type Bee { property int32 } would be enough.\n* Why struct needs to have properties uppercased to be serialized\/deserialized in JSON? We need to put next to it annotations anyway. So why to bother in two places? If compiler is so strict about not used values, then it should be also in case of having property lowercased. Otherwise our struct won't deserialize, at what is worse, won't fail, but put there zero value silently.\n* Can someone explain me the burden with file names? I have main.go where I defined package name and main method, but the compiled binary file takes a name from module name defined in go.mod. Are the filenames, where the code is written transparent to the compiler? Has someone definitive guide why such decisions?\n* Why slice in arrays are like \\[low:high\\] but not \\[low:lenght\\]. Why \\[:\\] returns copy but \\[index:\\] not (it is view to the same memory).","upvote_ratio":0.25,"created_utc":1677488473.0},{"title":"Go taking too much time building with imports","author":"NotABot009","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cv77u\/go_taking_too_much_time_building_with_imports\/","text":"I wanted to try the [GTK bindings for Go](https:\/\/github.com\/gotk3\/gotk3), so I did all the steps for importing an external module:  \nI copied the Sample Use script of the repo and executed this commands: \n\n```   \ngo mod init \"test\/gtk\"  \n\ngo mod tidy  \n\ngo get \"https:\/\/github.com\/gotk3\/gotk3\"  \n```   \n\nBut when I execute `go build`, it just gets stuck importing the GTK module\n\nIs this normal or am I doing something wrong?\n\nPD: I tried the [Getting started tutorial](https:\/\/go.dev\/doc\/tutorial\/getting-started) and it worked","upvote_ratio":0.64,"created_utc":1677451438.0},{"title":"Advice needed!","author":"Intrepid-Work-4657","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cuv1z\/advice_needed\/","text":"Hello guys, im started learning frontend half year ago. Html css js and ts. I decided that i should learn algorithms and data structure so i tried to learn it and i actually like it. Its more fun to me to learn DSA instead of doing some boring CSS HTML JS stuff for frontend so i guess ill be doing Backend in future.\nMy question is: should i learn golang in depth as first backend language? Is it good choice? Enough to be really good at programming?","upvote_ratio":0.55,"created_utc":1677450639.0},{"title":"Best books to learn Go in 2023 reviewed","author":"flimzy3141","url":"https:\/\/youtu.be\/0Um_kvUzRro","text":"","upvote_ratio":0.41,"created_utc":1677492177.0},{"title":"Switching Career!","author":"NoLion5101","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d5rio\/switching_career\/","text":"Hello - I have been working in IT risk and compliance from past 5 years and have been conducting security audits\/IT audits\/risk assessments which is more of identifying\/analyzing\/documenting of security risks and I have been doing fine . However suddenly my organization wants me to learn Go programming and move into api development\/microservice dev\/automation projects in Go.\n\nMy question : Is it advisable to switch direction of career at this point of time ? Given that everything is being automated and we also have an era of AI\/ML\/Chatgpt and what not taking over - Should I start learning coding and focus more on development side of things ?","upvote_ratio":0.4,"created_utc":1677482881.0},{"title":"channels","author":"stoopud","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d1lkz\/channels\/","text":"Sorry for the noob question. But I am not sure I understand channels. This example https:\/\/go.dev\/tour\/concurrency\/2 shows a channel being passed as a parameter to the sum function. Could you just declare it as a package variable and then Sum can access it? Also, do you need to pass a channel in a function call to a function on another file, even if it is in the same package?","upvote_ratio":0.43,"created_utc":1677468839.0},{"title":"I want to share two CLI utilities: cpc (copy path to clipboard) and ctc (copy text to clipboard)","author":"jabbalaci","url":"https:\/\/github.com\/jabbalaci\/go-cpc-ctc","text":"","upvote_ratio":0.77,"created_utc":1677420753.0},{"title":"Blocking Go routine","author":"principiino","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d124i\/blocking_go_routine\/","text":"I am still new to go routine and its design patterns. I have an issue with the code below. It blocks for some reasons I don't know. I feel this shouldn't be happening after it reaches the return statement. I expect that the lock should be \"opened\" and wait group also be reduced. In this case, it blocks when there's an error. I'll really appreciate it if someone can kindly explain why it is not working as expected.\n\n    \twg := &sync.WaitGroup{}\n    \tmu := &sync.Mutex{}\n            var merchants []string\n    \terrChan := make(chan error)\n    \n    \twg.Add(len(items))\n    \n    \tfor _, v := range items {\n    \t\tgo func(v cart.CartItems) {\n    \t\t\tdefer wg.Done()\n    \n    \t\t\tmu.Lock()\n    \t\t\tdefer mu.Unlock()\n    \n    \t\t\torderTotal = (v.Price * v.ProductQuantity) + orderTotal\n    \n    \t\t\tpdt, pdtErr := p.productRepo.GetProduct(ctx, products.Product{\n    \t\t\t\tId: v.Id,\n    \t\t\t})\n    \n    \t\t\tif pdtErr != nil {\n    \t\n    \t\t\t\terrChan <- errors.New(pdtErr.Message)\n    \t\t\t\treturn\n    \t\t\t}\n    \n    \t\t\tmerchants = append(merchants, pdt.Merchant.String())\n    \t\t}(v)\n    \n    \t}\n    \n    \twg.Wait()\n    \tclose(errChan)\n    \n    \tfmt.Println(\"errChan\", <-errChan)","upvote_ratio":0.25,"created_utc":1677467245.0},{"title":"Making varchar default to empty string vs. NULL","author":"andrewfromx","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11chu1i\/making_varchar_default_to_empty_string_vs_null\/","text":"I know this isn\u2019t proper RDB design but what would be the problem with making 100% of my database varchars default to \u201c\u201d and never have to deal with a null string in golang? I know the go sql library has a special NullString struct for this but just wondering\u2026 can I just avoid it? So what if later data scientist queries to my tables have to say where name = \u201c\u201d vs null?","upvote_ratio":0.78,"created_utc":1677420026.0},{"title":"ecdh gets error","author":"GoLover3","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11d4f50\/ecdh_gets_error\/","text":"I import ecdh:\n\nimport(\n\necdh \"github.com\/wsddn\/go-ecdh\")\n\n    func import_pub(c_pub string) crypto.PublicKey {\n    \n    \/\/ c_pub be like: xcoord;ycoordvar\n    err_pub crypto.PublicKey\n    var return_pub *ecdh.EllipticPublicKeyvar c_pub_elems []string = strings.Split(c_pub, \";\")if len(c_pub_elems) < 2 {\u00a0 \u00a0 \u00a0 \u00a0 fmt.Println(\"Invalid public key format\")return err_pub\u00a0 \u00a0 }x := new(big.Int)y := new(big.Int)\u00a0 \u00a0 x.SetString(c_pub_elems[0], 10)\u00a0 \u00a0 y.SetString(c_pub_elems[1], 10)return_pub = &ecdh.elliptic.EllipticPublicKey{\u00a0 \u00a0 \u00a0 \u00a0 Curve: elliptic.P384(),\u00a0 \u00a0 \u00a0 \u00a0 X: \u00a0 \u00a0 x,\u00a0 \u00a0 \u00a0 \u00a0 Y: \u00a0 \u00a0 y,\u00a0 \u00a0 }return return_pub}\n    \n\n&#x200B;\n\nI get an error \" expected ';', found '.' \" in the line  var return\\_pub \\*ecdh.EllipticPublicKey","upvote_ratio":0.14,"created_utc":1677477933.0},{"title":"Casting string to array of runes question","author":"Forumpy","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cig0a\/casting_string_to_array_of_runes_question\/","text":"I have the following program in which I want to check if the string has the character \"\u266d\":\n```\nstr := \"B\u266d\"\nif len(str) > index && []rune(str)[index] == '\u266d'{\n    ...\n}\n```\n\nWhat I don't understand is why we need to do `[]rune(str)[index]`. Doing `rune(str[index])` produces a different result. \n\nWhy is it necessary to convert the whole string to an array of `rune` first? Any general info on how Go handles runes and unicode points would be great too.","upvote_ratio":0.78,"created_utc":1677421510.0},{"title":"Golang books!","author":"NoLion5101","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cyf1f\/golang_books\/","text":"Which golang books to refer starting from beginner to advanced ?","upvote_ratio":0.43,"created_utc":1677459605.0},{"title":"Not able to understand output of this piece of code","author":"International_Mix331","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cnxjy\/not_able_to_understand_output_of_this_piece_of\/","text":"Can someone help me understand flow of this code. I am not able to understand why this code produces below output.\n\n    package main\n    \n    import (\n    \t\"fmt\"\n    )\n    \n    func access(ch chan int) {\n    \tfmt.Println(\"start accessing channel\\n\")\n    \n    \tfor i := range ch {\n    \t\tfmt.Println(i)\n    \t}\n    }\n    \n    func main() {\n    \tch := make(chan int)\n    \tdefer close(ch)\n    \n    \tgo access(ch)\n    \n    \tfor i := 0; i < 9; i++ {\n    \t\tch <- i\n    \t\tfmt.Println(\"Filled\")\n    \t}\n    \n    }\n    \n    \n    \n    \n    Output:\n    \n    start accessing channel\n    \n    0\n    Filled\n    Filled\n    1\n    2\n    Filled\n    Filled\n    3\n    4\n    Filled\n    Filled\n    5\n    6\n    Filled\n    Filled\n    7\n    8\n    Filled ","upvote_ratio":0.5,"created_utc":1677434309.0},{"title":"Reducing \u2018if err != nil\u2019","author":"iolect","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ct9ss\/reducing_if_err_nil\/","text":"Reading through \u2018Learning Go,\u2019 really enjoying picking up golang. Had a thought about the idiom of error-checking with \n\u2018if err != nil {}\u2019\n\nWhy not use a goroutine from main to ingest err through an <-err channel? I realize the comma ok idiom is basically Go law but it does lead to a lot of repetition and finicky handling with \u2018if.\u2019\n\nIf instead of returning an err at the end of every function you could push non-nils into err<-, you could have a nice, singular error-handling function.","upvote_ratio":0.45,"created_utc":1677446913.0},{"title":"how to test snippets of code individually","author":"stoopud","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ct7kt\/how_to_test_snippets_of_code_individually\/","text":"I come from the Python world, where you have modules and you can code a module and test it with dummy variables before you incorporate it with your code. I am very new to Go and the power and simplicity is amazing. I am just frustrated with my inability to break apart my code and run just one file. I have a hacky way of doing it, by having 2 workspaces and the just copy pasting my code into my test workspace, then when I get it to work, the I copy paste it into a file in my main package. Is there a better way to break the code up in chunks and test one chunk at a time?","upvote_ratio":0.38,"created_utc":1677446767.0},{"title":"A lightweight utility to dump AWS Farget's ECS containers environment variables locally","author":"dine-ssh","url":"https:\/\/github.com\/dineshgowda24\/ecsnv","text":"","upvote_ratio":0.67,"created_utc":1677428002.0},{"title":"Inyecci\u00f3n de dependencia en Go usando Fx parte 2","author":"emanuelpeg","url":"https:\/\/emanuelpeg.blogspot.com\/2023\/02\/inyeccion-de-dependencia-en-go-usando.html#.Y_w7R3It3TU.reddit","text":"","upvote_ratio":0.13,"created_utc":1677474709.0},{"title":"Define channel size in type","author":"lukasbash","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ck70b\/define_channel_size_in_type\/","text":"As the title says, is it possible to define the size of a channel when declaring e.g. field types of a struct or parameter types? I would like to allow only a certain amount of elements inside a channel, but do not want to create a new channel with the correct size, overriding the one passed.\nAny chance to achieve this?","upvote_ratio":0.5,"created_utc":1677426008.0},{"title":"Golang: convert 2 slices into an array map or only a map?","author":"Little-Peanut-765","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cjogi\/golang_convert_2_slices_into_an_array_map_or_only\/","text":"Assuming both arrays are strings and the body array is longer. How can I combine these 2 into an array of maps?\n\n            var headers [5]string\n    \tvar row [20]string\n    \tdata := make(map[string]string)\n    \t\n    \tfor i := 0; i < len(headers); i++ {\n    \t\tdata[headers[i]] = row[i]\t\n    \t}","upvote_ratio":0.4,"created_utc":1677424695.0},{"title":"Unlocking the Power of Zero Knowledge Proofs with Gnark and Go","author":"arriqaaq","url":"https:\/\/arriqaaq.substack.com\/p\/unlocking-the-power-of-zero-knowledge","text":"","upvote_ratio":0.93,"created_utc":1677339323.0},{"title":"Un Ejemplo de polimorfismo en golang","author":"emanuelpeg","url":"https:\/\/emanuelpeg.blogspot.com\/2023\/02\/un-ejemplo-de-polimorfismo-en-golang.html#.Y_wxkpEu-Iw.reddit","text":"","upvote_ratio":0.18,"created_utc":1677472173.0},{"title":"What is the alternative of below test function for Gomega?","author":"nowaysingh","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ci7to\/what_is_the_alternative_of_below_test_function\/","text":">if err := cmd.Execute(); err != nil {\n\nThis function I want to replace with the Gomega style. Can you provide me the alternative way.Below is my following test-\n\n    Context(\"newVersionCmd\", func() {\n        It(\"Test the version\", func() { \n            cmd := c.newVersionCmd() \n            if err := cmd.Execute(); err != nil { \n                Expect(err).To(BeTrue()) \n                Expect(c.version).To(Equal()) \n        } \n        Expect(err).Error() })\n\n&#x200B;","upvote_ratio":0.67,"created_utc":1677420952.0},{"title":"Context Inheritance | Correct Frame of Mind?","author":"recovery_anchor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11c0vrh\/context_inheritance_correct_frame_of_mind\/","text":"Hello!\n\nI have been dabbling in golang and I have came across an issue I think context can resolve, BUT I want to make sure I am doing this the right way.\n\nSO, here is my current status. I am building an API for my Chick-fil-A and other Chick-fil-As. This API will help facilitate some internal tools our Chick-fil-A uses which I feel could be useful for other locations.\n\nWell, as of now, all my endpoints are creating and destroying database connections. I am using mongo db, but this may change as the project progresses, idk. And I want to build in such a way that databases can be swapped in and out. The only true change would be the database functionality within the endpoints themselves.\n\nSo here is my vision, to create a context at the start of the program and store that database connection in the context.\n\nHere is where we go from actual implementation to theory. Everything up to this point is actually implemented.\n\nAlong the way, this context will get piped through my middleware. For example, one middleware auths the user and pulls them into the context.\n\nAnother piece of middleware gets the current selected location. (each account can have multiple locations to account for some owners running more than one store).\n\nSo, in theory, I can pipe my original context down into my middleware, pick up other values like the current user and current location, and ultimately make all of this available in the actual endpoint.\n\nAm I missing something or is this the idea behind context?\n\nI dont want to pipe the database connection itself because it will cause a lot more parameters in my functions and everytime I want to make a change, ill have to change those params.\n\nCan anyone challenge \/ affirm my thoughts on this? I don't want to waste time dabbling around into a black hole if I can avoid it.","upvote_ratio":0.74,"created_utc":1677372361.0},{"title":"Iterate over 2 arrays","author":"Little-Peanut-765","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cotpl\/iterate_over_2_arrays\/","text":"I have a problem. I need to iterate over two separate arrays of type \\[\\]string. I have this code:\n\n    firstArray := []string{\"host1\", \"host2\"}\n    \tsecondArray := []string{\"something\", \"something2\", \"something3\",\"something4\",\"something5\",\"something6\"}\n    \n    \tfor _, host := range firstArray {\n    \t\tfor _, thing := range secondArray {\n    \t\t\tfmt.Printf(\"%s, %s\\n\", host, thing)\n    \t\t}\n    \t}\n\nI have this output:\n\n    \/\/ Output:\n    \/\/ host1, something\n    \/\/ host1, something2\n    \/\/ host1, something3\n    \/\/ host2, something\n    \/\/ host2, something2\n    \/\/ host2, something3\n\nBut I want to get this type of output. Is there a way to achieve it?\n\n    \/\/ Output:\n    \/\/ host1, something\n    \/\/ host2, something2\n    \/\/ host1, something3\n    \/\/ host2, something4\n    \/\/ host1, something5\n    \n\nEDIT:\n\nSolved","upvote_ratio":0.3,"created_utc":1677436412.0},{"title":"REST Web course\/book for Go","author":"JambiCox","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bpy53\/rest_web_coursebook_for_go\/","text":"Hi there. I am a fullstack web engineer, and I've taken a big interest in Go. So far just learned the language in general from the docs, and now I'd like to learn how to build RESTful API's with Go. Do you guys recommend a specific course or book (or any other resource) that teaches how to build RESTful API's with go, with the best practices in Go? I don't want a resource that teaches MVC or templating engines or stuff like that, I am only interested in learning building RESTful APi's, because I always use a javascript framework for my frontend, that consumes an API. And I don't want the resource to be targeted to beginners, so I don't really want to waste time with a guy that teaches me what a request is or what a port is, what are query params etc. I want a resource that is straight to the point, teaching me how to build api's in go and how to do it right. Thank you!","upvote_ratio":0.88,"created_utc":1677344865.0},{"title":"Easily Integrate Logging into your Golang Application with go-logstash","author":"KaranJagtiani","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cbmql\/easily_integrate_logging_into_your_golang\/","text":"Hey r\/golang,\n\nAre you tired of scattered and unorganized logs in your Golang applications? Integrate your application with Logstash using go-logstash and centralize your logs for easy analysis!\n\ngo-logstash is a Golang package that allows you to easily push logging events to Logstash through TCP and UDP protocols. It supports both JSON and string formats and provides customizable options for configuring the Logstash connection. With go-logstash, you can easily integrate your Golang application with Logstash to centralize your logs and make them easier to analyze.\n\nGitHub: [https:\/\/github.com\/KaranJagtiani\/go-logstash](https:\/\/github.com\/KaranJagtiani\/go-logstash)\n\nContributions to go-logstash are welcome! If you find a bug or want to add a new feature, please create an issue or submit a pull request on GitHub.","upvote_ratio":0.5,"created_utc":1677406141.0},{"title":"Current Learning Sources - Yeah I Know, Maybe This One is Slightly Different","author":"space_wiener","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11c7xk8\/current_learning_sources_yeah_i_know_maybe_this\/","text":"I started learning Go via Todd McLeod a couple years ago but work got in the way and learning went on the back burner. I really liked Go and want to jump back into learning again and of course had a couple questions. \n\nFirst some background. I\u2019m pretty decent with python, my primary language. Used it many times for automating stuff at work and have build a few web apps and a personal blog with it. Decent with Linux, maybe intermediate with bash scripting. Like everyone these days I am interested in cybersecurity (have a couple certs) and have spent many hours on tryhackme - well into the top 1% rating there. \n\nI started searching here for learning resources and came across someone using Head First Go and further searching Blackhat Go. \n\nWith all of that said (sorry for the length) here is where I am with questions. \n\n1. Is Todd McLeod still relevant? I\u2019m assuming his course is probably 5 years old.  I know with python the absolute basics are the same but a lot has changed in 5 years \n2. With my background Blackhat Go sounds really interesting but I can\u2019t find a lot of reviews on this thing. Is this a decent learning resource? I like this too because it\u2019s an interesting topic too which might hold my interest more\n3. Any other suggestions appreciated","upvote_ratio":0.6,"created_utc":1677395153.0},{"title":"JsonRPC2 over WebSocket","author":"nmorenor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bu9dg\/jsonrpc2_over_websocket\/","text":"Hey, I have just published a small tool I've been working on, the idea is to have communication over two or more clients via WebSocket with JsonRpc. The repository contains a chat like example on the command line. Any feedback will be appreciated, been learning go little by little.\n\n[https:\/\/github.com\/nmorenor\/chezmoi-net](https:\/\/github.com\/nmorenor\/chezmoi-net)\n\nCheers.","upvote_ratio":0.9,"created_utc":1677355506.0},{"title":"Debugging go code","author":"NoLion5101","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bpnuy\/debugging_go_code\/","text":"Does golang has an IDE like python has \"Thonny\" for noobs to debug and understand code  ? I know we can use delve(vscode) in golang - but i think it is good for intermediate to advance skilled folks -  is there something more user friendly for folks who are just starting out ?","upvote_ratio":0.74,"created_utc":1677344167.0},{"title":"Does Golang has any framework like Springboot?","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11cln50\/does_golang_has_any_framework_like_springboot\/","text":"Like Java's Springboot, does golang has any preferred framework?","upvote_ratio":0.36,"created_utc":1677429357.0},{"title":"Get folder that the shortcut is run from?","author":"gamerdevguy","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bnz5x\/get_folder_that_the_shortcut_is_run_from\/","text":"My app gets the path to the current folder.  I created a shortcut to my app but it returns the folder in which the app is located and not the shortcut.\n\nIs there a way to have the app return the folder path from which the shortcut is run in?\n\nThank you.","upvote_ratio":0.65,"created_utc":1677339864.0},{"title":"help: Confusing interface type conversion","author":"rakeddit","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bx6wq\/help_confusing_interface_type_conversion\/","text":"I have the following code that implements interface wrapping. The wrapped interface is part of a struct along with a counter that tracks the total number of bytes written so far. One would assume that the `ByteCounter` type would be distinct from `io.Writer`  but I am able to assign  ByteCounter to an `io.Writer` within the `CountingWriter` function. Can a type satisfy an interface as long as an attribute of it satisfies the contract? What if there are multiple such attributes implementing the same interface?\n\n    type ByteCounter struct {\n        w io.Writer\n        n int64\n    }\n     \n    func (c *ByteCounter) Write(p []byte) (int, error) {\n        n, err := c.w.Write(p)\n        c.n += int64(n)\n        return n, err\n    }\n     \n    func CountingWriter(w io.Writer) (io.Writer, *int64) {\n        c := &ByteCounter{w, 0}\n        return c, &c.n\n    }\n\nAnother issue I face when I am trying to convert the `io.Writer` type back to the concrete type `ByteCounter`:  \n\n\n    6 func main() {\n      5     cw, _ := CountingWriter(new(bytes.Buffer))\n      4     n, _ := cw.Write([]byte(\"Hello World!\"))\n      3     fmt.Printf(\"wrote %d bytes\\n\", n)\n      2     n, _ = cw.Write([]byte(\"Hello World!\"))\n      1     fmt.Printf(\"wrote %d bytes\\n\", n)\n    31      bc := ByteCounter(cw)\n      1 }\n\n&#x200B;\n\n>.\/countingwriter.go:31:20: cannot convert cw (variable of type io.Writer) to type ByteCounter","upvote_ratio":0.5,"created_utc":1677362765.0},{"title":"Http package API | Care to share a repo?","author":"recovery_anchor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bvnr4\/http_package_api_care_to_share_a_repo\/","text":"I am looking for an example repo of an api written in go lang. Something written in the standard http package would be amazing.\n\nJust looking for some examples to get ideas from for things like middleware, mounting routes, database pooling, ect.\n\nDo you have a repo you own or have one you\u2019d like to share that I can dig through?\n\nThank you for your time!!","upvote_ratio":0.6,"created_utc":1677358943.0},{"title":"delve: no source available","author":"rakeddit","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11bvgeo\/delve_no_source_available\/","text":"trying to use delve to debug a program and running into issues. Any help is really appreciated\n\n    MBP: countingwriter % dlv debug\n    Type 'help' for list of commands.\n    (dlv) b main.main\n    Breakpoint 1 set at 0x10b8412 for main.main() .\/main.go:25\n    (dlv) r\n    Process restarted with PID 79040\n    (dlv) next\n    Stopped at: 0xcb8eef0\n    =>   1:\tno source available\n    Command failed: no source for PC 0xcb8eef0\n    (dlv) \n\nIs there a way to make the source code available to the debugger? Clearly, on line #4 it found the main() in the main.go:25. What am I doing wrong? I just find the documentation lacking clarity.","upvote_ratio":0.4,"created_utc":1677358433.0},{"title":"Looking for library recommendations: Django -> Golang port","author":"testuser514","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11b4gj0\/looking_for_library_recommendations_django_golang\/","text":"I've been porting a project of mine from Django to Golang for the following reasons:  \n1. Avoiding the weakly linked python codebase that keeps missing errors\n2. A more straightforward approach to creating a composable cloud portal\n3. All the performance benefits go would have. Django is just super memory hungry\n4. The ridiculous complexity involved with doing   \n\nI figured I'd ask the community for some recommendations for the following capabilities that Django + python stack is giving me at the moment:\n1. Amazon SES Mailing (considering - [aws-sdk-go](https:\/\/github.com\/aws\/aws-sdk-go))\n2. Django Admin (considering [go-admin](https:\/\/github.com\/GoAdminGroup\/go-admin)\n3. Django Signals (considering [syncsignals](https:\/\/github.com\/pedroburon\/syncsignals)\n4. Celery (No contenders here)","upvote_ratio":0.93,"created_utc":1677278695.0},{"title":"rsc at golang-dev ML: Go telemetry will be opt-in.","author":"0xjnml","url":"https:\/\/groups.google.com\/g\/golang-dev\/c\/73vJrjQTU1M\/m\/qPpgOHgLAAAJ","text":"","upvote_ratio":0.95,"created_utc":1677248852.0},{"title":"Visual S code go template format with good indentation","author":"HosMercury","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11brjzc\/visual_s_code_go_template_format_with_good\/","text":"any help ? how to ?\/  \nGo template support not indent the go tags ?","upvote_ratio":0.38,"created_utc":1677348750.0},{"title":"Making Go telemetry opt-in is a mistake","author":"shadowh511","url":"https:\/\/twi.github.io\/blog\/making-go-telemetry-opt-in-is-a-mistake.html","text":"","upvote_ratio":0.38,"created_utc":1677388287.0},{"title":"Minimal OAuth provider in Benthos and Bloblang","author":"mihaitodor","url":"https:\/\/gist.github.com\/disintegrator\/0bd39879c437c4b3abb2779c661a6790","text":"","upvote_ratio":0.86,"created_utc":1677262540.0},{"title":"Is there a way to generate controller from swagger through build tools?","author":"kaigoman","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11b4quf\/is_there_a_way_to_generate_controller_from\/","text":"I'm used to generating controllers from swagger open api spec in other languages in an automated way through build tool. So when a change is made in the spec, regenerating the controllers will update them.\n\nIs there a way to do this in golang?","upvote_ratio":0.7,"created_utc":1677279422.0},{"title":"zrok: open-source peer to peer sharing with ability to selfhost (written in Go)","author":"PhilipLGriffiths88","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11ar23a\/zrok_opensource_peer_to_peer_sharing_with_ability\/","text":"While many reverse proxies exist for easy access to hosted services exist\\*, we developed our own with some unique capabilities (written in Go).\n\n[zrok](https:\/\/zrok.io\/) is our next-gen sharing platform built on top of [OpenZiti](https:\/\/docs.openziti.io\/),  a programmable zero-trust network overlay, as a Ziti-native application. \\[zrok\\]allows users to create ephemeral reverse proxies  (\u201ctunnels\u201d) for http resources.  Simple, secure sharing of private environments - e.g., websites, webhooks, and even assets such as files and videos - without opening inbound ports, public IPs, port forwarding,  NAT issues etc.\n\nThe purpose of \\[zrok\\]is to provide privately share resources with other \\[zrok\\] users. This includes:\n\n* A fully open source, self-hosted capability or\n* Cloud-hosted SaaS, currently free version [zrok.io](http:\/\/zrok.io\/)\n* Ability to provide fully private shares - neither endpoint exposed to the Internet or needing public IPs... thats right, **no inbound or listening ports in your firewall for both publisher and consumer**\n* Standard public share (similar to other reverse proxies)\n\nThe project is currently in public preview for a short period of time. While it may not have feature parity to existing solutions, we are rapidly improving it and hope you can help us improve it through testing, feedback, questions,  comments, or contributing code. If you would like to test [zrok.io](http:\/\/zrok.io\/) yourself, please DM me or reply in our [discourse](https:\/\/openziti.discourse.group\/). If you want to play with zrok and self-host, just go to [https:\/\/github.com\/openziti\/zrok](https:\/\/github.com\/openziti\/zrok).\n\n\\*  Great examples which provided inspiration include [Cloudflare tunnel](https:\/\/www.cloudflare.com\/en-gb\/products\/tunnel\/), [Tailscale Funnel](https:\/\/tailscale.com\/blog\/introducing-tailscale-funnel\/), [SirTunnel](https:\/\/github.com\/anderspitman\/SirTunnel), [Localhost.run](https:\/\/localhost.run\/), [Fractual Mosaic](https:\/\/www.fractalnetworks.co\/), [Pinggy](https:\/\/pinggy.io\/), [Tunll](https:\/\/tunll.com\/), and of course, the original [Ngrok](https:\/\/ngrok.com\/).  \n\n\nIf you have made it this far, I would also mention that zrok is a \u2018ziti-native\u2019 app, i.e. app built from the ground up on OpenZiti. Why would you want to build a ziti-native\u2026 well, because it means you can innovate faster by building secure apps quicker. \n\nNo need to worry about CA\/PKI, mTLS, E2E encryption, attribute-based access control, tunnelling, strong authorisation, HTTP polling or WebSockets or even inbound ports, public DNS and VPNs. OpenZiti gives you all of that for 'free' so that you focus on building the best connected and secure application.\n\nFor example, a single developer created zrok in a little over 7 months. He could do it that quickly as he inherited the superpowers of ziti.","upvote_ratio":0.9,"created_utc":1677244268.0},{"title":"A GO open source lib for payment processing: go-iso8583","author":"Frequent-Inspector56","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11aw0ue\/a_go_open_source_lib_for_payment_processing\/","text":"Any feedback, stars or contributions are very welcome\n\n&#x200B;\n\n[https:\/\/github.com\/jattento\/go-iso8583](https:\/\/github.com\/jattento\/go-iso8583)","upvote_ratio":0.64,"created_utc":1677257602.0},{"title":"Re-introducing \"define\" - A command-line dictionary (thesaurus) app, with access to multiple sources, written in Go.","author":"Rican7","url":"https:\/\/github.com\/Rican7\/define","text":"","upvote_ratio":0.94,"created_utc":1677207181.0},{"title":"Variable declared but not used error for a loop variable","author":"rakeddit","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11b4zlv\/variable_declared_but_not_used_error_for_a_loop\/","text":"newbie question, for sure. I am working through gopl book exercises and have this code to clear words in an array:\n\n    type IntSet struct {\n        words []uint64\n    }\n    \n    func (s *IntSet) Clear() {\n        for _, w := range s.words {\n            w = 0\n        }\n    }\n\nI am getting the error: `Variable declared but not used` at the for statement. Am I not using the same `w` within the loop? At least, that is the intent.  \n\n\nThe following code compiles but still does not clear the bits in the words:\n\n    type IntSet struct {\n        words []uint64\n    }\n    \n    func (s *IntSet) Clear() {\n        for _, w := range s.words {\n            w &= 0\n        }\n    }\n\n&#x200B;","upvote_ratio":0.4,"created_utc":1677280015.0},{"title":"Concurrent design patterns different from channel\/worker one","author":"Illustrious_Buy_8198","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11aqknp\/concurrent_design_patterns_different_from\/","text":"I recently replaced some of my old worker\/channel concurrent code with a less verbose pattern where I process concurrent chunk of indexes [like this](https:\/\/pkg.go.dev\/github.com\/QuentinFAIDIDE\/go-chunk-concurrency\/gochunks#MakeConcurrencyChunks). I made a really tiny package to help implement it if you're curious.\n\nI think it's worth it if the task is I\/O bound, slow, and that spawning a goroutine per task is reasonable. It's a little less snappy due to doing synchronous blocks, but I can pay that price for cleaner code with bounded concurrency.\n\nIs that a common design pattern ? Are there any that are better in some situations than the worker\/channel one ?","upvote_ratio":1.0,"created_utc":1677242767.0},{"title":"Is there an alternative to gorilla websocket?","author":"ImplementSquare1691","url":"https:\/\/github.com\/gorilla\/websocket","text":"","upvote_ratio":0.87,"created_utc":1677213113.0},{"title":"Search for a container across all nodes in a swarm.","author":"cra2y_hibare","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11atial\/search_for_a_container_across_all_nodes_in_a_swarm\/","text":"I'm playing with Docker Golang SDK. I aim to search for a container with a name across all nodes in a swarm. I could not find any better solution. Any pointers in this direction would be helpful.","upvote_ratio":0.67,"created_utc":1677251112.0},{"title":"grpc - can a grpc server return two content types?","author":"gmercer25","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11asa08\/grpc_can_a_grpc_server_return_two_content_types\/","text":"I have a grpc service running over grpc-gateway and a UI that calls HTTP endpoints exposed by grpc-gateway, today i noticed that when i call the API in the response headers (in firefox network tab) I see two content types value set one set as application\/grpc and the other being application\/json.\n\n&#x200B;\n\ni was under the impression that HTTP Headers are map so how can a map have two values set for the same key?\n\n&#x200B;\n\nI literally see two lines saying\n\n&#x200B;\n\n\\`\\`\\`\n\nContent-Type application\/grpc\n\nContent-Type application\/json\n\n&#x200B;\n\n\\`\\`\\`","upvote_ratio":0.67,"created_utc":1677247805.0},{"title":"Inside Gluon, Proton's new IMAP library written in Go","author":"ProtonMail","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119vuso\/inside_gluon_protons_new_imap_library_written_in\/","text":"Hi! This is our first post in this community, and we hope you find it interesting!\n\nIMAP powers email globally and, therefore, for Proton Mail it's essential to rely on a high-performance IMAP library that can support the ever-growing inboxes. This is why we have created Gluon, a new library written in the Go programming language and designed to be high-performance, reliable, developer-friendly, and, most importantly, open-source.\n\nIt aims to overcome the limitations of the existing open-source IMAP libraries, which are often not entirely scalable, or are poorly maintained. Gluon powers the new version of our Proton Mail Bridge app, which is now being rolled out: [https:\/\/www.reddit.com\/r\/ProtonMail\/comments\/118td2q\/a\\_vastly\\_improved\\_version\\_of\\_the\\_proton\\_mail\/](https:\/\/www.reddit.com\/r\/ProtonMail\/comments\/118td2q\/a_vastly_improved_version_of_the_proton_mail\/). \n\nCheck our blog to learn more about Gluon: [https:\/\/proton.me\/blog\/gluon-imap-library](https:\/\/proton.me\/blog\/gluon-imap-library). You can peek into it yourself on our GitHub: [https:\/\/github.com\/ProtonMail\/gluon](https:\/\/github.com\/ProtonMail\/gluon).","upvote_ratio":0.97,"created_utc":1677153113.0},{"title":"Avoid reading large file into memory from http request body","author":"Ok_Concentrate1032","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a5qmd\/avoid_reading_large_file_into_memory_from_http\/","text":"I'm currently working on an app that receives a file via the body of a POST request, then performs a multipart upload to s3.\n\nWhat is the best way to avoid reading the whole file in memory from the request body? I'd like to stream directly for the request body into the multipart upload to s3.\n\nThanks","upvote_ratio":0.86,"created_utc":1677179024.0},{"title":"How to test for form data post request","author":"Embarrassed_Horse641","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11aov93\/how_to_test_for_form_data_post_request\/","text":"```\nfunc Test_SafeLogin(t *testing.T) {\n\tapp := getApp()\n\trouter := routes.SetupRouter(app)\n\n\tbuf := new(bytes.Buffer)\n\tw := multipart.NewWriter(buf)\n\terr := w.WriteField(\"phone\", \"1111111176\")\n\tif err != nil {\n\t\tlog.Fatal(err, \"Error while WriteField\")\n\t}\n\n\tw_login := httptest.NewRecorder()\n\treq, _ := http.NewRequest(\n\t\thttp.MethodPost, \"\/add_enntry\", buf,\n\t)\n\treq.Header.Add(\"Content-Type\", w.FormDataContentType())\n\trouter.ServeHTTP(w_login, req)\n\n\tvar ResultUser bson.M\n\terr = json.Unmarshal(w_login.Body.Bytes(), &ResultUser)\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t}\n\n\tassert.Equal(t, 200, ResultUser)\n}\n\n```\n\nthis my code give error\nerror on parse multipart form array: unexpected EOF","upvote_ratio":0.5,"created_utc":1677236829.0},{"title":"Please critique my error handling pattern!","author":"_coldemort_","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a4y4y\/please_critique_my_error_handling_pattern\/","text":"My web server's API layer is responsible for translating various system errors into actionable user facing errors. These errors are generated in a service layer that contains the applications business logic. We are currently using simple `errors.As` handling like below:\n\n    res, err := service.SomeFunc()\n    if err != nil {\n        var customErr1 *service.CustomError1\n        if errors.As(err, &customErr1) {\n            \/\/ handle customErrors1\n        }\n        var customErr2 *service.CustomError2\n        if errors.As(err, &customErr2) {\n            \/\/ handle customErrors2\n        }\n    \n        \/\/ handle unexpected errors\n    }\n\nThis has been mostly fine, but is a bit cumbersome. I wrote a utility function to clean this up a bit using generics, and I'm curious what y'all think of it:\n\nutil\/errors.go:\n\n    func Catch[T error](err error) (T, bool) {\n        var target T\n        if errors.As(err, &target) {\n            return target, true\n        }\n        return target, false\n    }\n\nusage:\n\n    res, err := service.SomeFunc()\n    if e, ok := util.Catch[*service.CustomError1](err); ok {\n        \/\/ handle customError1\n    }\n    if e, ok := util.Catch[*service.CustomError2](err); ok {\n        \/\/ handle customError2\n    }\n    if err != nil {\n        \/\/ handle unexpected errors\n    }\n\nBelow are my personal pros\/cons, but this is why I'm posting! Curious to hear what you all think.\n\nPros:  \n- More readable due to (imo) better use of white space, block scoped error variables, less\/constent indentation, less clutter\n\nCons:  \n- My utility function isn't built-in, so new team members won't immediately understand what its doing (compared to standard errors.As)","upvote_ratio":0.85,"created_utc":1677177097.0},{"title":"Which subreddit for questions about developing Kubernetes controllers?","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a7gc7\/which_subreddit_for_questions_about_developing\/","text":"Which subreddit should I use for questions about developing Kubernetes controllers in Go?","upvote_ratio":1.0,"created_utc":1677183207.0},{"title":"Help! channel vs workerpool","author":"mapleray","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11an5rg\/help_channel_vs_workerpool\/","text":"Why workerpool performs better than direct consumption of channels?\n\n```\ngoos: darwin\ngoarch: amd64\ncpu: Intel(R) Core(TM) i5-8279U CPU @ 2.40GHz\nBenchmarkXXChannel\nBenchmarkXXChannel-8      \t1000000000\t         0.007782 ns\/op\nBenchmarkXXWorkerPool\nBenchmarkXXWorkerPool-8   \t1000000000\t         0.004569 ns\/op\nPASS\nok  \tcommand-line-arguments\t0.235s\n```\n\n\n\n\n```go\npackage benchmark\n\nimport (\n\t\"sync\"\n\t\"testing\"\n)\n\ntype worker struct {\n\tch chan int\n}\n\ntype workerPool struct {\n\ti     int\n\twg    sync.WaitGroup\n\tready []*worker\n}\n\nfunc (wp *workerPool) get() *worker {\n\twp.i = (wp.i + 1) % 10\n\treturn wp.ready[wp.i]\n}\n\nfunc NewWorkerPool(input chan int) *workerPool {\n\twp := &workerPool{\n\t\ti:     0,\n\t\tready: make([]*worker, 0, 10),\n\t}\n\twp.wg.Add(11)\n\tfor i := 0; i < 10; i++ {\n\t\tw := &worker{\n\t\t\tch: make(chan int, 100),\n\t\t}\n\t\tgo func(w *worker) {\n\t\t\tdefer wp.wg.Done()\n\t\t\tfor {\n\t\t\t\tselect {\n\t\t\t\tcase _, ok := <-w.ch:\n\t\t\t\t\tif !ok {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}(w)\n\t\twp.ready = append(wp.ready, w)\n\t}\n\n\tgo func() {\n\t\tdefer wp.wg.Done()\n\t\tfor {\n\t\t\tselect {\n\t\t\tcase _, ok := <-input:\n\t\t\t\tif !ok {\n\t\t\t\t\tfor _, v := range wp.ready {\n\t\t\t\t\t\tclose(v.ch)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}()\n\n\treturn wp\n}\n\ntype ChannelWorker struct {\n\twg sync.WaitGroup\n}\n\nfunc NewChannel(input chan int) *ChannelWorker {\n\tcw := &ChannelWorker{}\n\tcw.wg.Add(10)\n\tfor i := 0; i < 10; i++ {\n\t\tgo func() {\n\t\t\tdefer cw.wg.Done()\n\t\t\tfor {\n\t\t\t\tselect {\n\t\t\t\tcase _, ok := <-input:\n\t\t\t\t\tif !ok {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}()\n\t}\n\treturn cw\n}\n\nfunc BenchmarkXXChannel(b *testing.B) {\n\tinput := make(chan int, 10000)\n\tcw := NewChannel(input)\n\tb.ResetTimer()\n\tfor i := 0; i < 100000; i++ {\n\t\tinput <- i\n\t}\n\tclose(input)\n\tcw.wg.Wait()\n}\n\nfunc BenchmarkXXWorkerPool(b *testing.B) {\n\tinput := make(chan int, 10000)\n\twp := NewWorkerPool(input)\n\tb.ResetTimer()\n\tfor i := 0; i < 100000; i++ {\n\t\tinput <- i\n\t}\n\tclose(input)\n\twp.wg.Wait()\n}\n```","upvote_ratio":0.33,"created_utc":1677230166.0},{"title":"Code review request for API project","author":"utkumetin","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a3xx5\/code_review_request_for_api_project\/","text":"Hello everybody,\n\nI am a beginner in Go language and backend. I've finished a certain part of my first project, but since I don't know exactly how many things I did right, I would like to get your valuable opinions before continuing, thank you in advance for any criticism and constructive comments. The codes of the project are currently in the develop branch, I leave the link below.\n\nLink: [https:\/\/github.com\/utkuumetin\/daybook\/tree\/develop](https:\/\/github.com\/utkuumetin\/daybook\/tree\/develop)","upvote_ratio":0.9,"created_utc":1677174719.0},{"title":"Two classic methods for bit indexing implemented in Go: de Bruijn hashing (including a simple technique to generate the magic number) and floating point normalization (loading an int into a float64 and extracting the exponent)","author":"BUGFIX-66","url":"https:\/\/bugfix-66.com\/bba82a517b8690b306a75c85c234bf3c2870e67a403f46cbef1bf8d2db9a74a6","text":"","upvote_ratio":0.87,"created_utc":1677162878.0},{"title":"Golang isn't Java, and type embedding isn't inheritance. If you pretend it is, it will burn you","author":"zachm","url":"https:\/\/www.dolthub.com\/blog\/2023-02-22-golangs-fake-inheritance\/","text":"","upvote_ratio":0.91,"created_utc":1677093298.0},{"title":"What's new in Testcontainers for Go","author":"mdelapenya","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119t0js\/whats_new_in_testcontainers_for_go\/","text":"A community and new features update [https:\/\/www.atomicjar.com\/2023\/02\/modules-community-testcontainers-for-go\/](https:\/\/www.atomicjar.com\/2023\/02\/modules-community-testcontainers-for-go\/)","upvote_ratio":0.95,"created_utc":1677142392.0},{"title":"Protocol Buffers vendoring service written in Golang.","author":"mano_sriram","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a1sru\/protocol_buffers_vendoring_service_written_in\/","text":"Recently, I've written a service which vendors protocol buffers. Although there are few of them (very few), this adds some more customizability via config.\n\nBasically, all this service does is it keeps track of the .proto version and fetches them given the details in the config. Completely written in Go.\n\nGithub Link: [https:\/\/github.com\/manosriram\/prend](https:\/\/github.com\/manosriram\/prend)","upvote_ratio":0.8,"created_utc":1677169597.0},{"title":"A Guide to Setting up OpenTelemetry Traces in Go","author":"TelemetryHub","url":"https:\/\/app.telemetryhub.com\/docs\/guides\/traces\/go","text":"","upvote_ratio":0.52,"created_utc":1677175085.0},{"title":"Be IOS Developer or Backend Developer(Golang) in 2023?","author":"Less_Camel_7252","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a8ypb\/be_ios_developer_or_backend_developergolang_in\/","text":" I'm currently a webdev but I want to make a change, which of these 2 areas will be better in terms of opportunities and salary in 2023 with this layoff season?","upvote_ratio":0.5,"created_utc":1677186893.0},{"title":"Cloud Computing Advice | Save Money","author":"recovery_anchor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119ur39\/cloud_computing_advice_save_money\/","text":"Hello!\n\nI am an avid self-taught developer and have came a long way over the past year or so. I am super in love with go and it has really leveled up my backend skills.\n\nI am currently working on a pretty robust api system with a lot of self built tools. All of it is built on the standard http package and I am enjoying it a lot. \n\nI want to get into building cloud based web apps, but I've heard its very easy to end up spending a lot of money on AWS if you do not know what you are doing.\n\nI am really looking for some advice on how to ensure something like this does not happen to me.\n\nDo any of you have and stories or advice you'd give to someone just getting started with setting up serverless web apps?","upvote_ratio":0.86,"created_utc":1677149133.0},{"title":"Does sqlc\/sqlx support MS-SQLServer? All examples for sqlc with postgres and mysql","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119xz8h\/does_sqlcsqlx_support_mssqlserver_all_examples\/","text":"I am very thankful for the Golang community on Reddit. I learned a lot of new things from this channel. \n\nWe are migrating .net core\/sqlserver project into Golang. We have lots of complex stored procedures in our project. \n\nI learned from the community sqlc \/sqlx is better than GORM. But i see all examples for sqlc & sqlx for postgres or mysql. \n\nDoes sqlc or sqlx works for MS-SQL Server? If yes, can you refer me some video or text tutorials for the same with SQL Server?","upvote_ratio":0.75,"created_utc":1677159647.0},{"title":"ArangoDB store backend for go-oatuh2","author":"gabor-boros","url":"https:\/\/github.com\/gabor-boros\/go-oauth2-arangodb","text":"","upvote_ratio":0.5,"created_utc":1677173726.0},{"title":"How to document the interfaces used in a struct if anyway?","author":"itsmarcymarc","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119zn4l\/how_to_document_the_interfaces_used_in_a_struct\/","text":"I'm fairly new to Go and understand the concept about interfaces used.  \nHowever I somehow miss looking at a struct and seeing immediately which interfaces it implements like it is implemented in other languages like C++, Typescript etc. \n\nEven in Rust which uses its traits system its clear by looking at the code I can see where the functionality comes from.\n\nWith Go I kind of struggle because if I don't  know if a function comes from an interface if I'm not familiar with the Code.\n\n&#x200B;\n\nIs there any feature or best practice on this matter besides writing the information in the structs doc comment?","upvote_ratio":0.67,"created_utc":1677164219.0},{"title":"I have this code On Playground.. It is very simplified... but when reading from file it breaks and cannot handle rune characters.... The strings.Replace function just stops working","author":"Jonatollah","url":"https:\/\/play.golang.com\/p\/B4zCG3uY-CA","text":"","upvote_ratio":0.25,"created_utc":1677177131.0},{"title":"CORS Nightmare, please HELP","author":"AppropriateCheek1996","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119yfqv\/cors_nightmare_please_help\/","text":"Hi, I'm working on a web app with a friend. I'm doing the back in Go with the Gin framework, and the front is done with Next.js. For testing purposes, I have my app in a docker container listening to localhost port 8080. The client app runs also locally in port 3000.  \n\n\nAt the beginning, CORS wouldn't let the client do anything at all. I added some server side configurations and it worked just fine... Until we tried a POST request. Now we can't get past that for some reason. I looked absolutely everywhere and tried different CORS configurations with no luck.  \n\n\nThe problem is only with POSTS requests so far.\n\n    func main() {\n\tr := gin.Default()\n    \tr.Use(CORSMiddleware())\n    \tr.OPTIONS(\"\/*path\", CORSMiddleware())\n    \t\/\/ r.Use(cors.New(cors.Config{\n    \t\/\/ \tAllowOrigins: []string{\"*\"},\n    \t\/\/ \tAllowMethods: []string{\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"},\n    \t\/\/ \tAllowHeaders: []string{\"Content-Type, Content-Length, Accept-Encoding\"},\n    \t\/\/ }))\n    \tdatabase.DBInit(user, password, dbhost, dbname)\n    \n    \tc := controller.NewController()\n    \n    \tv1 := r.Group(\"\/api\/v1\")\n    \t{\n    \t\tpayer := v1.Group(\"\/payer\")\n    \t\t{\n    \t\t\tpayer.POST(\"\/new\", c.NewPayer)\n    \t\t\tpayer.GET(\"\/payers\", c.Payers)\n    \t\t\tpayer.GET(\":id\", c.GetPayer)\n    \t\t\tpayer.PUT(\"\/update\/:id\", c.UpdatePayer)\n    \t\t}\n    \t\tproduct := v1.Group(\"\/product\")\n    \t\t{\n    \t\t\tproduct.POST(\"\/new\", c.NewProduct)\n    \t\t\tproduct.GET(\"\/products\", c.Products)\n    \t\t\tproduct.GET(\":id\", c.GetProduct)\n    \t\t\tproduct.PUT(\"\/update\/:id\", c.UpdateProduct)\n    \t\t}\n    \t\torder := v1.Group(\"\/order\")\n    \t\t{\n    \t\t\torder.POST(\"\/new\", c.NewOrder)\n    \t\t\torder.GET(\"\/orders\", c.Orders)\n    \t\t\torder.GET(\":id\", c.GetOrder)\n    \t\t}\n    \t\tdlocal := v1.Group(\"\/dlocal\")\n    \t\t{\n    \t\t\tdlocal.POST(\"\/card\", c.CreateCard)\n    \t\t\tdlocal.POST(\"\/secure-payment\", c.MakeSecurePayment)\n    \t\t\tdlocal.POST(\"\/payment\", c.MakePayment)\n    \t\t}\n    \t\tpayment := v1.Group(\"\/payment\")\n    \t\t{\n    \t\t\tpayment.POST(\"\/new\", c.MockPayment)\n    \t\t}\n    \t}\n    \n    \tr.GET(\"\/swagger\/*any\", ginSwagger.WrapHandler(swaggerFiles.Handler))\n    \tr.Run(port)\n    }\n    \n    func CORSMiddleware() gin.HandlerFunc {\n    \treturn func(c *gin.Context) {\n    \t\tc.Writer.Header().Set(\"Content-Type\", \"application\/json\")\n    \t\tc.Writer.Header().Set(\"Access-Control-Allow-Origin\", \"*\")\n    \t\tc.Writer.Header().Set(\"Access-Control-Max-Age\", \"86400\")\n    \t\tc.Writer.Header().Set(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, PUT, DELETE\")\n    \t\tc.Writer.Header().Set(\"Access-Control-Allow-Headers\", \"Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization\")\n    \n    \t\tif c.Request.Method == \"OPTIONS\" {\n    \t\t\tc.AbortWithStatus(200)\n    \t\t}\n    \n    \t\tc.Next()\n    \t}\n    }","upvote_ratio":0.6,"created_utc":1677160897.0},{"title":"Easily parse your cool table-style output data","author":"anxldev","url":"https:\/\/github.com\/anilmisirlioglu\/table-parser","text":"","upvote_ratio":0.43,"created_utc":1677160581.0},{"title":"How to publish your Golang binaries with goreleaser","author":"DodeYoke","url":"https:\/\/www.kosli.com\/blog\/how-to-publish-your-golang-binaries-with-goreleaser\/","text":"","upvote_ratio":0.5,"created_utc":1677159166.0},{"title":"I built my first CLI tool","author":"TakeThisLove","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118zty7\/i_built_my_first_cli_tool\/","text":"Hi [r\/golang](https:\/\/www.reddit.com\/r\/golang\/)\n\nI started learning Go a couple of months ago, and as part of my learning journey, I decided to make a CLI tool called tfsort. It sorts Terraform variables and outputs them in alphabetical order. The tool also adjusts spacing issues between blocks and removes any leading or trailing new lines in the file.\n\nWhile Terraform doesn't enforce specific block ordering, some people, like myself, would like to keep their vars and outs in order. So, if you're feeling pedantic, feel free to give my tool a try.\n\nAlthough I code regularly, I am not a professional software engineer. As such, I am looking for feedback from more experienced engineers. Additionally, if you are a beginner like me and are searching for a project to contribute to, you might want to check out the repository, as several parts require completion.  \n\n\nLink: [https:\/\/github.com\/AlexNabokikh\/tfsort](https:\/\/github.com\/AlexNabokikh\/tfsort)","upvote_ratio":0.93,"created_utc":1677074439.0},{"title":"Questions regarding prepared statements in database\/sql","author":"kalterdev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119wstu\/questions_regarding_prepared_statements_in\/","text":"I'm studying database\/sql using https:\/\/go-database-sql.org guide. At the time, I\u2019m interested in prepared statements.\n\nI understand that there\u2019s an essential difference between creating a prepared statement on a DB and Tx. With DB, the prepared statement can be re-prepared multiple times. With Tx, it\u2019s firmly attached to one connection.\n\nHowever, the guide makes several derivative points which I do not understand.\n\n1. \u201cTo use a prepared statement prepared outside the transaction in a Tx, you can use Tx.Stmt(), which will create a new transaction-specific statement from the one prepared outside the transaction. It does this by taking an existing prepared statement, setting the connection to that of the transaction and repreparing all statements every time they are executed. This behavior and its implementations are undesirable and there\u2019s even a TODO in database\/sql source code to improve it; we advise against using this.\u201d\n\n(http:\/\/go-database-sql.org\/prepared.html)\n\nI don\u2019t understand what they mean by saying \u201crepreparing all statements every time they are executed.\u201d As far as I can see, Tx.Stmt creates a new prepared statement on the underlying connection. Period. When you use it, there shouldn\u2019t be any re-preparing.\n\nThe documentation says \u201cStmt returns a transaction-specific prepared statement from an existing statement.\u201d (https:\/\/pkg.go.dev\/database\/sql#Tx.Stmt)\n\nHonestly, I don\u2019t see any problem.\n\n2. Another problem considers closing a prepared statement on a closed Tx. The full quote:\n\n\u201cBefore Go 1.4 closing a *sql.Tx released the connection associated with it back into the pool, but the deferred call to Close on the prepared statement was executed after that has happened, which could lead to concurrent access to the underlying connection, rendering the connection state inconsistent. If you use Go 1.4 or older, you should make sure the statement is always closed before the transaction is committed or rolled back. This issue was fixed in Go 1.4 by CR 131650043.\u201d\n\n(http:\/\/go-database-sql.org\/prepared.html)\n\nI understand that the problem is not relevant anymore. However, I don\u2019t understand the reason there was a problem in the first place.\n\nWhen you close a Tx object, it releases the underlying connection back to the pool. Then, a prepared statement on this connection is also being closed. I don\u2019t understand what the error is and what causes it.","upvote_ratio":0.6,"created_utc":1677156202.0},{"title":"Questions regarding the use Tx objects in database\/sql","author":"kalterdev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119wc9c\/questions_regarding_the_use_tx_objects_in\/","text":"I'm studying database\/sql package using http:\/\/go-database-sql.org guide. I\u2019m particularly interested why should one use Tx.Begin() and Tx.Commit() methods instead of running BEGIN\/COMMIT statements on a database object.\n\nI understand that Tx guarantees you exactly one connection, whereas the database object can juggle them. The guide makes this point:\n\n\u201cYou could believe you\u2019re executing queries on a single connection, inside of a transaction, when in reality Go has created several connections for you invisibly and some statements aren\u2019t part of the transaction.\u201d\n\n(http:\/\/go-database-sql.org\/modifying.html)\n\nHowever, the guide also makes several other points regarding the issue, which I do not fully understand:\n\n1. \u201cThe Tx objects could remain open, reserving a connection from the pool and not returning it.\u201d\n\nThat is, Tx connection cannot be juggled by the database object, right? Or there\u2019s something else the text attempts to explain?\n\n2. \u201cThe state of the database could get out of sync with the state of the Go variables representing it.\u201d\n\nI don\u2019t understand this point at all. What \u201cstate\u201d exactly do they mean?","upvote_ratio":0.5,"created_utc":1677154713.0},{"title":"How do I implement \"FaceDetectorYN\" class in gocv ?","author":"i_am_anonymous2005","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119w6pm\/how_do_i_implement_facedetectoryn_class_in_gocv\/","text":" I found that there is no binding for this class in gocv. \u00a0So I guess that I have to use \"gocv.Net{}\" to manually do this. Can anyone provide me with a code sample for this please ?\u00a0","upvote_ratio":0.6,"created_utc":1677154210.0},{"title":"What db access method i should use in Go for long join queries?","author":"selva-online","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119i6x4\/what_db_access_method_i_should_use_in_go_for_long\/","text":"Different Way to Access DB From Go\n\nI have a different way to access the database in Go.\n\nPlain SQL: Database\/SQL Package\nORM - Go-gorm\/GORM\nSQL Statements Builder & Code Generator : Squirrel & SQLC\nI am trying to migrate db heavy application to GO and I have long join queries written in SP and Views and I am trying to convert them into Go. What is the best db package or approach I need to choose for Go?\n\nCan I write pure sqlscript or use OR or builders?","upvote_ratio":0.74,"created_utc":1677110003.0},{"title":"Abstracting firebase access - unmarshaling","author":"xroalx","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119uvsq\/abstracting_firebase_access_unmarshaling\/","text":"I'm learning Go by creating a basic PoC REST API. I stumbled on an issue I'm unsure how to go about.\n\nI'm using Firebase and will have several endpoints to fetch all documents from a collection (no limit or paging for now, it's an internal PoC so it's okay).\n\nThe code to get the client, get the collection reference, iterate over the items, and unmarshal them into a struct is pretty verbose. Instead of repeating it in every route handler, I wanted to abstract this away.\n\nMy initial attempt was as follows:\n\n    func GetAllOne[T any](ctx context.Context, collection string, target *[]T) error {\n    \tclient, err := Client.Firestore(ctx)\n    \tif err != nil {\n    \t\treturn err\n    \t}\n    \n    \titer := client.Collection(collection).Documents(ctx)\n    \tfor {\n    \t\tdoc, err := iter.Next()\n    \t\tif err == iterator.Done {\n    \t\t\tbreak\n    \t\t}\n    \n    \t\tif err != nil {\n    \t\t\treturn err\n    \t\t}\n    \n    \t\titem := new(T)\n    \t\tif err := doc.DataTo(item); err != nil {\n    \t\t\treturn err\n    \t\t}\n    \n    \t\treflect.ValueOf(*item).Elem().FieldByName(\"Id\").SetString(doc.Ref.ID)\n    \n    \t\t*target = append(*target, *item)\n    \t}\n    \n    \treturn nil\n    }\n\nFeels like a pretty common pattern in Go to pass a pointer to the struct\/slice\/map we want to unmarshal the data to.\n\nHowever, reflection. With this approach, I quickly found out I need reflection to set the `Id` field of the target type to the `doc.Ref.ID`, which is a unique ID generated by Firebase and is not part of the Firebase document itself.\n\nI'm not super happy about using reflection. Even though I fully control all the types, if by mistake one doesn't have an `Id` field, this will panic at runtime.\n\nI've tried all sorts of combinations to get a `GetAllOne[T struct { Id string }]` sort of thing to work, i.e. a generic that we know has an `Id` field and will be checked at compile time if it really has. This however seems to not be supported at all.\n\nThe other option I came up with was to use an interface constraint and implement a method for the target type:\n\n    type Identifiable interface {\n    \tSetId(string)\n    }\n    \n    func GetAllTwo[T Identifiable](ctx context.Context, collection string, target *[]T) error {\n    \tclient, err := Client.Firestore(ctx)\n    \tif err != nil {\n    \t\treturn err\n    \t}\n    \n    \titer := client.Collection(collection).Documents(ctx)\n    \tfor {\n    \t\tdoc, err := iter.Next()\n    \t\tif err == iterator.Done {\n    \t\t\tbreak\n    \t\t}\n    \n    \t\tif err != nil {\n    \t\t\treturn err\n    \t\t}\n    \n    \t\titem := new(T)\n    \t\tif err := doc.DataTo(item); err != nil {\n    \t\t\treturn err\n    \t\t}\n    \n    \t\t(*item).SetId(doc.Ref.ID)\n    \n    \t\t*target = append(*target, *item)\n    \t}\n    \n    \treturn nil\n    }\n\nThe problem here is that the target type implements this interface as `func (t *TargetType) SetId(id string)` because it needs to be able to manipulate the `Id` field of the `t`. This, however, causes an error `TargetType does not satisfy Identifiable (method SetId has pointer receiver)`.\n\nAfter some experimentation, I moved the slice creation to be inside the `GetAllTwo` function and changed the signature to:\n\n    func GetAllTwo[T Identifiable](ctx context.Context, collection string) ([]*T, error)\n\nThe body of the function is basically the same. This, however, forces the call to be like this:\n\n    GetAllTwo[*TargetType](ctx, collection)\n\nWith a pointer type argument, because the method has a pointer receiver. For whatever reason, this feels wrong.\n\nThen, my third option was to do it like this:\n\n    func GetAllThree(ctx context.Context, collection string, bind func(*firestore.DocumentSnapshot) error) error\n\nBasically, just call `bind` for each item instead of unmarshaling it directly in the function. This moves the unmarshaling part back to each individual handler, which isn't that bad, but it's still a repetition that would be nice to get rid of.\n\n**Kudos to everyone who got this far.**\n\nWhich of these ways is the best or most \"idiomatic Go\"? Is there another option I'm not aware of, or am I doing something that's making it more complex than it needs to be? How would you approach this?\n\nThank you!","upvote_ratio":0.5,"created_utc":1677149637.0},{"title":"Config for production and mocking (db connections, http parsers etc)","author":"dotaleaker","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119t1v9\/config_for_production_and_mocking_db_connections\/","text":"Imagine an app, that parses APIs and utilises multiple dbs. Im currently facing an issue with mocking some functions (i.e. dont save to real db - just use a db interface instead). So I had to make some function accept database interface. Tho it's solving the problem, it adds database interface variable to every function (i.e you want to unit test high hierarchy function and need to pass this database interface variable to every function that uses the db connection). And it can be a nightmare if a function need multiple database interfaces to be passed.\n\n&#x200B;\n\nWhat would be the best way to handle mocking in that case?\n\n&#x200B;\n\nI was thinking of having a config file, that has 0 dependencies (or maybe  .yaml, tho it's not that convenient to deal with) and have an Init function, that inits all the connections etc before app starts \/ any test starts. I.e.\n\n    package config\n    \n    type Config struct {\n       Redis string \/\/ or maybe iota instead\n       Postgres string\n       Http string\n    }\n\n&#x200B;\n\n    package periphery \n    \n    var RedisPool redisInterface\n    ...\n    \n    func Init(config Config) error {\n        switch config.Redis {\n            case \"redis\":\n                RedisPool = redis.NewPool()\n            case \"mockError\":\n                RedisPool = mock.MyRedisMockError()\n            case \"mockSuccess\":\n                RedisPool = mock.MyRedisMockSuccess()\n        }\n        ...\n    }\n\nYou can define a commonly used interfaces in switch cases. Or simply redefine them in test via\n\n     periphery.RedisPool = mock.MyRedisCustomMock()\n\nHow do you guys solve this problem  ?","upvote_ratio":0.5,"created_utc":1677142536.0},{"title":"Want a review and suggestions of web server project","author":"Bluesunclouds","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119sn3o\/want_a_review_and_suggestions_of_web_server\/","text":"Hi!\n\nSo I started learning Go a couple of weeks ago and decided to create a couple of web services to practice and get the hang of it. \n\nI followed this- [Microservices Udemy guide](https:\/\/www.udemy.com\/course\/microservices-with-node-js-and-react\/). Whatever Stephen did in NodeJs I did in Go. \n\nI've included my repository [here](https:\/\/github.com\/Tejesh17\/ms-blog). In brief- I created 4 small web services- the posts one using Go's standard net\/http package, comments one using gorilla-mux, and the event bus and query service using gin. \n\nWhile I was coding out the projects I had no idea if I was following best practices or was doing it the right way. I just got them to work. \n\nI would like some feedback and suggestions on how I could improve my code to follow industry standards and would also like suggestions on where I could further learn from. \n\nThank a lot for your time!","upvote_ratio":0.67,"created_utc":1677140931.0},{"title":"AMock - simple thread-safe mocking library for Golang.","author":"ymz-ncnk","url":"https:\/\/github.com\/ymz-ncnk\/amock","text":"","upvote_ratio":0.2,"created_utc":1677159958.0},{"title":"xx: a colorful hexdump-like CLI tool","author":"icmelo","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119rypi\/xx_a_colorful_hexdumplike_cli_tool\/","text":"This is a simple project that I really enjoyed doing, because made me more comfortable dealing with `bufio`, colors on terminal, profiling with `pprof`, and much more.\n\nInstall: `go install` `github.com\/igoracmelo\/xx@latest`\n\n[https:\/\/github.com\/igoracmelo\/xx](https:\/\/github.com\/igoracmelo\/xx)","upvote_ratio":1.0,"created_utc":1677138347.0},{"title":"Partially-Implemented Interfaces in Go","author":"preslavrachev","url":"https:\/\/preslav.me\/2023\/02\/22\/partially-implemented-interfaces-in-golang\/","text":"","upvote_ratio":0.88,"created_utc":1677087488.0},{"title":"vscode: How to search for all methods called Foo?","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119r6ec\/vscode_how_to_search_for_all_methods_called_foo\/","text":"Dear vscode users, how do you search for all methods called `Foo` in your code?\n\nctrl-t does not help, since searches in the code of third party libraries. There are far too many matches which are outside of my code.\n\nUp to now I use ctrl-shift-f `\u23b5Foo(`. (\u23b5 means \"space character\" here)\n\nThis works, but my gut feeling tells me that there could be an easier way.\n\nHow do you search for all methods called Foo?","upvote_ratio":0.45,"created_utc":1677135485.0},{"title":"How to handle errors in web services","author":"utkumetin","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1196rlt\/how_to_handle_errors_in_web_services\/","text":"Hello everyone,\n\nI know that Go language has a different error mechanism than other languages. But after the project structure started to grow, I saw that everyone handled this situation differently. To briefly explain my problem, I am writing a web service and I have different layers in my application, let's say storage, service and controller layers, I know that the service layer should not communicate with the outside world, so I can't return anything related to its response with HTTP code from this layer, in this case first in the storage layer. Do I need to create special errors that may occur (errors such as not found or duplicate) and check them in the service layer (again not found, duplicate or unauthorized), then again create special errors in the service layer and check them in the controller and return an HTTP response accordingly? Is there a practice or an example project on this subject that beginners can apply?","upvote_ratio":0.83,"created_utc":1677089571.0},{"title":"TUI Color Palette Generator","author":"nollie36oFlip","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119ezb3\/tui_color_palette_generator\/","text":"Hi all,\n\nI made a TUI program in Golang using Tview and colormind.io color palette API\n\nDue to work and having a baby at home, I have not had much time to code for fun. We had recently taken a vacation and I had a few days off to mess around with Go and wanted to share \ud83d\ude00 \n\n\nhttps:\/\/github.com\/Radical-Egg\/zeepo","upvote_ratio":1.0,"created_utc":1677102851.0},{"title":"what's the fastest go websocket server based on net\/http \uff1f","author":"lxzan123","url":"https:\/\/dev.to\/lxzan\/go-websocket-benchmark-31f4","text":"","upvote_ratio":0.5,"created_utc":1677127571.0},{"title":"dependency injection container with generics","author":"hobord","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11a164v\/dependency_injection_container_with_generics\/","text":"Hi, I created a dependency injection container module using generics which I wanted to share with You. \n\nIt might be helpful, or it might not. \n\nTake a look, I'm happy any response or contribution...\n\n[https:\/\/github.com\/hobord\/gdic](https:\/\/github.com\/hobord\/gdic)\n\nHere You can find the example usage:\n\n[https:\/\/github.com\/hobord\/gdic\/blob\/main\/example\/cmd\/main.go](https:\/\/github.com\/hobord\/gdic\/blob\/main\/example\/cmd\/main.go)","upvote_ratio":0.1,"created_utc":1677168073.0},{"title":"Remove duplicates from a slice","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118vnl1\/remove_duplicates_from_a_slice\/","text":"I like the [slices](https:\/\/pkg.go.dev\/golang.org\/x\/exp\/slices) package.\n\nI use this to remove duplicates from a slice:\n\n```\n\tslices.Sort(newTags)\n\tnewTags = slices.Compact(newTags)\n```\n\nIs it ok to do it like this?","upvote_ratio":0.89,"created_utc":1677064787.0},{"title":"architecture for a chat application","author":"the_tipsy_turtle1","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119mjo1\/architecture_for_a_chat_application\/","text":"I was trying to build a chat application backend in Golang and mongodb. I have background in SRE, not a lot of Golang dev apart from simple microservices.\nI can think of making repeated calls to the backend to retrieve new messages everytime the chats are opened, but I don't think that's the most efficient.\nI wanted to learn a more efficient and scalable architecture for interacting with the database. I saw socket programming and I thought are there any other architectures which give even better performance? I can look into RPC as well for providing a bi-directional flow. \nAny help\/advice or reading material would be appreciated.","upvote_ratio":0.67,"created_utc":1677121244.0},{"title":"What is this variable referring to ?","author":"mathiasme","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119bqdq\/what_is_this_variable_referring_to\/","text":"Hi everyone,\n\nI don't understand what the variable NormalizationMethodNotImplemented on line 129 is referring to in this code [https:\/\/github.com\/asafschers\/goscore\/blob\/master\/logistic\\_regression.go](https:\/\/github.com\/asafschers\/goscore\/blob\/master\/logistic_regression.go) \n\nThe only declaration is line 44 and it is commented out. I feel like it should throw an error but it does not and works as if not commented out and I get the error printed out. I feel like I'm missing something. I'm still a beginner so sorry if it is something basic.\n\nThank you very much for your help\/documentation\/suggestions","upvote_ratio":0.67,"created_utc":1677098021.0},{"title":"gRPC microservices communication in kubernates","author":"KrishKnight","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119v6cp\/grpc_microservices_communication_in_kubernates\/","text":" \n\n# gRPC client server communication in local\n\nIn .env of client I give the port number SERVER=:50051  \n, client make the request to server using using os.Getenv(\"SERVER\")\n\n# REST client server communication in kubernates\n\nI expose the server like this http:\/\/cloud-order-web:9005  \nIn .env of client put this key and value ORDER\\_SERVER=http:\/\/cloud-order-web:9005  \n,  \nclient make the request to server using os.Getenv(\"ORDER\\_SERVER\")+\"\/order\/items\"\n\n# How does gRPC client server communication in kubernates ?\n\nhow can gRPC client and server pods communicate inside kubernates ?  \nhow can I expose a gRPC server to be called by clients ? gRPC does not follow http protocols, then how should endpoint of gRPC server looks like ? I could not find any resources.\n\n# Can I expose gRPC server with url path like in REST\n\nis it possible to expose gRPC server like this (http:\/\/localhost:8000\/order\/items) without using gRPC gateway plugins ?\n\nI have written the codes of server and clients in Go, working fine in local, not working in kubernates, client is unable to call gRPC server.  \nMine Devops guy does not have any idea of gRPC, I am asking for resources to how expose a gRPC server and call by client in kubernates.","upvote_ratio":0.25,"created_utc":1677150689.0},{"title":"Wrapped Client pattern in Go","author":"guettli","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118t3yq\/wrapped_client_pattern_in_go\/","text":"I have seen this pattern in Go, if you talk to an API.\n\nFirst there is the \"real-client\" (which might be autogenerated code from OpenAPI). This code is usualy third party code which gets imported. It is not part of your project.\n\nTo make your code which uses the real client testable, you create an interface aka \"client-interface\".\n\nOne implementation of the interface is the wrapped-client, which has only very tiny methods which (one to three lines) which call the real-client.\n\nA second implementation of the interface is just for testing.\n\nI like this pattern, except that I am bit confused because there are four clients (real-client, client-interface, wrapped-client and mocked-client), and sometimes you need to think twice which client you are working with.\n\nNow I understood that in your application you always use the client-interface. Never the real client, except in the implementation of the wrapped-client.\n\nIs there a name for this pattern?\n\nAre there Go related blog posts about this pattern?\n\nDo you have hints about naming the four clients?","upvote_ratio":0.89,"created_utc":1677055307.0},{"title":"I wrote a URL shortener CLI tool that uses the bit.ly API","author":"jabbalaci","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1194lem\/i_wrote_a_url_shortener_cli_tool_that_uses_the\/","text":"You can find it here: https:\/\/github.com\/jabbalaci\/UrlShortener-go\n\nProvide the long URL, and it'll give you back the shortened bit.ly URL. If you want, you can copy the short URL to the clipboard. Optionally, the program can also create a local HTML file that shows the short URL using large fonts. This is useful if you do a presentation \/ lecture and you quickly want to share a link with your audience. The HTML file also contains a QR code pointing on your URL.","upvote_ratio":0.62,"created_utc":1677084477.0},{"title":"GitHub - Clivern\/Chaos: \ud83d\udc3a A Server Chaos Maker, Set up in Minutes.","author":"Clivern","url":"https:\/\/github.com\/Clivern\/Chaos","text":"","upvote_ratio":0.8,"created_utc":1677086456.0},{"title":"FastDB is an (persistent) in-memory key\/value store in Go.","author":"MarcelloHolland","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118vj97\/fastdb_is_an_persistent_inmemory_keyvalue_store\/","text":"See the readme.\n\n[https:\/\/github.com\/marcelloh\/fastdb](https:\/\/github.com\/marcelloh\/fastdb)\n\nOr read this:  \n\n\n[https:\/\/dev.to\/marcello\\_h\/fastdb-1dbd](https:\/\/dev.to\/marcello_h\/fastdb-1dbd)","upvote_ratio":0.86,"created_utc":1677064383.0},{"title":"Looking for a simple time series database (TSDB) or data structure library to store the key with associated \u201cany\u201d value?","author":"D3ntrax","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1193d20\/looking_for_a_simple_time_series_database_tsdb_or\/","text":"I\u2019m looking for a simple solution, library or advice to store the 1k+ keys with theirs associated \u201cany\u201d value. \n\nMy goal is to check whether the value is incremented or decreased or remained same. And run some mathematical formulas for all values by traversing the all time series.\n\nMy NON goal is to make my app is a TSDB. Run PromQL-like query expressions. Also I do NOT want to use external data store. So importing influxdb or prometheus packages would a bit overhead.\n\nMax retention time 24h or 1w is fine for in-memory case. I don\u2019t mind data persistence and reliability if processes get killed.\n\nThe type of the value for each key may vary: int, string, float, rune, etc.\n\nAny ideas on this?","upvote_ratio":0.8,"created_utc":1677081628.0},{"title":"Comparing Bob to other ORMs","author":"StephenAfamO","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118pw56\/comparing_bob_to_other_orms\/","text":"[A reply to a comment I made about how Bob compares to GORM](https:\/\/www.reddit.com\/r\/golang\/comments\/1170phw\/comment\/j9bi1jb\/?context=3) prompted me to make dedicated comparison pages.\n\nTo be clear, as the creator of Bob, there is obviously some inherent bias. However, I have tried to be as objective as possible in these comparisons.\n\n1. [Bob vs GORM](https:\/\/bob.stephenafamo.com\/vs\/gorm)\n2. [Bob vs SQLBoiler](https:\/\/bob.stephenafamo.com\/vs\/sqlboiler)\n3. [Bob vs Ent](https:\/\/bob.stephenafamo.com\/vs\/ent)\n4. [Bob vs Jet](https:\/\/bob.stephenafamo.com\/vs\/jet)\n\nLet me know if any part of this is incorrect, and which other ORMs you want to know how Bob compares to.\n\n[Bob's GitHub Repository](https:\/\/github.com\/stephenafamo\/bob)\n\n&#x200B;\n\n**EDIT:** Added a comparison to Ent  \n**EDIT:** Added a comparison to Jet","upvote_ratio":0.85,"created_utc":1677043474.0},{"title":"So, how do you use Go Guru with package libraries?","author":"shackra","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/119d2gv\/so_how_do_you_use_go_guru_with_package_libraries\/","text":"I'm trying to use [Go Guru](https:\/\/docs.google.com\/document\/d\/1_Y9xCEMj5S-7rv2ooHpZNH15JgRT5iM742gJkw5LtmQ) at work to investigate the source code we have. I have an acceptable grasping of the basics of this tool, i.e., how you are supposed to set up your `scope`.\n\nSo, the scope I set is `github.com\/example-company\/...,github.com\/example-company\/example-library\/v3` (this must reflect what's inside `go.mod`), then I try to use `callers` for a given private function `exampleFunction` and...\n\n    guru analysis scope has no main and no tests\n\nWell, yeah, of course there is no `main.go` file anywhere in this package, it is just a library after all.\n\nMy question is: how am I supposed to use Go Guru with package libraries in Go? I see my coworkers using GoLand (I use Emacs) and they can work find looking all the places where a function is called (without considering if the function is exported or private)\n\n## Edit\n\nif you are using lsp-mode in Emacs, you have most of the same features of Go Guru, for my question in particular, I can use `M-x lsp-treemacs-call-hierarchy RET` to show the places where a function under point is called. As you may imagine, `lisp-treemacs-` provide other commands like that.","upvote_ratio":0.67,"created_utc":1677099896.0},{"title":"Can I use a single mutex in two separate functions?","author":"Additional_Put69","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118udn2\/can_i_use_a_single_mutex_in_two_separate_functions\/","text":"Let's say I have some float, and two separate functions, one that applies \"ceil\" and the other applies \"floor\" but I run them together with two threads, can I use a single mutex without undefined results? Like is it going to block the other thread until the first one executes or that's not how it works and it's best to use a single setter function with a mutex and a single getter with ANOTHER mutex?","upvote_ratio":0.71,"created_utc":1677060210.0},{"title":"Log: A minimal, colorful Go logging library \ud83e\udeb5","author":"Maaslalala","url":"https:\/\/github.com\/charmbracelet\/log","text":"","upvote_ratio":0.93,"created_utc":1676988126.0},{"title":"Cache headers when serving embedded files","author":"spy16x","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118pqb2\/cache_headers_when_serving_embedded_files\/","text":"I am using this to serve some static files (a javascript app): \n\n```golang\n\n\/\/go:embed all:dist\/**\nvar distFS embed.FS\n\nfunc Handler() http.Handler {\n\tf, err := fs.Sub(distFS, \"dist\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\treturn http.FileServer(http.FS(f))\n}\n```\n\n(I am then mounting this on a chi router as `router.Mount(\"\/\", Handler())`)\n\nBut it looks like the `embed.FS` does not retain ModTime on files, so the `http.FileServer` ends up not adding any `Last-Modified` headers and browsers fetch these files every time.\n\nI want to enable caching for them. Since these static files always change together, I could make a middleware and send a single Etag\/timestamp value (generated at build-time) for each request handled by this handler. But I would also have to take care of the conditional headers sent by clients (e.g., If-Modified-Since) and respond with 304 if not modified. \n\nIs there any better way or well-tested middleware that I can directly use instead of building the complete http caching protocol?","upvote_ratio":0.77,"created_utc":1677042924.0},{"title":"HyperSDK goes live giving a foundation for GoLang developers to build high performance Virtual Machines on Avalanche","author":"thelaboredclerk","url":"https:\/\/medium.com\/avalancheavax\/introducing-hypersdk-a-foundation-for-the-fastest-blockchains-of-the-future-a6b1609a6862","text":"","upvote_ratio":0.33,"created_utc":1677088507.0},{"title":"Examples of an idiomatic API project","author":"0x4a0x750x610x6e","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118f8rs\/examples_of_an_idiomatic_api_project\/","text":"Hi,\n\nI'm new to Go and want to write an API using it. I know that the question of how to structure a Go project is frequently asked in this sub and controversial, so I would appreciate if you can give an example of a project that you consider idiomatic and that follows good practices, it doesn't matter if it is not yours, if it is a personal project or the dependencies of the project.\n\n&#x200B;\n\nThanks!","upvote_ratio":0.77,"created_utc":1677014015.0},{"title":"Using Tigris as an open source MongoDB Atlas alternative for Go applications","author":"ot-tigris","url":"https:\/\/www.tigrisdata.com\/blog\/tigris-mongodb-atlas-alternative\/","text":"","upvote_ratio":0.83,"created_utc":1677026504.0},{"title":"gorilla fork","author":"SupahAmbition","url":"https:\/\/blog.smantic.dev\/posts\/gorilla\/","text":"","upvote_ratio":0.55,"created_utc":1677014520.0},{"title":"sveltekit vs Go gin framework","author":"Dry_Revenue_7526","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118hlh2\/sveltekit_vs_go_gin_framework\/","text":"Hi, I am thinking to use Go and Gin framework to build API  for learning purpose and Svelte as front end framework. I see there is sveltekit which help to build webapps using svelte. I am confused that should i have my router logics in sveltekit or in gin.? What is the advantage of using sveltekit ? please advice.","upvote_ratio":0.67,"created_utc":1677019691.0},{"title":"How to improve logger performances ?","author":"simbapk","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1181tfb\/how_to_improve_logger_performances\/","text":"The [go.uber.org\/zap](https:\/\/go.uber.org\/zap) logger is incredibly fast.And just out of curiosity I'm trying to figure out how.To do this, I wrote a string-only processing function :\n\n    type Label struct {\n        Key   string\n        Value string\n    }\n    \n    func Info(msg string, labels ...Label) {\n        var b bytes.Buffer\n    \n        b.WriteString(time.Now().Format(\"2006-01-02 15:04:05\"))\n        b.WriteString(\" [INFO] \")\n        b.WriteString(msg)\n    \n        for i := range labels {\n            b.WriteByte(' ')\n            b.WriteString(labels[i].Key)\n            b.WriteByte(':')\n            b.WriteString(labels[i].Value)\n        }\n        b.WriteByte('\\n')\n    \n        os.Stdout.Write(b.Bytes())\n    }\n\nI benchmarked my function against the [go.uber.org\/zap](https:\/\/go.uber.org\/zap) logger :\n\n    func BenchmarkInfo(b *testing.B) {\n        b.ReportAllocs()\n        b.ResetTimer()\n        for i := 0; i < b.N; i++ {\n            Info(\"This is a test\", Label{Key: \"foo\", Value: \"bar\"}, Label{Key: \"id\", Value: \"1234\"})\n        }\n    }\n    func BenchmarkZap(b *testing.B) {\n        b.ReportAllocs()\n        b.ResetTimer()\n        logger, _ := zap.NewProduction()\n        defer logger.Sync()\n        for i := 0; i < b.N; i++ {\n            logger.Info(\"This is a test\",\n                zap.String(\"foo\", \"bar\"),\n                zap.String(\"id\", \"1234\"),\n            )\n        }\n    }\n\nHere are the results :\n\n    zap :               7724358        135.0 ns\/op       130 B\/op          1 allocs\/op\n    My function :        214462         5528 ns\/op        88 B\/op          2 allocs\/op\n\nzap uses sync.Pool to optimize allocations, which I don't.It doesn't have much difference in terms of allocation and B\/op memory.\n\nWhat I'm trying to figure out is the speed difference. Yet I usesimple a bytes buffer, and zap also works with an array of bytes. So Idon't really understand where the optimization can come from.\n\n&#x200B;\n\nDoes someone have an idea ?\n\nIs there any other way to improve my function ?\n\n&#x200B;\n\nFrom an enthusiast. :)\n\n&#x200B;\n\nNotes : Just for the record,  I also tried with `strings.Builder()`, but `bytes.Buffer` was better in my case in term of allocs\/op and B\/op.\n\n    func InfoStringBuilder(msg string, labels ...Label) {\n        var logBuilder strings.Builder\n    \n        logBuilder.WriteString(time.Now().Format(\"2006-01-02 15:04:05\"))\n        logBuilder.WriteString(\" [INFO] \")\n        logBuilder.WriteString(msg)\n    \n        for i := range labels {\n            logBuilder.WriteByte(' ')\n            logBuilder.WriteString(labels[i].Key)\n            logBuilder.WriteByte(':')\n            logBuilder.WriteString(labels[i].Value)\n        }\n    \n        logBuilder.WriteByte('\\n')\n    \n        os.Stdout.WriteString(logBuilder.String())\n    }\n\nBenchmark result :\n\n    string.Builder : 175395\t      5794 ns\/op\t     192 B\/op\t       4 allocs\/op","upvote_ratio":0.85,"created_utc":1676980869.0},{"title":"Simple interactive tool to use Makefile","author":"AmphibianExtra2762","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1181qww\/simple_interactive_tool_to_use_makefile\/","text":"A simple tool to use Makefile and execute targets by selecting from the list as follows -\n\nBasically all the targets will appear on the window with their description and user can select from the list which needs to be executed and by pressing \\`enter\\` the target will be executed.\n\n[https:\/\/github.com\/ganeshdipdumbare\/tuimake](https:\/\/github.com\/ganeshdipdumbare\/tuimake)\n\nIt uses bubbletea and it is easy to use. Just need to have the targets with their descriptions.\n\n&#x200B;\n\n[https:\/\/github.com\/ganeshdipdumbare\/tuimake\/blob\/main\/demo.gif](https:\/\/github.com\/ganeshdipdumbare\/gmake\/blob\/main\/demo.gif)\n\n&#x200B;\n\nSuggestion\/improvements are welcome :) ","upvote_ratio":0.82,"created_utc":1676980637.0},{"title":"Build Efficient APIs in Go with GraphQL and gqlgen","author":"wmmaina","url":"https:\/\/medium.com\/the-godev-corner\/build-efficient-apis-in-go-with-graphql-and-gqlgen-d8cbcb5edcfa","text":"","upvote_ratio":0.9,"created_utc":1676953862.0},{"title":"Interesting Features","author":"theEccentricDev","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118g60j\/interesting_features\/","text":"I have been using go for creating server side web applications for a while, and it is starting to become a bit boring working with the same stuff over and over again.\n\n\nSuggest some interesting things to create in go, along with what could be used to create them that are really not talked about, at-least by newcomers.","upvote_ratio":0.57,"created_utc":1677016273.0},{"title":"Issues with gorilla mux and gorm. io to interact with my postgresql db","author":"Noble_martins","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/118sla0\/issues_with_gorilla_mux_and_gorm_io_to_interact\/","text":"I've been experiencing lots of errors lately while trying to make requests on my rest api that I designed using gorm. io and gorilla mux. Any time I make POST requests it doesn't upload the data to my postgresql db and when I make GET requests I get the error in postman \"Error:socket hang up\". Any suggestions on what to do and how to resolve it.","upvote_ratio":0.3,"created_utc":1677053318.0},{"title":"I built a transpiler","author":"betelgeuse_7","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117z46m\/i_built_a_transpiler\/","text":"Hello. \n\nI built a simple transpiler that transpiles a toy language to Go. I built this to learn about parsing, and typechecking etc., since I want to build a more complicated compiler that outputs assembly programs for a more \"real-world\" language (my own language). \n\nThe code is not that good. Especially the static analyzer code... There are some bugs in the code generator, but I kind of got bored, and they are not -at all- hard to fix.\n\nIf there are beginner people interested in this kind of stuff, they can check it out. \n\nThe repository: [https:\/\/github.com\/betelgeuse-7\/quoi](https:\/\/github.com\/betelgeuse-7\/quoi\/)","upvote_ratio":0.89,"created_utc":1676970621.0},{"title":"Boilerplate: Go + Gin + Air + Docker","author":"SpicyCibo","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1180g8t\/boilerplate_go_gin_air_docker\/","text":"[https:\/\/github.com\/tobyscott25\/gin-air-docker-boilerplate](https:\/\/github.com\/tobyscott25\/gin-air-docker-boilerplate)\n\nA containerised Gin app boilerplate, with a containerised development environment using Air and Docker Compose.\n\nI find myself re-writing this boilerplate code for all new projects I start. Hope this saves you some time in your next Go\/Gin project! :)","upvote_ratio":0.7,"created_utc":1676975854.0},{"title":"How can goroutines be more scalable than kernel threads, if the kernel threads only use a few pages of physical memory?","author":"sam-the-unsinkable","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117a4x7\/how_can_goroutines_be_more_scalable_than_kernel\/","text":"I've been studying the way goroutines work under the hood and I'm confused about the memory usage benefits from goroutines.\n\nFrom what I've read, one of the most cited advantages of goroutines is that it only allocates [2kb of memory](https:\/\/github.com\/golang\/go\/blob\/f296b7a6f045325a230f77e9bda1470b1270f817\/src\/runtime\/stack.go#L72) of stack per goroutine, which grows dynamically according to usage, while kernel threads allocate a few MB of memory ([Linux](https:\/\/man7.org\/linux\/man-pages\/man3\/pthread_create.3.html#notes), [Windows](https:\/\/learn.microsoft.com\/en-us\/windows\/win32\/procthread\/thread-stack-size)) by default, depending on the platform.\n\nBut from what I can understand, the few megabytes allocated by the kernel threads are allocated in virtual memory and initially only two pages are allocated in physical memory (one for the stack and one guard page), which would total 8kb in a system with 4kb pages. The OS then allocates more stack pages on demand until it reaches the total allocated virtual memory. This seems to be true both on [Linux](https:\/\/unix.stackexchange.com\/questions\/127602\/default-stack-size-for-pthreads\/280865#280865) and [Windows](https:\/\/learn.microsoft.com\/en-us\/windows\/win32\/procthread\/thread-stack-size).\n\nShouldn't this give only a 4x reduction in memory usage of goroutines when compared to kernel threads? (which is a pretty big reduction, but not in the order that's often advertised in online articles)\n\nI also understand that goroutines avoid some overheads from context switching that are necessary in kernel threads, since they avoid some userspace to kernel transitions. But [in this article](http:\/\/web.archive.org\/web\/20230205210339\/https:\/\/inside.java\/2020\/08\/07\/loom-performance\/), Ron Pressler argues that the majority of the scalability benefits from user level threads comes from being able to do more things concurrently (due to less memory usage), rather than the elimination of task switching overheads.\n\nSo am I correct in believing that there would be only a ~4x improvement in scalability by using goroutines? are there other limits in play that reduces the scalability of kernel threads?\n\nEDIT: My knowledge of operating systems concepts is quite rusty so there might be incorrect information in my question, particularly with regards to how the physical memory of threads are allocated. But I believe the question is still valid since the idea of the OS not immediately allocating a couple megabytes of physical memory seems to be true.\n\n---\n\nEDIT: If anyone is still interested. After researching a little bit more, it seems like the advantages of goroutines come down to having better granularity and being able to shrink the stack size.\n\nOn [this HN thread](https:\/\/news.ycombinator.com\/item?id=24081713), someone argued the same thing as me:\n\n> ...; Take stack size for example: assuming the kernel stack is 10kB, if your thread itself uses 10kB of stack, you've cut the theoretical memory advantage of M:N down from the cited 1000x to a mere 2x\u2026\n\nTo which Ron Pressler answered:\n\n> Ah, except that's not so easy to do. It's very hard to have \"tight\" stacks that are managed by the kernel for the reasons I mentioned here: (link to answer which I copy pasted below)\n\n> Once a page is committed, it cannot be uncommitted until the thread dies, because the OS can't be sure how much of the stack is actually used. It cannot even assume that only addresses above sp are used. Also, the granularity is that of a page, which could be significantly larger than a whole stack of some small, \"shallow\" thread, and we want lots of small threads.\n\nThis seems to be inline with Joe Armstrong says around 13 mins in [this presentation about Erlang](https:\/\/www.infoq.com\/presentations\/erlang-software-for-a-concurrent-world\/).\n\n> It's threads aren't in the programming language, threads are something in the operating system \u2013 and they inherit all the problems that they have in the operating system. One of the problems is granularity of the memory management system. The memory management in the operating system protects whole pages of memory, so the smallest size that a thread can be is the smallest size of a page. That's actually too big.","upvote_ratio":0.96,"created_utc":1676907391.0},{"title":"Modifying Fields on Pointer Structs and Pointer Embedded Structs","author":"savsaintsanta","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1188fb5\/modifying_fields_on_pointer_structs_and_pointer\/","text":"Hello,\n\nIm new to GoLang and trying to read and the edit a sections (and data directories) of Win32 PEs as an attempt to modify them in place.\n\nI found Go's stdlib had a nifty library for parsing (https:\/\/docs.studygolang.com\/src\/debug\/pe\/) this into a struct of type `File`\n\nWhilst using the library. I came upon an issue though as certain fields are stored as pointers or arrays of pointers to embedded structs( see File.[Sections](https:\/\/docs.studygolang.com\/src\/debug\/pe\/section.go) and File.[Symbols](https:\/\/docs.studygolang.com\/src\/debug\/pe\/symbol.go))\n\nMy intention is to extend the File struct directly and add a `WriteNewPEToDISK()`function to it so that it could parse itself and use `io` to convert and write the raw bytes into new PE\/EXE\/DLL to disk with the modifications.\n\nI am up a against a dilemma tho as how to approach. Im assuming I should use `reflect` to edit these pointer struct field however wondering if anyone has any info on how it would work with the embedded structs, if anyone has examples? Or should i go about this in a different manner?","upvote_ratio":1.0,"created_utc":1676996682.0},{"title":"Server sent events","author":"dervaish19","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117utq9\/server_sent_events\/","text":"if want to send stream of data from server but grpc and websockets are overwhelming for you then \"Server sent events\" might be a good option.\ud83d\udcbb\n\nIt's not that different from normal http based rest-request, you only need to change content type and data format on server side.\ud83d\udcf2\n\nBrowsers have EventSource api that can help you receive this data seamlessly.\ud83d\udce9\n\nClient can process each batch of data before other is received \n\nEdit: added code snippet \n\nServer\n\n\/\/ header\n\nres.setHeader(\"Content-Type\", \"text\/event-stream\")\n\n\/\/ data formatting should be withing loop\n\nres.write(\"data:\", `hello from server \\n\\n`)\n\nClient \n\n\/\/ init\n\nconst sse=new EventSource(\"http:\/\/localhost:8080\/endpoint-name\")\n\n\/\/ to display result for every received batch.\n\nsse.onmessage = console.log","upvote_ratio":0.71,"created_utc":1676955121.0},{"title":"how do you folks manage config for your microservices? are there any best practices?","author":"gmercer25","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1184t0q\/how_do_you_folks_manage_config_for_your\/","text":"right now i have a few microservices and i run them using makefiles, the makefile has a \\`run\\` command with several flags to run the binary with but as env variables and flags grow it is becoming very unscalable. right now one such service has like 15 flags. What are some alternatives to this? I am very new to this please help.","upvote_ratio":0.33,"created_utc":1676989973.0},{"title":"TCP server \/ client","author":"barackobamafootcream","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1184aec\/tcp_server_client\/","text":"I want to be able to make multiple requests from the client to the server but also receive messages from the server at any point. \n\nWhat I\u2019m not understanding is, I dial the server from the client and in a loop send the request and wait for the response. The loop is so I can read another entry from the terminal to send another request to the server and get the response.  \n\nBut how can I use the same connection  on the client to wait for a message response from the server which could be sent at any time.  \n\nI\u2019m stuck with the write \/ read from the original connection. Do in need to raise a separate connection to the server after the initial response? Sorry if this is a mess brain is totally fried today.","upvote_ratio":0.6,"created_utc":1676988570.0},{"title":"Different usecases of bufio and bytes.Buffer","author":"Neat_Speaker_7636","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1182odd\/different_usecases_of_bufio_and_bytesbuffer\/","text":"Hello Gophers,\n\nI'm learning Golang and recently, I learnt about bytes.Buffer and bufio packages. I understand them. But I'm not sure where to use bufio and bytes.Buffer.  I'm looking for some examples that give some ideas of  optimal use.  Could you please share some optimal usecases of bufio and bytes.Buffer?\n\nThanks in advance.","upvote_ratio":0.6,"created_utc":1676983779.0},{"title":"Hello, I have just started learning the go language.I work from w3schools.I don't understand how we found 24 here","author":"BatuuhanCln","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1181wjq\/hello_i_have_just_started_learning_the_go\/","text":" package main  \nimport (\"fmt\")   \n\nfunc main(){\n\nfmt.Println(testCount(4))\n\n}\n\nfunc testCount(x float64) (y float64) {  \n if x > 0 {  \n\u00a0 \u00a0 \u00a0 \u00a0 y = x \\* testCount(x-1)  \n\u00a0 \u00a0 } else {  \n\u00a0 \u00a0 \u00a0 \u00a0 y = 1  \n\u00a0 \u00a0 }  \n return  \n}","upvote_ratio":0.54,"created_utc":1676981158.0},{"title":"GitHub - elgs\/gosqlapi: Turns any SQL database into a RESTful API.","author":"parttimedeveloper","url":"https:\/\/github.com\/elgs\/gosqlapi","text":"","upvote_ratio":0.5,"created_utc":1676977542.0},{"title":"go quirks & tricks, pt 2","author":"efronl","url":"https:\/\/eblog.fly.dev\/quirks2.html","text":"","upvote_ratio":0.8,"created_utc":1676917688.0},{"title":"Cross-compiled Hello world run from Windows Prompt reboots the VM","author":"robin92pl","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1180cw8\/crosscompiled_hello_world_run_from_windows_prompt\/","text":"Hello fellow Gophers,\n\nI am having a hard time figuring out why the Hello World App causes the Windows virtual machine to reboot when run from Windows Prompt (cmd). Interestingly, it does work when the executable is double-clicked from Windows Explorer.\n\nThe code is quite simple\n\n    package main\n\n    import \"fmt\"\n\n    func main() {\n    \tfmt.Println(\"Hello, world!\")\n    }\n\nI compile it on Ubuntu and target Windows\n\n    GOOS=windows GOARCH=amd64 go build helloworld.go\n\nAny ideas what's up?","upvote_ratio":0.33,"created_utc":1676975490.0},{"title":"multi line regex help","author":"good_effective_flow","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117odai\/multi_line_regex_help\/","text":"Hi, I am trying to get the cpu temps from \\`sensors\\` output and i have my regex working in an online regex editor (linked) but I am unable to get it working in Go. It feels like the problem is something silly but i cannot spot it. Is this a multi-line match problem? Or a problem with the capture group? I have the regex editor set to Golang (for whatever thats worth). In the end i just want to get the numeric temperatures \\[44.0, 46.0, ...\\]. Thanks for any help\n\n[https:\/\/regex101.com\/r\/Svcy3y\/1](https:\/\/regex101.com\/r\/Svcy3y\/1)\n\n[https:\/\/go.dev\/play\/p\/\\_mX6xoH3Go9](https:\/\/go.dev\/play\/p\/_mX6xoH3Go9)","upvote_ratio":0.89,"created_utc":1676936454.0},{"title":"GitHub - psilva261\/opossum: Rudimentary web browser written in Golang","author":"koavf","url":"https:\/\/github.com\/psilva261\/opossum","text":"","upvote_ratio":1.0,"created_utc":1676909595.0},{"title":"A go language low code solution to generate enterprise level web service code","author":"goSponge","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117ylnq\/a_go_language_low_code_solution_to_generate\/","text":"github address: [**https:\/\/github.com\/zhufuyi\/sponge**](https:\/\/github.com\/zhufuyi\/sponge)\n\nOnline code generation demo: [https:\/\/go-sponge.com\/ui\/web-http](https:\/\/go-sponge.com\/ui\/web-http)","upvote_ratio":0.5,"created_utc":1676968605.0},{"title":"A FREE course on Design Patterns in Golang! Need feedback","author":"alyk1234","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117xexm\/a_free_course_on_design_patterns_in_golang_need\/","text":"I've made a free course on Golang design patterns. I would really love your feedback on the same. I've added examples of design patterns from codebases like Kubernetes, Hashicorp Consul etc to provide more real life examples.\n\n[https:\/\/techwithaly.ongraphy.com\/courses\/Design-Patterns-in-Golang-63cf986ee4b0af8efbf84334](https:\/\/techwithaly.ongraphy.com\/courses\/Design-Patterns-in-Golang-63cf986ee4b0af8efbf84334)\n\nWould appreciate your feedback!","upvote_ratio":0.5,"created_utc":1676964057.0},{"title":"dep-tree - a tui application for rendering your TS\/JS project's dependency tree written in Go","author":"GabrielMusat","url":"https:\/\/github.com\/gabotechs\/dep-tree","text":"","upvote_ratio":0.74,"created_utc":1676926009.0},{"title":"Should I take the Ardan Labs course? If yes, then which one?","author":"KledMainSG","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117wnm7\/should_i_take_the_ardan_labs_course_if_yes_then\/","text":"Hello guys im currently working as a fullstack developer for a serbian company remotely with 1.5 years of experience in Javascript. Most of my knowledge is around frontend. But ive recently got pretty used to backend(nodejs). I am working with DB or business logic on graphql resolvers with ease. But then suddenly got hit by huge imposter syndrome when my senior engineers starts talking about proxy, servers, load balancer, message broker etc etc. I know I can learn them seperately but still a good organised course will really help me out from this imposter syndrome. And I always had the knack for Go and my next target is to try getting a job where they use Go. I already know the syntax of Go.  \n\n\nSo which Ardan Labs course should I take? I found this bundle: [https:\/\/courses.ardanlabs.com\/bundles\/high-performance-bundle](https:\/\/courses.ardanlabs.com\/bundles\/high-performance-bundle).","upvote_ratio":0.56,"created_utc":1676961225.0},{"title":"When to use a queue library or straight redis?","author":"technics256","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117hm9n\/when_to_use_a_queue_library_or_straight_redis\/","text":"I have a REST API that will be kicking off some long running jobs. \n\nSome will be about 10-30 minutes in length or so, and some will be about ~5 minutes.\n\nI'm wondering when it's good to use Redis directly, or a library like  asynq, a broker like RabbitMQ, etc?\n\nThanks!","upvote_ratio":1.0,"created_utc":1676920298.0},{"title":"Is there any Go course or resource covering this many topics?","author":"KledMainSG","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117z9of\/is_there_any_go_course_or_resource_covering_this\/","text":"Hey guys im a backend developer who is trying to learn some advanced basic concepts of backend and go beyond just CRUD. I found this repo which talks about many topics: [https:\/\/github.com\/tpphu\/golang-training](https:\/\/github.com\/tpphu\/golang-training). Is there any other courses like this one? Because this one is I guess in Vietnamese language.","upvote_ratio":0.25,"created_utc":1676971261.0},{"title":"IT Certs and Golang","author":"elkcityhazard","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117q8ax\/it_certs_and_golang\/","text":"I really want to make myself stand out to potential employers and am considering getting some comptia certs.  I don't want to leave the domain of web applications but I feel that having security+ and network+ would be a value add to my skillset for furthering my career as a web application developer.  Does anyone have any experience in this?  What would be the most beneficial certs to get for a golang developer with 1 year of professional golang development experience?","upvote_ratio":0.5,"created_utc":1676941515.0},{"title":"Double down on python or learn Go","author":"SuperLucas2000","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116tx6o\/double_down_on_python_or_learn_go\/","text":"Hello all, for my role i used to use python mostly for automation or or simple backends APIs (mostly fastAPI), im to the point that im confortable with python. But tasks are becoming more strict and larger, my role is becoming more about building microservices, building more complex APIs, etc. management doesnt care what language\/framework i use as long as it works, so i can double down on python and continue using it, or learn go and switch to it, hoping concepts will apply to it and wont be that hard to switch.","upvote_ratio":0.85,"created_utc":1676855867.0},{"title":"Is it the correct way of use goroutines?","author":"frivolta","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117ltms\/is_it_the_correct_way_of_use_goroutines\/","text":"Hey guys I recently made a small saas using go as be for the first time ([https:\/\/jobgenie-ai.com](https:\/\/jobgenie-ai.com)). I found myself in the need of calling openapi which has a really slow api (it takes 1 min to answer). Since I need to make \"x\" number of calls to the same service I thought I could use a goroutine to lower the answer time from x\\*1min to 1 min making parallels calls and store the results in a channel.\n\nSince in my first try I used a defer to close the channel and sometimes I had an error saying i was trying to write in a closed channel I changed my code a bit, is it the correct way to do it (in particular using WaitGroup)? Is it the correct situation to use goroutines?\n\n    func GetAllQaResponses(req questionsFromJobDescription, qts []db.QuestionType, k string, server *Server) (map[db.QuestionType]QAResponse, error) {\n    \t\/\/ create a map to store the responses\n    \tresponses := map[db.QuestionType]QAResponse{}\n    \n    \t\/\/ create a channel to receive the results of each goroutine\n    \tresults := make(chan QAResponse)\n    \tvar wg sync.WaitGroup\n    \n    \t\/\/ start a goroutine for each question type\n    \tfor qt, promptFunc := range aiGenerator.QuestionTypePrompts {\n    \t\twg.Add(1)\n    \t\tgo func(qt db.QuestionType, promptFunc func(jt string, jd string) string) {\n    \t\t\tdefer wg.Done()\n    \t\t\tres, err := GetQaResponse(req, qts, k, qt, server, promptFunc)\n    \t\t\tif err != nil {\n    \t\t\t\tlog.Println(err)\n    \t\t\t}\n    \t\t\t\/\/ send the result to the channel\n    \t\t\tresults <- res\n    \t\t}(qt, promptFunc)\n    \t}\n    \t\/\/ wait for all goroutines to finish\n    \tgo func() {\n    \t\twg.Wait()\n    \t\tclose(results)\n    \t}()\n    \t\/\/ collect the results from the channel and store them in the map\n    \tfor res := range results {\n    \t\tresponses[res.QuestionType] = res\n    \t}\n    \n    \treturn responses, nil\n    }","upvote_ratio":0.5,"created_utc":1676930234.0},{"title":"Kronos: schedule your recurring webhooks invocation with failure notifications","author":"Affectionate-Wind144","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1170iio\/kronos_schedule_your_recurring_webhooks\/","text":"Hello, everyone, I made an opensource project which allows you to invoke your webhook periodically or at any given date.\nIt supports a straightforward REST API and email failure notifications.\nThe software is meant to run as a standalone service (Docker image is also provide).\nI hope you like it and give me any useful suggestion to improve it :=)\n\nGitHub link: https:\/\/github.com\/ostafen\/kronos","upvote_ratio":1.0,"created_utc":1676877573.0},{"title":"Arche -- A simple, archetype-based ECS for Go\/Golang","author":"mlange-42","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1173zzh\/arche_a_simple_archetypebased_ecs_for_gogolang\/","text":"Arche is an archetype-based ECS for Go: https:\/\/github.com\/mlange-42\/arche\n\nI developed Arche due to a lack of fast and mature ECS implementations in Go. It is primarily designed for building (individual-based) simulation models rather than games.\n\nArche's features:\n\n- Simple core API. See the [API docs](https:\/\/pkg.go.dev\/github.com\/mlange-42\/arche).\n- Optional rich filtering and generic query API.\n- Fast iteration and component access via queries (\u22482.5ns iterate + get).\n- Fast random access for components of arbitrary entities. Useful for hierarchies.\n- No systems. Just queries. Use your own structure!\n- Not thread-safe. On purpose.\n- No dependencies. Except for unit tests (100% coverage).\n\nYour feedback is highly appreciated!","upvote_ratio":0.86,"created_utc":1676891253.0},{"title":"Help me understand something about anonymous functions","author":"Nicnl","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1172ao5\/help_me_understand_something_about_anonymous\/","text":"Hello all,\n\nI've been writing Go for many years now, but there's something that I can't wrap my head around.  \nIt involves anonymous functions.  \nInstead of a long talk, here's an example code:\n\n    func generatePrinter(message string) func() {\n    \treturn func() {\n    \t\tfmt.Print(message)\n    \t}\n    }\n    \n    func main() {\n    \tf1 := generatePrinter(\"Hello \")\n    \tf2 := generatePrinter(\"world\")\n    \tf3 := generatePrinter(\"!\")\n    \n    \tfmt.Println(f1, f2, f3)\n     \n    \tf1()\n    \tf2()\n    \tf3()\n    }\n\nThis code produces the following output:\n\n    0x4812a0 0x4812a0 0x4812a0\n    Hello world!\n\nHow does anonymous functions work internally, when they have different arguments?  \nIt seems they're all the same function, because all three are printed as `0x4812a0`.  \nBut executing them (expectedly) yields different results.\n\nIn other languages, such as Javascript, it's not shoking to me since everything is interpreted anyway.  \nBut Go is a compiled language, and something about anonymous functions with different arguments IN A COMPILED LANGUAGE is mind-boggling to me.\n\nHow does it work? It looks like magic","upvote_ratio":0.64,"created_utc":1676884583.0},{"title":"Can't unset GOROOT","author":"SwimmerUnhappy7015","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117lbg9\/cant_unset_goroot\/","text":"I was just playing around with the go env variables and ran this command:  \n`go env -w GOROOT=\/opt\/homebrew\/bin\/go`\n\nNow I can't run any go commands as I get this error. Can't even unset it with -u flag using go env \ud83d\ude33:  \n`go: cannot find GOROOT directory: \/opt\/homebrew\/bin\/go`\n\nI have a M1 MacBook. Things I have already tried:\n\n* Uninstalling Go with brew uninstall and then reinstalling\n\nAny ideas?","upvote_ratio":0.25,"created_utc":1676929041.0},{"title":"Channels passing methodology","author":"Funny_Ad3170","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1177dnf\/channels_passing_methodology\/","text":"Came across an interesting experience with channels....\n\ncreated a channel expecting a struct reference via normal make process and passed it to 100 goroutines. I noticed that the goroutines would never finish....until i added the deref operator...so like so  \n\n\ningestionChannel := make(chan \\*models.ResultMessage)  \n\n\nfunc whatever(ingestionChannel chan \\*models.ResultMessage){  \ningestionChannel <- &models.ResultMessage{}\n\n}  \n\n\n\\^ did not work  \n\n\n  \nfunc whatever(ingestionChannel \\*chan \\*models.ResultMessage){  \n\\*ingestionChannel <- &models.ResultMessage{}\n\n}  \n\n\n\\^ this worked  \n\n\nonly thing i could come up with is the channel was copied the first go around....just trying to confirm my suspicion","upvote_ratio":0.75,"created_utc":1676901630.0},{"title":"Hey! Guy made a Go wallpaper manager with wallhaven.cc site","author":"rj0_1_","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/117duto\/hey_guy_made_a_go_wallpaper_manager_with\/","text":"Here is the link of the repo [go-wallhaven](https:\/\/github.com\/coderj001\/go-wallhaven) . I will be happy to hear some suggestions.","upvote_ratio":0.62,"created_utc":1676912516.0},{"title":"understanding a opensource project - golang beginner","author":"radhar4","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116vqtm\/understanding_a_opensource_project_golang_beginner\/","text":"I am looking for a walkthrough of any golang opensource project to understand how the code is written. I learnt concepts of golang and tried some programs. I have built some simple projects and as next step in my learning journey, I want to contribute to golang projects in opensource community mostly in devops\/Kubernetes area. I tried to understand a project but the code was complex. So tried to look for some walkthrough of some project in youtube but didnt get anything much.. Any help on this please? I am really passionate in taking my learning journey to next step.","upvote_ratio":0.74,"created_utc":1676861280.0},{"title":"How to generate multi golang file for Web MVC","author":"Looking-for-future","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1177e1x\/how_to_generate_multi_golang_file_for_web_mvc\/","text":" Personally, I think the *MVC structure* of web projects are all connected, and this part of the web project structure should be *generated* by go code, such as through the model structure to generate controllers and services, or through non-go files, such as sql statements. \n\nI have used [stringer](https:\/\/github.com\/golang\/tools\/cmd\/stringer) to generate enum, which can be used to generate a file, but to generate mvc related files, for scalability, you may need to *generate multiple files*, please ask if there is a project or library that can be studied","upvote_ratio":0.67,"created_utc":1676901656.0},{"title":"Why is the principle stating that \"interfaces should belong to the package that uses values of the interface type, not the package that implements those values\" sometimes violated?","author":"Sh_Iluha","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116kmo0\/why_is_the_principle_stating_that_interfaces\/","text":"While exploring popular projects such as [etcd](https:\/\/github.com\/etcd-io\/etcd) and especially [traefik](https:\/\/github.com\/traefik\/traefik), I noticed a violation of the principle that states \"interfaces should belong to the package that uses values of the interface type, not the package that implements those values.\" For example, [Here](https:\/\/github.com\/traefik\/traefik\/blob\/e54ee89330a800d509da7b11b46a6ecbb331e791\/pkg\/server\/service\/managerfactory.go#L17) we can see that `ManagerFactory` import `Registry` interface that placed [here](https:\/\/github.com\/traefik\/traefik\/blob\/e54ee89330a800d509da7b11b46a6ecbb331e791\/pkg\/metrics\/metrics.go#L14) and implementations of this interface in the same package, which violates the aforementioned principle. Even if the interface is simply a specification, it should still be defined on the consumer side. Is it considered bad practice to follow what traefik does in this case or I doesn't understand somthing?  \nP.S. I'm newcomer, so sorry if it's silly question.","upvote_ratio":0.9,"created_utc":1676832547.0},{"title":"Questions about Interfacing for Unit-Tests","author":"ZobbL","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1170ru8\/questions_about_interfacing_for_unittests\/","text":"Hi there,\n\nIn a recent unit-test I had to mock\/stub a sql.Tx\n\nThere, I asked myself: How far do you go with Interfacing just for the sake of unit tests?\n\nLet me explain:\n\nlets assume I have a simple \"Handler\" like this:\n\n    type Handler struct {\n        tx *sql.Tx\n    }\n    func NewHandler(tx *sql.Tx) ...\n    ...\n    NewHandler(myTx) \/\/ all good - created by sql.Db\n\n\nThis is not easily testable\n\nTherefore one approach could be the following:\n    \n    type TxInterface interface {\n        Begin() error\n        ...\n        Exec() (*sql.Stmt, error)\n        ...\n    }\n    type Handler struct {\n       tx TxInterface \/\/bad name - just for my question\n    }\n\n    func NewHandler(tx TxInterface) ...\n    NewHandler(myTx) \/\/ still all good - *sql.Tx satisfies this interface\n\n\nMy thought is: I interfaced the ```sql.Tx``` - now my ```NewHandler(tx)``` is testable (assume it is worth testing), but this feels just \"half-way\".\n\nTo be thorough, I should also interface ```sql.Stmt``` and therefore every return value I need including ```sql.Rows``` and so on.\n\n**My question is:** \nDo you start interfacing EVERYTHING all the way down \/ the complete definition, including the ```*sql.Stmt``` and so on?\n\nIt's a rabbit hole. Maybe Im not thinking about this the right way and maybe the sql-package is a bad example, but I need some input on this.\n\n\nThank you in advance","upvote_ratio":0.75,"created_utc":1676878571.0},{"title":"How to create dynamic routes in golang (in any framework or standard library)?","author":"spbaniya","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1170ib5\/how_to_create_dynamic_routes_in_golang_in_any\/","text":"I am trying to think of a system like CMS that would build APIs and forms dynamically based on the OpenAPI schema without any golang codes.\n\nPlease suggest som libraries or ideas for me to further investigate and achieve as above.","upvote_ratio":0.67,"created_utc":1676877552.0},{"title":"Tips to write \"cleaner code\" for future contributors in my job's codebase?","author":"davlumbaz","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1170dyi\/tips_to_write_cleaner_code_for_future\/","text":"Hey. \n\nI am working as an intern in a company, and the company is small as fuck. Like we are 10-15 people in total? And I am assigned for building some niche microservices. then they told me that language doesn't matter as long as it works.\n\n... I picked Go. and no one else knows Go right now. How can I write technical documentation in the best way possible, or how can I write a \"cleaner\" code so that even a total beginner GoLang programmer can understand this all? (in the case, if they hire a GoLang dev in the future)\n\nCurrently using Rod and Fiber library, if it even matters.\n\nI need general advice on this topic, can't share the full code. Thanks.","upvote_ratio":1.0,"created_utc":1676877088.0},{"title":"Web Development em Go - Parte 02 #golang #webdevelopment (Language: PT-BR)","author":"robsongomes84","url":"https:\/\/youtube.com\/watch?v=1FnNJ9hgO4M&feature=share","text":"","upvote_ratio":0.43,"created_utc":1676900939.0},{"title":"Golang Mail Sender Library","author":"veyselaksin","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116axqn\/golang_mail_sender_library\/","text":"Heyy everyone I created a new library for the community. \n\nIt's called \"Gomailer\" and it's a simple library to send emails using the SMTP protocol.\n\nActually it's wrapper for the \"net\/smtp\" package but it's very easy to use and it's very easy to integrate with your project.\n\nI hope you like it and if you have any suggestions or improvements please let me know.\n\n&#x200B;\n\npackage github link: [https:\/\/github.com\/veyselaksin\/gomailer](https:\/\/github.com\/veyselaksin\/gomailer)","upvote_ratio":0.83,"created_utc":1676815218.0},{"title":"Can someone explain the given function to me?","author":"luzlsec14","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1175ttn\/can_someone_explain_the_given_function_to_me\/","text":"    func timeoutMyFunc(timeout time.Duration, myFunc func()) bool {\n    \tfinished := make(chan bool)\n    \tgo func() {\n    \t\tmyFunc()\n    \t\tfinished <- true\n    \t}()\n    \tselect {\n    \tcase <-time.After(timeout):\n    \t\treturn false\n    \tcase <-finished:\n    \t\treturn true\n    \t}\n    }\n\nSo this function basically returns a boolean value which would be true if the function was executed in the mentioned time and false otherwise. But I can't understand how this code works or to put it in a better way can't visualize how this code works.","upvote_ratio":0.44,"created_utc":1676897343.0},{"title":"Package for Data Fetching for SQL","author":"Longjumping_Table_73","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11715kv\/package_for_data_fetching_for_sql\/","text":"I built a package for fetching and manipulating SQL (MS-SQL) data. This isn't finished yet but I am so eager to hear from you guys. I'm just new to Golang that's why I would love to hear your feedback.\n\nIt's working but it's not finished yet.\n\nGithub url: [Package](https:\/\/github.com\/Roldification\/horde)","upvote_ratio":0.67,"created_utc":1676880069.0},{"title":"I want to participate in a golang open source projects. Have any suggestions or recommendations?","author":"Brilliant-Adagio-137","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1170phw\/i_want_to_participate_in_a_golang_open_source\/","text":"I have been using golang at work for 3 years, but I am new to Open Source Projects. I want to find and join some interesting open source project to contribute code. Do you have any good items to recommend? How can I find that? How to contact with them? \n\nThanks.","upvote_ratio":0.56,"created_utc":1676878322.0},{"title":"Golang color terminal output using fatih\/color","author":"sarusethi","url":"https:\/\/thedevelopercafe.com\/articles\/golang-color-terminal-output-with-fatih-color-a0fa069e461d","text":"","upvote_ratio":0.4,"created_utc":1676877705.0},{"title":"Golang and React. Should I use it.","author":"0dn4cipj","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11760kp\/golang_and_react_should_i_use_it\/","text":"There is something that I don't understand. If I use golang as a webserver to serve React pages should I also use nodejs ? React is a framework made to work with a backend using V8 engine. Golang is not a javascript engine, so ?","upvote_ratio":0.36,"created_utc":1676897920.0},{"title":"Exercises to Practice!","author":"NoLion5101","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1176om5\/exercises_to_practice\/","text":"Hello Folks- I am new to programming and I have to learn Golang as my per my organiztion need - As I learn using the udemy course I am trying to find some good websites to practice what I learn. Please suggest  ?","upvote_ratio":0.17,"created_utc":1676899788.0},{"title":"Learning content for Svelte + Go","author":"Dry_Revenue_7526","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116o4fb\/learning_content_for_svelte_go\/","text":"I am interested to build my side project using Go, Gin and Svelte. Please refer some good learning course or material for Gin and Svelte based on your experience. Thanks","upvote_ratio":0.58,"created_utc":1676841172.0},{"title":"Hey what are some best practices for coding in Go professionally, file structures, struct locations all that jazz.","author":"Themotionalman","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116bt2s\/hey_what_are_some_best_practices_for_coding_in_go\/","text":"Hey so while I know how to code in go, I have only done it as a hobby I am considering starting a business and I would like to use Go. Currently I work at a company using C# they\u2019ve got a weird folder structure for services DTO classes and interface and all that. I like the structure because we know everyone respects it. \n\nFor the company I am building I\u2019d like a structure like that as well that other people can follow. \n\nI am calling on people who code in Go for companies to please share their insight. Might be useful for some other people too. Thanks in advance","upvote_ratio":0.65,"created_utc":1676816716.0},{"title":"Fitter CLI - Chromium + Docker support released","author":"PyxRu","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116unre\/fitter_cli_chromium_docker_support_released\/","text":"Hello, everyone last time I did the post about the Fitter, right now I have a huge update about the project.\n\nProject: [https:\/\/github.com\/PxyUp\/fitter](https:\/\/github.com\/PxyUp\/fitter)\n\nUpdates:\n\n1. Chromium support: it is means now we can scrape site with frontend rendering\n2. Docker support: same as previous but more flexible and not required install binary\n3. Binary released for different platforms\n4. XPath parsing supported\n5. CLI can copy in clipboard and provide pretty results\n6. Add limiters for avoid DDOS block and memory consumptions\n\n&#x200B;\n\nCLI configuration examples for play: [https:\/\/github.com\/PxyUp\/fitter\/tree\/master\/examples\/cli](https:\/\/github.com\/PxyUp\/fitter\/tree\/master\/examples\/cli)\n\nLast time i got feedback just about json configuration, let me answer: yaml also supported but for me provide examples in json just much faster than in yaml.\n\nRoadmap:\n\n1. Fitter should parse with new different triggers like: Webhook\/Queue\n2. Website FAQ + playground: for test and run configuration\n3. Cypress support + Docker: for some sites need authorization or etc, we will have scenarios which will be pre-runed during parsing\n4. Add more notification method\n5. Improve validation:\n   1. Config validation - for be able know issue during setup\n   2. Result validation - for be able omit result without mandatory fields\n   3. Config build - web app which will simplify building of configuration\n\nWaiting for your feedback!","upvote_ratio":0.6,"created_utc":1676858018.0},{"title":"Resources for getting into cloud computing?","author":"recovery_anchor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1169trb\/resources_for_getting_into_cloud_computing\/","text":"Hello!\n\nI am reaching out because I see cloud computing is a huge use-case for go. I am currently pretty good at building out API's and have a pretty solid one rolling. I need to dip my toes in rpc but as far as rest goes I am comfortable in the API world with http\/net.  \n\n\nLong story short, I wouldn't even know where to begin to get into cloud computing. Anyone have any good leads \/ resources they'd like to share?","upvote_ratio":0.76,"created_utc":1676811897.0},{"title":"YAML + JQ Based End-to-End API Testing tool","author":"abhimanyu003","url":"https:\/\/github.com\/abhimanyu003\/probe","text":"","upvote_ratio":0.62,"created_utc":1676824215.0},{"title":"Golang code to get the top 10 most viewed article names from REST API call","author":"radhar4","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116wmds\/golang_code_to_get_the_top_10_most_viewed_article\/","text":"Looking for code in golang for this following query..\n\nWhen you call a REST Api, you get  1000s of articles \\[{article name, number of views}\\] as json object response. Print the top 10 most viewed article names from the result.\n\nThis was asked in an interview and I want to know how to efficiently code for this in golang.","upvote_ratio":0.36,"created_utc":1676864009.0},{"title":"json.Decoder, ways to skip first tokens.","author":"TermoChtan","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116og02\/jsondecoder_ways_to_skip_first_tokens\/","text":"Is there any other way to skip first tokens in complex JSON?\n\nPresented way seems too rough to me, and I believe it may break with ease with slightest changes to JSON format.\n\nI want to use json.Decoder because I have lots of \u201cperson\u201d in my JSON, and it\u2019s better I don\u2019t load them all to memory at once with json.Unmarshal.\n\nGo playground link: [https:\/\/go.dev\/play\/p\/VohAR5FmWMW](https:\/\/go.dev\/play\/p\/VohAR5FmWMW)\n\nSource code (same as in the playground):\n\n    package main\n    \n    import (\n    \t\"encoding\/json\"\n    \t\"fmt\"\n    \t\"strings\"\n    )\n    \n    const jsonStr = `\n    {\n      \"accounting\": [\n        {\n          \"firstName\": \"John\",\n          \"lastName\": \"Doe\",\n          \"age\": 23\n        },\n        {\n          \"firstName\": \"Mary\",\n          \"lastName\": \"Smith\",\n          \"age\": 32\n        },\n        {\n          \"firstName\": \"Bob\",\n          \"lastName\": \"Johnson\",\n          \"age\": 72\n        },\n        {\n          \"firstName\": \"Charles\",\n          \"lastName\": \"Williams\",\n          \"age\": 27\n        }\n      ]\n    }`\n    \n    type person struct {\n    \tFirstName string `json:\"firstName\"`\n    \tLastName  string `json:\"lastName\"`\n    \tAge       int    `json:\"age\"`\n    }\n    \n    func readFirstTokens(dec *json.Decoder) error {\n    \ttoken, err := dec.Token()\n    \tif err != nil {\n    \t\tpanic(err)\n    \t}\n    \tfmt.Println(\"token:\", token)\n    \n    \ttoken, err = dec.Token()\n    \tif err != nil {\n    \t\tpanic(err)\n    \t}\n    \tfmt.Println(\"token:\", token)\n    \n    \ttoken, err = dec.Token()\n    \tif err != nil {\n    \t\tpanic(err)\n    \t}\n    \tfmt.Println(\"token:\", token)\n    \n    \treturn nil\n    }\n    \n    func main() {\n    \treader := strings.NewReader(jsonStr)\n    \tdecoder := json.NewDecoder(reader)\n    \n    \t\/\/ Is there any other way, better way, to skip the first tokens?\n    \terr := readFirstTokens(decoder)\n    \tif err != nil {\n    \t\tpanic(err)\n    \t}\n    \n    \tvar persons []person\n    \tfor decoder.More() {\n    \t\tvar p person\n    \t\terr := decoder.Decode(&p)\n    \t\tif err != nil {\n    \t\t\tpanic(err)\n    \t\t}\n    \t\tpersons = append(persons, p)\n    \t}\n    \n    \tfmt.Println(\"persons:\", persons)\n    }","upvote_ratio":0.54,"created_utc":1676841991.0},{"title":"The Future of Debugging with AI and Machine Learning","author":"Repulsive_Pop_6344","url":"https:\/\/omardevblog.toolsandapps4us.site\/the-future-of-debugging-with-ai-and-machine-learning","text":"","upvote_ratio":0.33,"created_utc":1676870241.0},{"title":"Learning Go by building a link saver","author":"Left-Independent9874","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115lv6h\/learning_go_by_building_a_link_saver\/","text":"[https:\/\/www.bookmarkbucket.com\/](https:\/\/www.bookmarkbucket.com\/)\n\n&#x200B;\n\nBuilt a simple link saver as a way of learning Go\n\nEDIT: Github repo\n\n https:\/\/github.com\/kwandapchumba\/cloud-bookmark-manager\n\nMy code is garbage so I don't mind feedback.","upvote_ratio":0.92,"created_utc":1676745149.0},{"title":"What was your greatest struggle when learning Go?","author":"ChristophBerger","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115fnvo\/what_was_your_greatest_struggle_when_learning_go\/","text":"Hi fellow Gophers,\n\nI'd like to learn more about what people struggle with when learning Go.\n\nWhen you think back to the time you learned Go, what was the most difficult part to learn?\n\nWas it some aspect of the language, or something about the toolchain? Or the ecosystem?\n\nHow did you finally master to wrap your brains around that particular detail?","upvote_ratio":0.93,"created_utc":1676727952.0},{"title":"C# vs Rust vs Go. A performance benchmarking in Kubernetes","author":"rudrmuu","url":"https:\/\/medium.com\/@shyamsundarb\/c-vs-rust-vs-go-a-performance-benchmarking-in-kubernetes-c303b67b84b5","text":"","upvote_ratio":0.48,"created_utc":1676834729.0},{"title":"Cyclic generics?","author":"mark-hartmann","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11660cn\/cyclic_generics\/","text":"I am currently playing around with generics and trying to implement the following \"design\" (if you can call it that):\n\n    type Foo struct {\n        NewBar func() Bar\n    }\n    \n    type Bar interface {\n        GetFoo() Foo\n    }\n\nWhereas I would like to replace Foo and Bar with generic types. Is that possible? I have already tried a few things, but always fail due to the fact that I get into a cycle of generic-ization:\n\n    \/\/ Foo needs to provide Bar as type, Bar needs Foo as type and so on\n    type Foo[T Bar[?]] struct {\n        New func() T\n    }\n    \n    type Bar[T Foo[?]] interface {\n        GetFoo() T\n    }\n\nI don't have a concrete and\/or interesting use-case for this, but I find it interesting if a structure like that would be possible, since go has some interesting takes on generics.","upvote_ratio":0.64,"created_utc":1676797744.0},{"title":"eCapture: capture HTTPS traffic without CA certificates on Android\/Linux using Golang.","author":"Opposite_Listen860","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115ye49\/ecapture_capture_https_traffic_without_ca\/","text":"# Foreword\n\nCapturing HTTPS packets on Android is getting tricky these days. There are too many things we need to do before we start capturing, like setting certificates, proxies, and hooks, which the APP itself may detect. Is there a better way to solve this problem?\n\nThe answer is YES. [eCapture for Android](https:\/\/ecapture.cc) can help you capture HTTPS packets on Android without the trivial settings. and also support Linux Kernel.\n\n# eCapture Introduction\n\neCapture is a tool for capturing HTTPS plaintext packets without any CA certificate based on eBPF and requires root privileges. And pcapng format is also supported.\n\n![](https:\/\/image.cnxct.com\/2022\/10\/ecapture.cc_en.png)\n\n\nIn early 2022, I started working on [eCapture](https:\/\/www.cnxct.com\/what-is-ecapture\/), which is now over 5600 stars.\n\neCapture is based on eBPF, so the minimum kernel version it requires is 4.18 on X86\\_64\\\\ARM64 arch Linux, and 5.5 on ARM64 Android(Linux). The lastest version is v0.4.11\n\n![](https:\/\/image.cnxct.com\/2023\/02\/gojue_ecapture_releases_tag_v0.4.11.png)\n\n# Demo Video\n\nDownload the release, and run with the following command\n\n    .\/ecapture tls -w ecapture.pcapng\n\nThe envs in following vedio: Ubuntu 21.04 \/ Android 5.5 (Pixel 6)\n\n[https:\/\/youtu.be\/GTsm1d29FSQ](https:\/\/youtu.be\/GTsm1d29FSQ)\n\n## Features\n\neCapture supports capturing tls, bash, mysqld, postgres, etc. In this introduction, we will focus on capturing plaintext in `HTTPS\/TLS`.\n\n## Capture encrypted communication plaintext with --tls module\n\n`tls` supports openssl, gnutls, nspr\/nss, boringssl and so on. The only difference is that pcapng module only supports boringssl on Android.\n\n# How to use eCapture\n\n## Environment\n\n1. Kernel version: Linux\/Android x86\\_64 kernel >= 4.18, Linux\/Android aarch64 kernel >= 5.5\n2. BPF supported, BTF for optional\n3. Root privileges\n\n## Version Choice\n\nBPF [CO-RE](https:\/\/facebookmicrosites.github.io\/bpf\/blog\/2020\/02\/19\/bpf-portability-and-co-re.html) is a feature for eBPF program running across different kernel versions with BTF. `CONFIG_DEBUG_INFO_BTF=y` means BTF is supported while `n` is not. Check this config by the following command:\n\n    cfc4n@vm-server:~$# cat \/boot\/config-`uname -r` | grep CONFIG_DEBUG_INFO_BTF\n    \n    CONFIG_DEBUG_INFO_BTF=y\n\nOn Android, the config is gzip compressed. Use `zcat \/proc\/config.gz` to check instead.\n\nA CO-RE supported ELF is released by default, and also a non CO-RE version with kernel 5.5 on Android. Check the version by command `ecapture -v`\n\n    # no CO-RE\n    eCapture version:\tlinux_aarch64:0.4.2-20220906-fb34467:5.4.0-104-generic\n    # CO-RE\n    eCapture version:\tlinux_aarch64:0.4.2-20220906-fb34467:[CORE]\n\nIf the version does not meet your needs, you can compile it yourself. For the steps, see the end of the article.\n\n## Global flags introduction\n\n    root@vm-server:\/home\/cfc4n\/# ecapture -h\n    \n    --hex[=false] print byte strings as hex encoded strings\n    \n    -l, --log-file=\"\" -l save the packets to file\n    \n    -p, --pid=0 if pid is 0 then we target all pids\n    \n    -u, --uid=0 if uid is 0 then we target all users\n\n1. `--hex` Stdout with hex encoding, useful for non-ASCII output\n2. `-l, --log-file=` File path to save results\n3. `-p, --pid=0` The target process to capture, the default is 0, which captures all processes\n4. `-u, --uid=0` The target user id to capture, the default is 0, which captures all user ids\n\n## Module flags introduction\n\n    root@vm-server:\/home\/cfc4n\/project\/ssldump# bin\/ecapture tls -h\n    \n    OPTIONS:\n    \n    --curl=\"\" curl or wget file path, use to dectet openssl.so path, default:\/usr\/bin\/curl\n    \n    --firefox=\"\" firefox file path, default: \/usr\/lib\/firefox\/firefox.\n    \n    --gnutls=\"\" libgnutls.so file path, will automatically find it from curl default.\n    \n    --gobin=\"\" path to binary built with Go toolchain.\n    \n    -h, --help[=false] help for tls\n    \n    -i, --ifname=\"\" (TC Classifier) Interface name on which the probe will be attached.\n    \n    --libssl=\"\" libssl.so file path, will automatically find it from curl default.\n    \n    --nspr=\"\" libnspr44.so file path, will automatically find it from curl default.\n    \n    --port=443 port number to capture, default:443.\n    \n    --pthread=\"\" libpthread.so file path, use to hook connect to capture socket FD.will automatically find it from curl.\n    \n    --wget=\"\" wget file path, default: \/usr\/bin\/wget.\n    \n    -w, --write=\"\" write the raw packets to file as pcapng format.\n\n## -i flag\n\n`-i` specifies the name of network interface. Defaults to `eth0` on Linux, `wlan0` on Android.\n\n## Output mode\n\nTwo output formats are supported: text and pcapng.\n\n1. As default, it outputs to stdout.\n2. `-l` global flag, specify the path to save results.\n3. `-w` only supports in tls module, save pcapng file to the path.\n\n## Library path\n\nThere are several libraries in Linux.\n\n|Library path name|Flag|Default|\n|:-|:-|:-|\n|openssl\/boringssl|\\--libssl|Linux: Auto, Android: \/apex\/com.android.conscrypt\/lib64\/libssl.so|\n|gnutls|\\--gnutls|Linux: search automatically, Android: pcapng module is unsupported|\n|nspr\/nss|\\-nspr|Linux: search automatically, Android: pcapng module is unsupported|\n\n## Text mode\n\nUse `-l` or without `-w` flag will activate this mode\n\n1. Support openssl, boringssl, gnutls, nspr\/nss, and some other TLS encryption libraries\n2. Support DTLS, TLS1.0 to TLS1.3\n3. Support use `-p`, `-u`, and other global flags to filter\n\n## pcapng mode\n\nActivate this mode by setting `-w` and use `-i` to specify the network interface. Defaults to `eth0` on Linux, `wlan0` on Android.\n\nSupport TLS 1.1\/1.2\/1.3 over openssl and boringssl.\n\n## Library path & flag\n\nIn Linux, the library paths and flags are supported, while some are not in Android due to the kernel version and arch.\n\n## Flag support for different modes\n\n`-p`, `-u` is not supported for pcapng mode, which is implemented by eBPF TC.\n\n![](https:\/\/www.cnxct.com\/wp-content\/uploads\/2022\/09\/how-ecapture-works.png)\n\n|mode|\\-p|\\-u|\\--libsso|\\--port|\n|:-|:-|:-|:-|:-|\n|text|\u2705|\u2705|\u2705|\u2705|\n|pcapng|\u274c|\u274c|\u2705|\u2705|\n\n## Library & protocol support for diffrent modes\n\n|mode|openssl(Library)|boringssl(Library)|TLS 1.0\/1.1\/1.2(protocol)|TLS 1.3(protocol)|\n|:-|:-|:-|:-|:-|\n|text|\u2705|\u2705|\u2705|\u2705|\n|pcapng|\u2705|\u2705|\u2705|\u2705|\n\nFor now, pcapng mode was also support TLS 1.3.\n\n## Use with tcpdump\n\neCapture implements the feature of saving a pcapng file by eBPF TC, and supports TLS Master Secret Key capturing by eBPF Uprobe. Also, [gopacket's DSB feature](https:\/\/github.com\/google\/gopacket\/pull\/1042) is supported, based on [Decryption Secrets Block (DSB)](https:\/\/github.com\/pcapng\/pcapng\/pull\/54)\n\nYou can use eCapture to get the master secrets, tcpdump to get the packets, and Wireshark to customize the key.\n\n![](https:\/\/image.cnxct.com\/2022\/09\/ecapture-wireshark-scaled.jpg)\n\n## Capture the traffic\n\nsee `tcpdump --help`\n\n## Capture the key\n\nUse eCapture with either text or pcapng mode, and the TLS master secret key will be recorded in `ecapture_masterkey.log`\n\n## Get the plaintext\n\nOpen the traffic file with Wireshark, set the master key, and plaintext will be there.\n\n    Wireshark` --> `Preferences` --> `Protocols` --> `TLS` --> `(Pre)-Master-Secret log filename\n\n![](https:\/\/www.cnxct.com\/wp-content\/uploads\/2022\/09\/wireshark-master-secrets.jpg)\n\n## Flags\n\n## Specify the path\n\n## Default\n\nOn Android, Google uses the boringssl, which is the wrapper of the C++ language on the basis of `libssl`. The path is `\/apex\/com.android.conscrypt\/lib64\/libssl.so` as default.\n\n## App library path\n\nUse `lsof -p {APP PID}|grep libssl` to get the path of the APP's library path. Use `--libssl` to specify the path if it is not a default path.\n\n# Advanced usage\n\nIf the APP uses a custom SSL library, you can modify eCapture to implement it.\n\n## Function name & Offset\n\nFirstly, check the function name or symbol table address of the HOOK function.\n\n## Without source code\n\nUse IDA or other static\/dynamic analysis software to get the offset of SSL Write, and fill the configuration in `probe_openssl.go`.\n\n    {\n    \n    Section: \"uprobe\/SSL_write\",\n    \n    EbpfFuncName: \"probe_entry_SSL_write\",\n    \n    AttachToFuncName: \"SSL_write\",\n    \n    UprobeOffset: 0xFFFF00, \/\/ TODO\n    \n    BinaryPath: binaryPath,\n    \n    },\n\n## offset with automatically calc\n\nIf you have the source code, read the code and get the function name or the symbol table address. For the reading of member properties of a structure, use `offsetof` macro to get it automatically.\n\nfor example, Generate offsets for openssl 3.0 and boringssl\n\n    bash utils\/openssl_offset_3.0.sh\n    bash utils\/boringssl_offset_1.1.1.sh\n\n![](https:\/\/www.cnxct.com\/wp-content\/uploads\/2022\/09\/goland-ecapture-1.jpg)\n\n![](https:\/\/www.cnxct.com\/wp-content\/uploads\/2022\/09\/goland-ecapture-2.jpg)\n\n## Parameters to extract\n\nFor parameters, you need to confirm the parameter type of the HOOK function in order to confirm the reading method. You can refer to the implementation of the `SSL_write` function in `kern\/openssl_kern.c`\n\n## Compile\n\n## ARM64 Linux\n\nFor convenience, you can get an ARM64 environment in some cloud services like Tencent Cloud. For example, in `ubuntu 20.04 arm64`\n\n    ubuntu@VM-0-5-ubuntu:~$sudo apt-get update\n    \n    ubuntu@VM-0-5-ubuntu:~$sudo apt-get install --yes wget git golang build-essential pkgconf libelf-dev llvm-12 clang-12 linux-tools-generic linux-tools-common\n    \n    ubuntu@VM-0-5-ubuntu:~$wget https:\/\/golang.google.cn\/dl\/go1.18.linux-arm64.tar.gz\n    \n    ubuntu@VM-0-5-ubuntu:~$sudo rm -rf \/usr\/local\/go && sudo tar -C \/usr\/local -xzf go1.18.linux-arm64.tar.gz\n    \n    ubuntu@VM-0-5-ubuntu:~$for tool in \"clang\" \"llc\" \"llvm-strip\"\n    \n    do\n    \n    sudo rm -f \/usr\/bin\/$tool\n    \n    sudo ln -s \/usr\/bin\/$tool-12 \/usr\/bin\/$tool\n    \n    done\n    \n    ubuntu@VM-0-5-ubuntu:~$export GOPROXY=https:\/\/goproxy.cn\n    \n    ubuntu@VM-0-5-ubuntu:~$export PATH=$PATH:\/usr\/local\/go\/bin\n\n## Options\n\n1. `ANDROID=1 make` compile with CORE\n2. `ANDROID=1 make nocore` compile with kernel version related\n\n# Contributing\nSee CONTRIBUTING for details on submitting patches and the contribution workflow.\n\nGithub: https:\/\/github.com\/gojue\/ecapture\n\nHomepage: https:\/\/ecapture.cc","upvote_ratio":0.66,"created_utc":1676771585.0},{"title":"Google\u2019s Wire: Automated Dependency Injection in Go","author":"SungaNelso","url":"https:\/\/nelsonparente.medium.com\/googles-wire-automated-dependency-injection-in-go-4e98864c3dd5","text":"","upvote_ratio":0.72,"created_utc":1676739975.0},{"title":"Battle Of The Backends: Rust vs. Go vs. C# vs. Kotlin","author":"jakepo2","url":"https:\/\/www.inovex.de\/de\/blog\/rust-vs-go-vs-c-vs-kotlin\/","text":"","upvote_ratio":0.37,"created_utc":1676847321.0},{"title":"Graceful Shutdown","author":"eightnoteight","url":"https:\/\/blog.eightnoteight.dev\/p\/graceful-shutdown","text":"","upvote_ratio":0.25,"created_utc":1676823985.0},{"title":"Golang vs python for AI","author":"ImplementSquare1691","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/116imz6\/golang_vs_python_for_ai\/","text":"Why people use python for AI and not golang?","upvote_ratio":0.29,"created_utc":1676827735.0},{"title":"Goyacc vs Nex?","author":"CosmicalPanda","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115zxxd\/goyacc_vs_nex\/","text":"I'm taking compilers this semester for uni and I have to research how to make a lexer and parser for Golang. From what I understand, goyacc has a built in lexer implementation.\n\nI want to know the difference between using Nex and using Goyacc and which one do you recommend. thanks :)","upvote_ratio":0.63,"created_utc":1676776006.0},{"title":"plugin was built with a different version of package k8s.io\/kube-openapi\/pkg\/internal\/third_party\/go-json-experiment\/json\"","author":"zack766645","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1165g3s\/plugin_was_built_with_a_different_version_of\/","text":"Hey, I'm working on a Opensource project.  And we recently tired upgrading our project to Go 1.20 .\nOnce we updated it we starting facing the above error. \nI have tried different ways we can resolve this issue.\nFollowed this blog (https:\/\/alperkose.medium.com\/things-to-avoid-while-using-golang-plugins-f34c0a636e8)which has some of the common problems with plugins .\n\nNone of the solution is working. Can anyone please help me with this. \nI have also tried other ways like adding `-trimpath` flag.\n\nPS: This issue is only seen after upgrading to Go 1.20 \n... Go 1.19 works fine.","upvote_ratio":0.4,"created_utc":1676795475.0},{"title":"HTTP client using multiple proxies","author":"Any-Bread2113","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115vu73\/http_client_using_multiple_proxies\/","text":"Most similar projects I see create a local proxy server which thens forwards all traffic to a single proxy.\n\nWhat I am really struggling with is how to implement a way in  >=2 proxies can be used like so:\n\n    client -> proxy1 -> proxy2 -> destination\n    \n    \/\/current code with only one proxy\n    package main\n    \n    import (\n    \t\"io\"\n    \t\"log\"\n    \t\"net\/http\"\n    \t\"net\/url\"\n    )\n    \n    type proxy struct {\n    }\n    \n    func (p *proxy) ServeHTTP(wr http.ResponseWriter, req *http.Request) {\n    \tlog.Println(req.RemoteAddr, \" \", req.Method, \" \", req.URL)\n    \n    \tproxy := http.ProxyURL(&url.URL{\n    \t\tScheme: \"https\",\n    \t\tHost:   \"34.170.89.64:80\",\n    \t})\n    \n    \tclient := &http.Client{\n    \t\tTransport: &http.Transport{\n    \t\t\tProxy: proxy,\n    \t\t},\n    \t}\n    \n    \t\/\/http:\/\/golang.org\/src\/pkg\/net\/http\/client.go\n    \treq.RequestURI = \"\"\n    \n    \tresp, err := client.Do(req)\n    \tif err != nil {\n    \t\thttp.Error(wr, \"Server Error\", http.StatusInternalServerError)\n    \t\tlog.Fatal(\"ServeHTTP:\", err)\n    \t}\n    \tdefer resp.Body.Close()\n    \n    \tlog.Println(req.RemoteAddr, \" \", resp.Status)\n    \n    \tcopyHeader(wr.Header(), resp.Header)\n    \twr.WriteHeader(resp.StatusCode)\n    \tio.Copy(wr, resp.Body)\n    }\n    \n    func main() {\n    \tvar addr = \"127.0.0.1:8080\"\n    \thandler := &proxy{}\n    \n    \tif err := http.ListenAndServe(*addr, handler); err != nil {\n    \t\tlog.Fatal(\"ListenAndServe:\", err)\n    \t}\n    }\n\nMy understanding is that I will need to use the HTTP CONNECT method to forward the connection to the second proxy server and subsequently the same for the others? I am just not sure how to do this in Go, have been trying to find a solution. Any help would be greatly appreciated!","upvote_ratio":0.63,"created_utc":1676764199.0},{"title":"New to GO, what am I doing wrong with imports?","author":"jhkj897g987dfh2","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115yqap\/new_to_go_what_am_i_doing_wrong_with_imports\/","text":"So, I am new to Go and I am obviously missing something about how packages are handled in Go. I have my main package and I want to have a struct and functions in a separate file and then import them for use in my main.go. I have the import working but when I go to instantiate the struct I get an error. \n\nSo, I am doing something like this in my main.go file. \n```\nperson := person.Person{\n\t\tname: \"Bob,\n\t\tage: 8,\n\t}\n```\nthis person.go file for example is in the \/person sub folder below my main.go file. The package name is person and the struct is Person. The error I get is:\n\n```\nunknown field name in struct literal of type\n```\nBoth fields have the same error. \n\nWhats the correct way to instantiate a copy of a struct from a separate file? I am imaging this works something like where you would have a class and associated getters and setters, methods etc. I know Go doesn't have classes per se but the structure I mentioned makes sense to me. Unless there's a better way to do this? Thank you","upvote_ratio":0.57,"created_utc":1676772528.0},{"title":"Learning resources on structs and interfaces","author":"hossein1376","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115hvhj\/learning_resources_on_structs_and_interfaces\/","text":"I've been using Go professionally for a while now and I'm absolutely loving it. There is only one issue. Though I know the basics of the structs and interfaces, I can't recognize exactly where and how to use them. \n\nIs there any books\/courses\/blogs ... that explains them without getting too abstract or advanced? Thanks","upvote_ratio":0.73,"created_utc":1676734337.0},{"title":"Scale of expertise","author":"zeckk89","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115kp63\/scale_of_expertise\/","text":"Hello,\nAs I am applying for jobs centered around Go I\u2019m getting asked what my level of expertise is, and I was wondering what milestones would people classify as have a beginner , intermediate, advanced , and expert level of expertise?","upvote_ratio":0.73,"created_utc":1676742024.0},{"title":"Gorm question, multiple joins on the same table.","author":"moijk","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115uw8g\/gorm_question_multiple_joins_on_the_same_table\/","text":"Trying towrap my head around this orm. I've used others in other languages and even written my own in php, and they usually have their own quirks when you go outside of the basic queries. \n\nBut I'm just trying to wrap my head around how I would build a query like this? So I would hope some have a pointer or two towards a possible solution on how to incorporate it?   \n  \n\n>**select**   \n>  \n>r.\\*,  \n>  \n>data1\\_header.name **as** header1,  \n>  \n>data1\\_data.**data** **as** data1,  \n>  \n>data2\\_header.name **as** header2,  \n>  \n>data2\\_data.**data** **as** data2  \n>  \n>**from**   \n>  \n>records r  \n>  \n>**inner** **join** record\\_details data1 **on** data1.record\\_id = r.id **and** data1.header\\_id = 1 **and** data1.deleted\\_at **is** **null**  \n>  \n>**inner** **join** headers data1\\_header **on** data1.header\\_id = data1\\_header.id **and** data1\\_header.deleted\\_at **is** **null**  \n>  \n>**inner** **join** header\\_data data1\\_data **on** data1\\_data.header\\_id = data1.id **and** data1\\_data.deleted\\_at **is** **null**  \n>  \n>**inner** **join** record\\_details data2 **on** data2.record\\_id = r.id **and** data2.header\\_id = 2 **and** data2.deleted\\_at **is** **null**  \n>  \n>**inner** **join** headers data2\\_header **on** data2.header\\_id = data2\\_header.id **and** data2\\_header.deleted\\_at **is** **null**  \n>  \n>**inner** **join** header\\_data data2\\_data **on** data2\\_data.header\\_id = data2.id **and** data2\\_data.deleted\\_at **is** **null**","upvote_ratio":0.56,"created_utc":1676761636.0},{"title":"Go Blog: All your comparable types","author":"eliben","url":"https:\/\/go.dev\/blog\/comparable","text":"","upvote_ratio":0.99,"created_utc":1676656006.0},{"title":"Advice for making this code more idiomatic Go","author":"thedjotaku","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115ucch\/advice_for_making_this_code_more_idiomatic_go\/","text":"I ported this code ([https:\/\/github.com\/djotaku\/dreamhost\\_dns\\_go](https:\/\/github.com\/djotaku\/dreamhost_dns_go)) from a Python script I wrote that does the same thing. It's partly cleaner than the Python code since I knew where my endpoint was before starting. But I'm sure it also looks like Go code written by a Pythonista.\n\nOne thing I was thinking while on a run after writing this code that might make it more Go-ish:\n\nIf you look at the version represented by this Github URL that's a snapshot of the code right now:\n\n[https:\/\/github.com\/djotaku\/dreamhost\\_dns\\_go\/blob\/06eb174a823962b8e9ccc6f35b37e1c82ed64900\/main.go](https:\/\/github.com\/djotaku\/dreamhost_dns_go\/blob\/06eb174a823962b8e9ccc6f35b37e1c82ed64900\/main.go)\n\nLines 157-169 - I feel like instead of iterating twice, I could probably combine those. Part of the reason I did this like this was that in the original Python code, 157-161 is just a list comprehension. But I also imagine this is a good place for Go routines (which I will admit I have no idea how to use at the moment) where I would do all the the domains \"at once\". Or is that a misunderstanding how how Go routines would work?\n\nAnother place where I may be complicating things in Go is my \"contains\" function which is an implementation of the python code if x in list which is a built-in.\n\nThanks!\n\nAfter implementing some of the advice from \/u\/thabc , here's what the code looks like:\n\n[https:\/\/github.com\/djotaku\/dreamhost\\_dns\\_go\/blob\/44c64d179b35772ceb5c493b19d197b001c9fa22\/main.go](https:\/\/github.com\/djotaku\/dreamhost_dns_go\/blob\/44c64d179b35772ceb5c493b19d197b001c9fa22\/main.go)\n\nFor one thing, go fmt has been run on it! ;)\n\nStill have to implement some of what \/u\/WolfMcPhearson told me about","upvote_ratio":0.33,"created_utc":1676760197.0},{"title":"Go is 17 times more sustainable than Python; In depth, side by side comparison","author":"iluvgolang","url":"https:\/\/sustainful.tech\/blog\/golang-is-17-times-more-sustainable-than-python-in-depth-side-by-side-comparison\/","text":"","upvote_ratio":0.49,"created_utc":1676739963.0},{"title":"Buffered Channels","author":"NotPeopleFriendly","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115ssyp\/buffered_channels\/","text":"There was a post earlier in this subreddit concerning what areas of Go proved challenging and I dog piled onto the concurrency topic (i.e. the concurrency model in go is very different from other languages I've used).\n\nAnyway, someone poked me to provide further details and I just blindly forwarded them this article:[https:\/\/www.ardanlabs.com\/blog\/2017\/10\/the-behavior-of-channels.html#:\\~:text=A%20Buffered%20channel%20of%20size%20%3D1%20gives%20you%20a%20Delayed,of%20the%20Second%20Signal%20completes](https:\/\/www.ardanlabs.com\/blog\/2017\/10\/the-behavior-of-channels.html#:~:text=A%20Buffered%20channel%20of%20size%20%3D1%20gives%20you%20a%20Delayed,of%20the%20Second%20Signal%20completes).\n\nAnyway, as I was reading it myself (after posting the link to it) - I saw this section:\"Signal With Data - Delayed Guarantee - Buffered Channel 1\"\n\n&#x200B;\n\nI think this section is actually a bit misleading if not just outright wrong.  Specifically this bit:\n\n>This is where a Buffered channel of 1 has benefit. If everything is running at the expected pace between you and the employee, neither of you will need to wait for the other. Every time you send a piece of paper, the buffer is empty. Every time your employee reaches for more work, the buffer is full. It is a perfect symmetry of work flow.\n\n&#x200B;\n\nIsn't this actually the case of a channel buffer of size zero (i.e. the default size)?  I.E. if you create a buffer of size one - there is a potential for a \"task\" to rot in the channel?  I.E. by creating a buffer greater than zero - you are, in fact, not guaranteeing delivery?\n\nIs it possible this behaviour changed since 2017 when this article was written?  It seems like an odd oversight because a lot of the article references \"guaranteed delivery\".  \n\n\nEdit: added the following:  \nI wrote some code in the sandbox:  \n[https:\/\/go.dev\/play\/p\/AJW1GKOgy7K](https:\/\/go.dev\/play\/p\/AJW1GKOgy7K)  \n\n\nAs u\/netherwan mentioned - the section I posted is actually accurate - I think setting the size of the buffer to one just seemed arbitrary to me - since by leaving the channel buffer to zero - you get guaranteed delivery.  But, I think the author was trying to say \"there is a benefit to having a buffer of size equal to the number of workers\/consumers\/employees - to reduce the likelihood that workers\/consumers\/employees are blocked on work from the producer\/employer\"","upvote_ratio":0.29,"created_utc":1676756643.0},{"title":"Any mid sized \/ big open source code base in golang that makes use of SQL DBs?","author":"cant-find-user-name","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115hnwo\/any_mid_sized_big_open_source_code_base_in_golang\/","text":"I am very new to go, and I know the go community hates ORMs with a passion. Coming from python where Sqlalchemy made the lives of my team so much easier, I am finding it hard to adjust. When I look up code samples online, they are all very simplistic, and don't feel like they'd scale well. For example, consider an endpoint where you have to dynamically apply filters based on the parameters of the request. How do you do this in go lang? Do you construct the raw query string by appending WHERE clause to the first condition, and AND clauses to the rest of the conditions? Sure, that works, but I am not sure if that is the approach that is commonly used.\n\nI am aware of projects like sqlc where you can write queries and run code gen to get typesafe go functions, but that doesn't work for me since some of my endpoints require dynamically constructing the query (performance is not a concern for these endpoints).  I am also aware of projects like Sqlboiler. I am open to exploring ent as well, though it feels very much like magic and too far abstracted away from sql (one of the reasons I love sqlalchemy is that it feels very close to actual SQL).\n\nSo what I want are examples of non trivial code bases that don't use ORMs to communicate with SQL DBs. I want to learn the best practices of managing SQL and Go code in the same repository, and how to reduce boilerplate code as much as possible, while still being idiomatic.\n\nAny help is very appreciated, thank you.","upvote_ratio":0.5,"created_utc":1676733764.0},{"title":"Help Review My Code","author":"Optimal_Ad6484","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115h1vy\/help_review_my_code\/","text":"[Go Playground - The Go Programming Language](https:\/\/go.dev\/play\/p\/djBu4lQos_d)  \n\n\nHello everyone, this is a scheduling program similar to a WorkerPool that I implemented in Golang. The purpose of this program is to limit the number of goroutines while still allowing concurrent execution of my tasks. As a beginner in Golang, I may have overlooked some bugs in my code despite the fact that the main method runs and executes perfectly. There may be hidden bugs, such as goroutine leaks, deadlock bugs, or improper use of channels. I would appreciate it if you could help me review the code. Thank you.","upvote_ratio":0.5,"created_utc":1676732074.0},{"title":"I'm a newbie learning go, and I got error installing go VSCode tools","author":"abdelrhman177","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/115ry40\/im_a_newbie_learning_go_and_i_got_error\/","text":"**I just installed go to start learning it and I got this error that are make me angry why Erros now I didn't even started**\n\nplease help guys.\n\nthis is full vscode output:\n\n    Tools environment: GOPATH=C:\\Users\\Mohan\\go\n    Installing 7 tools at C:\\Users\\Mohan\\go\\bin in module mode.\n      gotests\n      gomodifytags\n      impl\n      goplay\n      dlv\n      staticcheck\n      gopls\n    \n    Installing github.com\/cweill\/gotests\/gotests@v1.6.0 FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v github.com\/cweill\/gotests\/gotests@v1.6.0\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: github.com\/cweill\/gotests\/gotests@v1.6.0: github.com\/cweill\/gotests\/gotests@v1.6.0: Get \\\"https:\/\/proxy.golang.org\/github.com\/cweill\/gotests\/gotests\/@v\/v1.6.0.info\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing github.com\/fatih\/gomodifytags@v1.16.0 FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v github.com\/fatih\/gomodifytags@v1.16.0\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: github.com\/fatih\/gomodifytags@v1.16.0: github.com\/fatih\/gomodifytags@v1.16.0: Get \\\"https:\/\/proxy.golang.org\/github.com\/fatih\/gomodifytags\/@v\/v1.16.0.info\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing github.com\/josharian\/impl@v1.1.0 FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v github.com\/josharian\/impl@v1.1.0\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: github.com\/josharian\/impl@v1.1.0: github.com\/josharian\/impl@v1.1.0: Get \\\"https:\/\/proxy.golang.org\/github.com\/josharian\/impl\/@v\/v1.1.0.info\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0 FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0: github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0: Get \\\"https:\/\/proxy.golang.org\/github.com\/haya14busa\/goplay\/cmd\/goplay\/@v\/v1.0.0.info\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing github.com\/go-delve\/delve\/cmd\/dlv@latest FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v github.com\/go-delve\/delve\/cmd\/dlv@latest\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: github.com\/go-delve\/delve\/cmd\/dlv@latest: module github.com\/go-delve\/delve\/cmd\/dlv: Get \\\"https:\/\/proxy.golang.org\/github.com\/go-delve\/delve\/cmd\/dlv\/@v\/list\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing honnef.co\/go\/tools\/cmd\/staticcheck@latest FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v honnef.co\/go\/tools\/cmd\/staticcheck@latest\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: honnef.co\/go\/tools\/cmd\/staticcheck@latest: module honnef.co\/go\/tools\/cmd\/staticcheck: Get \\\"https:\/\/proxy.golang.org\/honnef.co\/go\/tools\/cmd\/staticcheck\/@v\/list\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    Installing golang.org\/x\/tools\/gopls@latest FAILED\n    {\n     \"killed\": false,\n     \"code\": 1,\n     \"signal\": null,\n     \"cmd\": \"C:\\\\Program Files\\\\Go\\\\bin\\\\go.exe install -v golang.org\/x\/tools\/gopls@latest\",\n     \"stdout\": \"\",\n     \"stderr\": \"go: golang.org\/x\/tools\/gopls@latest: module golang.org\/x\/tools\/gopls: Get \\\"https:\/\/proxy.golang.org\/golang.org\/x\/tools\/gopls\/@v\/list\\\": net\/http: TLS handshake timeout\\n\"\n    }\n    \n    7 tools failed to install.\n    \n    gotests: failed to install gotests(github.com\/cweill\/gotests\/gotests@v1.6.0): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v github.com\/cweill\/gotests\/gotests@v1.6.0\n    go: github.com\/cweill\/gotests\/gotests@v1.6.0: github.com\/cweill\/gotests\/gotests@v1.6.0: Get \"https:\/\/proxy.golang.org\/github.com\/cweill\/gotests\/gotests\/@v\/v1.6.0.info\": net\/http: TLS handshake timeout\n     \n    gomodifytags: failed to install gomodifytags(github.com\/fatih\/gomodifytags@v1.16.0): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v github.com\/fatih\/gomodifytags@v1.16.0\n    go: github.com\/fatih\/gomodifytags@v1.16.0: github.com\/fatih\/gomodifytags@v1.16.0: Get \"https:\/\/proxy.golang.org\/github.com\/fatih\/gomodifytags\/@v\/v1.16.0.info\": net\/http: TLS handshake timeout\n     \n    impl: failed to install impl(github.com\/josharian\/impl@v1.1.0): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v github.com\/josharian\/impl@v1.1.0\n    go: github.com\/josharian\/impl@v1.1.0: github.com\/josharian\/impl@v1.1.0: Get \"https:\/\/proxy.golang.org\/github.com\/josharian\/impl\/@v\/v1.1.0.info\": net\/http: TLS handshake timeout\n     \n    goplay: failed to install goplay(github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0\n    go: github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0: github.com\/haya14busa\/goplay\/cmd\/goplay@v1.0.0: Get \"https:\/\/proxy.golang.org\/github.com\/haya14busa\/goplay\/cmd\/goplay\/@v\/v1.0.0.info\": net\/http: TLS handshake timeout\n     \n    dlv: failed to install dlv(github.com\/go-delve\/delve\/cmd\/dlv@latest): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v github.com\/go-delve\/delve\/cmd\/dlv@latest\n    go: github.com\/go-delve\/delve\/cmd\/dlv@latest: module github.com\/go-delve\/delve\/cmd\/dlv: Get \"https:\/\/proxy.golang.org\/github.com\/go-delve\/delve\/cmd\/dlv\/@v\/list\": net\/http: TLS handshake timeout\n     \n    staticcheck: failed to install staticcheck(honnef.co\/go\/tools\/cmd\/staticcheck@latest): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v honnef.co\/go\/tools\/cmd\/staticcheck@latest\n    go: honnef.co\/go\/tools\/cmd\/staticcheck@latest: module honnef.co\/go\/tools\/cmd\/staticcheck: Get \"https:\/\/proxy.golang.org\/honnef.co\/go\/tools\/cmd\/staticcheck\/@v\/list\": net\/http: TLS handshake timeout\n     \n    gopls: failed to install gopls(golang.org\/x\/tools\/gopls@latest): Error: Command failed: C:\\Program Files\\Go\\bin\\go.exe install -v golang.org\/x\/tools\/gopls@latest\n    go: golang.org\/x\/tools\/gopls@latest: module golang.org\/x\/tools\/gopls: Get \"https:\/\/proxy.golang.org\/golang.org\/x\/tools\/gopls\/@v\/list\": net\/http: TLS handshake timeout","upvote_ratio":0.22,"created_utc":1676755217.0},{"title":"Testing complex workflows in Go","author":"lobocv","url":"https:\/\/blog.lobocv.com\/posts\/golang_testing\/?utm_source=reddit&utm_medium=blog&utm_campaign=golang&utm_content=testing_advanced_flows","text":"","upvote_ratio":0.8,"created_utc":1676661216.0},{"title":"Performance of JSON unmarshal with and w\/o struct","author":"Confident_Position80","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114zj4f\/performance_of_json_unmarshal_with_and_wo_struct\/","text":"What are the performance implications of using fully typed structs vs. interface{} to unmarshal JSON? I get JSON response from third-party API which has 7-8 layers of nesting JSON objects and arrays. I want some of the information in the deepest layer of the JSON, and I know the structure of JSON beforehand. Should I unmarshal the JSON by writing up structs or use interface{}? Which one yields better performance? I used json2go to generate structs and it generated 17 structs!! The JSON format for reference is,\n\n&#x200B;\n\nresponse -> data -> buckets\\[\\] -> items\\[\\] -> legs\\[\\] -> origin -> the keys I want. I want some of the other keys as well from the legs\\[\\] level.","upvote_ratio":0.9,"created_utc":1676672874.0},{"title":"Trip - Elegant middlewares for HTTP clients","author":"flippeeer","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114igtk\/trip_elegant_middlewares_for_http_clients\/","text":"Hey everyone,\n\nI recently developed [Trip](https:\/\/github.com\/philippta\/trip), a small library for adding middlewares to HTTP clients.\n\nIts primary goal is to reduce \"infrastructural clutter\" from your business logic by doing it all in one place and just once, such as:  \n\n\n* Authenticating requests\n* Retrying failed requests\n* Adding idempotency key headers\n* Setting user agents (or any other HTTP header)\n\nAuthentication, retries and idempotency are particularly useful for service to service communication, like in a microservice architecture. \n\nThe way it works is fairly simple. You set it as a transport (RoundTripper) in your http.Client and it will intercept the hand-over between building the HTTP request and sending it off the network. \n\nMore details on the concepts and uses can be found in the readme.\n\nLink to GitHub: [https:\/\/github.com\/philippta\/trip](https:\/\/github.com\/philippta\/trip)\n\n  \nI'd love to hear your feedback and suggestions.","upvote_ratio":0.94,"created_utc":1676634404.0},{"title":"creating a new reader locks the file passed.","author":"sumta_kai","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11587yo\/creating_a_new_reader_locks_the_file_passed\/","text":"I created a new csv reader passing a file (multipart.File). And when I used that file to copy data to a buffer, it doesnt copy anything and the buffer is empty. Can anyone help me understand how readers work?\n\nHere's the code:\n\n csvReader := csv.NewReader(file)\n\n records, err := csvReader.ReadAll()\n\n if err != nil {  \nreturn err  \n }\n\n\/\/ post this when I try to use the file to copy to buffer\n\n buf := bytes.NewBuffer(nil)  \n \\_, err = io.Copy(buf, file)  \n if err != nil {  \nreturn err  \n }\n\n\/\/ buf is empty","upvote_ratio":0.5,"created_utc":1676699555.0},{"title":"Open Source alternative to Firebase Auth","author":"Ill-Coat1428","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114gvsh\/open_source_alternative_to_firebase_auth\/","text":"Dear community, \n\nOur team is building a SaaS product in Go. Our architecture follows a hexagonal architecture containing multiple gRPC services exposed through a single GraphQL endpoint. \n\nWe've decided to release our product as open source. As a result, we've merged all the services into a single monorepo and removed some closed-source dependencies. Our last closed-source dependency that we're trying to get rid of is Firebase Authentication. \n\nCurrently, we're using Firebase Authentication to handle our users in our cloud-based product. We have already our own auth service and GraphQL API. Nevertheless, it's still using Firebase Auth package and API under the hood. So the passwords for example are still stored and the tokens validated within Firebase. Additionally, the login on the frontend still uses the Firebase frontend library. All of that we want to replace with something open source integration into the product. One of our enterprise clients requires OpenID Connect support, making it a mandatory requirement. Therefore, our self-built or open-source alternative needs to support OpenID Connect or SAML 2.0 to keep this client happy. \n\nSince we're using Postgres in all our other services, we would like to stick with this layer for storage for our auth service as well. \n\nThats why we've been looking into the GoTrue frok from supabase ([https:\/\/github.com\/supabase\/gotrue](https:\/\/github.com\/supabase\/gotrue)) since it would meet most of the above requirements. However, the documentation states that \"GoTrue is not meant to be used as a Go library.\"   \n\n\nRunning the authentication in its own container, like a standalone GoTrue deployment, is not what we're aiming for. Since we're planning to release our product as open source, we want developers to be able to run our product in a single Docker container, without requiring a full Docker Compose or Kubernetes deployment to get started with the open-source version of our product.\n\nSo, my question here is whether **anyone has done a similar migration away from Firebase** Authentication and what you ended up using as a replacement.  \nAlternatively, if anyone knows of an **alternative to Gotrue** that is more meant to be used as a **library**, we would love to hear your suggestions. \n\nThank you very much in advance for taking the time!","upvote_ratio":0.96,"created_utc":1676630237.0},{"title":"Klient - the CLI client for Kafka, has some major updates....","author":"comrade-quinn","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114yrio\/klient_the_cli_client_for_kafka_has_some_major\/","text":"Hi, \n\nI posted recently about a new command line Kafka client I've been developing for personal and commercial use; I now have some updates to share.\n\nThanks to requests and suggestions on here, other subs and actual commercial usage, `klient` now has a completely revamped CLI and the following features:\n\n* Simple and intuitive CLI (command line interface)\n* Describe clusters by outputing information about brokers, topics and partitions\n* Create topics with default values or with specific partition counts and replication factors\n* Delete topics  \n* Read topics quickly and simply as an exclusive consumer (all messages in all partitions)  \n* Read from topics with granular control over the partition and the offset or time ranges  \n* Read from topics as part of a shared consumer group  \n* Format data read from topics so it can be readily piped into other processes, such parsers (eg: pipe `json` values into `jq` for formatting and querying purposes)\n* Write to topics interactively by following simple CLI prompts to specify the value and, an optional, key\n* Write to topics based on data read from `stdin`, such as data piped from a pre-defined file of topic values; optionally containing their associated keys\n* Authenticate anonymously or with TLS and\/or SASL (using plain or SCRAM credentials) \n* Ships as a single binary for ease of deployment and installation; even on scratch based container images (does not require `libc`)\n* Confidently backed by a solid suite of unit and integration tests\n\nAs a recap, or for those who  missed the original post, unlike the standard scripts, and many binary clients, `klient` is a native, statically-compiled, binary. It uses [segmentio\/go-kafka](https:\/\/github.com\/segmentio\/kafka-go) internally, which means `CGO` can be disabled during compilation.\n\nThis makes it very portable, especially when using `scratch`-based container images.\n\nYou can get full details in the [README](https:\/\/github.com\/comradequinn\/klient#readme) and you can download pre-built binaries for your preferred system [here](https:\/\/github.com\/comradequinn\/klient#installation) or browse the releases [here](https:\/\/github.com\/comradequinn\/klient\/releases)\n\nAs I said previously, I appreciate there's some other options out there, but I think this is a really solid, one-stop toolkit now - I hope some of you find it useful :-)","upvote_ratio":0.8,"created_utc":1676670915.0},{"title":"Ideas for self-learning Go to demonstrate competence and start using it in my team","author":"rhythmknowledge","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114ikez\/ideas_for_selflearning_go_to_demonstrate\/","text":"I'm a fullstack developer at a scale-up in which a significant part of the platform is developed in Go, however my team is JS\/TS only and that's primarily what my background and experience is (5 YoE). I would love to work more with Go in a professional capacity, both because I enjoy the language (I've played with it a bit) and because I like the career opportunities it could open up to me. I'm thinking of suggesting to my team lead that we use Go in our team more, maybe for the next microservice we build. I'm pretty sure this would be supported by the infrastructure team since we have plenty of Go services owned by other teams. And from what I can gauge, I think my team lead would be open to the idea in theory. However I feel like I first need to convince him (and myself) that I have the competence to spearhead a project like that. We get 5 days a year for personal development and I'm thinking of using those for learning Go, but in a demonstrable way that would show I've gained a sufficient level of Go expertise. Any ideas of what I could do? Maybe an online course or a personal project? What are some good resources for intermediate level Go? I know the basics from what I've done so far but I'm not yet comfortable with concurrency, for example. I realise another option would be to simply switch teams within the company but I'm not even sure how I would navigate that or if it's a possibility.","upvote_ratio":0.76,"created_utc":1676634777.0},{"title":"Advice: Idiomatic opaque pointer\/handle","author":"SmellyOldGit","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114v2lh\/advice_idiomatic_opaque_pointerhandle\/","text":"I have an app, about 20,000 LOC of Go, and for reasons, I want to split it's code into a client and a server, that communicate via an API. All, for now, running on the same machine.\n\nSo, the when the client connects to the server, the server returns (a pointer to) some sort of server session object. Thereafter, all calls from the client to the server use this as a handle.\n\nI don't want the client to know anything about inside the server's session object. What's the idiomatic way of implementing an opaque handle\/pointer in Go?","upvote_ratio":0.8,"created_utc":1676661549.0},{"title":"Chromedp | Running javascript code from go program","author":"recovery_anchor","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1152nha\/chromedp_running_javascript_code_from_go_program\/","text":"I am having trouble finding a solid way to run javascript code from chromedp. I have looked at the official examples on github as well as crawled through the official docs with no luck.\n\nCan anyone give me an example of how to run document.findElementsByClassName(\"button-primary\")\\[0\\].click() via chromedp?\n\nThank you all so much!","upvote_ratio":0.67,"created_utc":1676681492.0},{"title":"Is declaring a type definition using a collection of interfaces an antipattern?","author":"shackra","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1152ii0\/is_declaring_a_type_definition_using_a_collection\/","text":"At work, I'm working with a code base that goes back to 2017 (or earlier) and I noticed that in this library for data exist a type definition that goes like this:\n\n    type Foo []BarInterface\n\n    func (f Foo) Items() []BarInstance {\n        return f\n    }\n\nthis type definition is then used in a declaration of an interface:\n\n    type DataAdapter interface {\n        \/\/ ... Omitting the bunch of functions(!) for convenience\n        MyFunction() (Foo, error)\n    }\n\nNow, the work I'm doing right now is nothing about refactoring that code but instead ensuring that a concrete type is processing some new data types as expected, I got lost halfway navigating the code because I stumble upon the `Foo` interface wondering what was then getting used as a concrete value to continue my investigation further and was able to find it some lines above where I was:\n\n\n    \/\/ ... inside a function, somewhere in the code\n    var myItems []BarInstance\n    for _, item := range inputConcreteValueArray { \/\/ inputConcreteValueArray is a struct coming from the library we use to communicate to an important API running as a microservice\n        \/\/ ... some checks are performed with another function, omitted for brevity\n        myItems = append(myItems, (*ConcreteValueItem)(item))\n    }\n\nEventually, `myItems` is used as input argument of type `Foo` in another function that return an array of concrete types. So, you probably want to know what `ConcreteValueItem` is, well... is another type definition with a bunch of methods attached, the underlying type is a struct from the library of the aforementioned API microservice.\n\nThis is a mess, in my opinion.\n\nAnyway, my question is: is having `Foo` an antipattern? What I usually do is convert between types using a function that receives a type as argument and gives you another in the return, all of them concrete. I'm doubting my own professional experience because maybe using an interface array for a type definition may have a valid use-case in Golang, and not everything needs a function that convert between types as I've done previously during my career.","upvote_ratio":0.67,"created_utc":1676681087.0},{"title":"Go-Redis Is Now an Official Redis Client","author":"yourbasicgeek","url":"https:\/\/redis.com\/blog\/go-redis-official-redis-client\/","text":"","upvote_ratio":0.99,"created_utc":1676561553.0},{"title":"Help finding a linter that supports go http\/template files?","author":"Celestial_Blu3","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114rv19\/help_finding_a_linter_that_supports_go\/","text":"I'm basically looking for a linter or formatter I can add to my pre-commit-config file to run on html files that include go templating. I've found some that support jinja although that's not exactly the same. The only thing I have found is [this repo from sourcegraph](https:\/\/github.com\/sourcegraph\/go-template-lint) which was last updated 8 years ago, so I don't know if it is as up to date, and I'm hoping to find something slightly newer. I'm open to any suggestions, thank you. :)","upvote_ratio":0.8,"created_utc":1676653466.0},{"title":"Best practice for \"zipping\" two slices of structs in GO?","author":"Pacifist88","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/11504y3\/best_practice_for_zipping_two_slices_of_structs\/","text":"Hello, I am trying to combine 2 different slices of structs from different SF queries in my service. One is returning a slice of model.A and other slice of model.B but they share the same field. Basically I am trying to perform some kind of outer join in GO, relying on the fact I am ordering both queries by the name column.  \nThis code I wrote is working properly but I don't like very much it because it heavily relies on both of the queries being sorted and having all the names in both tables.  \nI am relatively new to Go, so please share your opinions.  \n\n\n    type A struct {\n        Name    string\n        Age     string\n        Roles   []B\n    }\n    \n    type B struct {\n        PersonName   string\n        RoleName     string\n        Date         string\n    }\n\n  \nZipper Func\n\n    \tvar i, j = 0, 0\n    \n    \tcombinedSlice := make([]model.A, len(slice_A), len(slice_B))\n    \thelperSlice := make([]model.B, 0)\n    \n    \tfor i < len(sliceA) && j < len(sliceB) {\n    \t\thelperSlice = []model.B\n    \n    \t\tfor j < len(sliceB) && sliceA[i].Name == slice_B[j].PersonName {\n    \t\t\thelperSlice = append(helperSlice, model.B{\n    \t\t\t\tRoleName:  sliceB[j].RoleName,\n    \t\t\t\tDate:      sliceB[j].Date,\n    \t\t\t})\n    \t\t\tj++\n    \t\t}\n    \t\tcombinedSlice[i] = model.A{\n    \t\t\tName:   sliceA[i].Name,\n    \t\t\tAge:    sliceA[i].Age,\n    \t\t\tRoles:  helperSlice,\n    \t\t}\n    \t\ti++\n    \t}","upvote_ratio":0.5,"created_utc":1676674469.0},{"title":"Building RestAPI with API Key authentication.","author":"nodets","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114gh7j\/building_restapi_with_api_key_authentication\/","text":"Hello fellow Gophers,\n\nI'm  new to Go, and I'm looking to develop a REST API using it. The API is  pretty simple and only has one endpoint, which is a GET request. The  purpose of the API is to allow a third-party application (known domain)  to access data that's being stored in our mobile app backend, which was  written in Node.js and Express (not by me).\n\nI  want to authenticate the endpoint using an API key and allow access  only from a known domain. My authentication code looks like this:\n\nAuthenticating  the endpoint using API Key and allowing access from known domains will  suffice, since the endpoint does not require registration or login  (that's what I assume).  Correct me If I am wrong :)\n\n    apiKey := r.Header.Get(\"Authorization\")\n    domain := r.Header.Get(\"Origin\")\n    \n    if apiKey != \"YOUR_API_KEY\" {\n        http.Error(w, \"Invalid API key\", http.StatusUnauthorized)\n        return\n    }\n    \n    if !isDomainAllowed(domain) {\n        http.Error(w, \"Domain not allowed\", http.StatusUnauthorized)\n        return\n    }\n\n The response JSON object will look like this: \n\n&#x200B;\n\n    {\n        \"username\": \"\",\n        \"email\": \"\",\n        ...\n        \"data_a\": [\n            {\n                \"D_a\": \"...\"\n            }\n        ],\n        \"data_b\": [\n            {\n                \"d_b\": \"...\"\n            },\n            {\n                \"d_c\": \"...\"\n            },\n            ...\n        ]\n    }\n\n \n\nTo generate this JSON response, I  created a function in MySQL database  that converts a big chunk of rows  into a JSON object. The database will  return the data as a JSON object,  which will be parsed to a Go struct,  marshaled, and sent back to the  client.  **Is this approach good?**\n\nProspective project structure\n\nI  want to keep the project structure minimal, so I'm planning to have a   \"controllers\" folder with a user\\_controller.go file that contains the  user  struct, routes\/handlers, and methods to fetch data from my db. The  DB client will  have a get\\_connection.go file for DB connection  initialization. Finally,  the main.go file. .\n\n    - controllers\n        - user_controller.go\n          (user struct, routes\/handler, db operation)\n    - db_client\n         - get_connection.go\n          (db connection initialization)\n    - main.go\n\n \n\nAs I am more comfortable writing queries, I do not want to use ORM, and I want to make it as minimal as possible. I will use **SQLx** and **net\/http** packages.\n\nWhat do you think of this approach? Any feedback or suggestions are welcome.","upvote_ratio":0.92,"created_utc":1676629450.0},{"title":"Best open source admin dashboard solution for Golang","author":"diazoxide","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114wox0\/best_open_source_admin_dashboard_solution_for\/","text":"What is best orm integrated admin dashboard generator library for golang?\n\n[View Poll](https:\/\/www.reddit.com\/poll\/114wox0)","upvote_ratio":0.5,"created_utc":1676665653.0},{"title":"e2e tests for go","author":"No-Mood-6919","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/114wbr2\/e2e_tests_for_go\/","text":"Hello, I have a http web server written in go (using grpc-gateway). I want to write a e2e test case for it. For eg, spin up the sever, send request (json) and receive response(json). I know in Java, we would spin up test containers and then send req\/res. Can we do something similar in Go?  I am specifically asking this because I don\u2019t want to attach tests to my http handler but rather the entire service as a black box.","upvote_ratio":0.5,"created_utc":1676664702.0},{"title":"GORM","author":"matimuszynianka","url":"https:\/\/www.reddit.com\/r\/golang\/comments\/1145zh7\/gorm\/","text":"What do you think about using GORM in rest api? any alternatives?","upvote_ratio":0.89,"created_utc":1676594138.0}]